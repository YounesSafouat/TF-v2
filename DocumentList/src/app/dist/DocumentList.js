this.DocumentList = this.DocumentList || {};
this.DocumentList.js = (function(React2, react) {
  "use strict";
  function extend_V2(renderExtensionCallback) {
    return self.extend_V2(renderExtensionCallback);
  }
  function serverless(name, options) {
    return self.serverless(name, options);
  }
  function fetch(url, options) {
    return self.hsFetch(url, options);
  }
  const hubspot = {
    extend: extend_V2,
    serverless,
    fetch
  };
  const Alert = react.createRemoteReactComponent("Alert");
  const Button = react.createRemoteReactComponent("Button", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("ButtonRow");
  react.createRemoteReactComponent("Card");
  react.createRemoteReactComponent("DescriptionList");
  react.createRemoteReactComponent("DescriptionListItem");
  const Divider = react.createRemoteReactComponent("Divider");
  const EmptyState = react.createRemoteReactComponent("EmptyState");
  react.createRemoteReactComponent("ErrorState");
  react.createRemoteReactComponent("Form");
  react.createRemoteReactComponent("Heading");
  react.createRemoteReactComponent("Image", {
    fragmentProps: ["overlay"]
  });
  const Input = react.createRemoteReactComponent("Input");
  react.createRemoteReactComponent("Link", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("TextArea");
  react.createRemoteReactComponent("Textarea");
  const LoadingSpinner = react.createRemoteReactComponent("LoadingSpinner");
  const ProgressBar = react.createRemoteReactComponent("ProgressBar");
  react.createRemoteReactComponent("Select");
  const Tag = react.createRemoteReactComponent("Tag", {
    fragmentProps: ["overlay"]
  });
  const Text = react.createRemoteReactComponent("Text");
  react.createRemoteReactComponent("Tile");
  react.createRemoteReactComponent("Stack");
  react.createRemoteReactComponent("ToggleGroup");
  react.createRemoteReactComponent("StatisticsItem");
  react.createRemoteReactComponent("Statistics");
  react.createRemoteReactComponent("StatisticsTrend");
  react.createRemoteReactComponent("Table");
  react.createRemoteReactComponent("TableFooter");
  react.createRemoteReactComponent("TableCell");
  react.createRemoteReactComponent("TableRow");
  react.createRemoteReactComponent("TableBody");
  react.createRemoteReactComponent("TableHeader");
  react.createRemoteReactComponent("TableHead");
  react.createRemoteReactComponent("NumberInput");
  const Box = react.createRemoteReactComponent("Box");
  const StepIndicator = react.createRemoteReactComponent("StepIndicator");
  react.createRemoteReactComponent("Accordion");
  react.createRemoteReactComponent("MultiSelect");
  const Flex = react.createRemoteReactComponent("Flex");
  react.createRemoteReactComponent("DateInput");
  const Checkbox = react.createRemoteReactComponent("Checkbox");
  react.createRemoteReactComponent("RadioButton");
  react.createRemoteReactComponent("List");
  react.createRemoteReactComponent("Toggle");
  react.createRemoteReactComponent("Dropdown");
  react.createRemoteReactComponent("Panel");
  react.createRemoteReactComponent("PanelFooter");
  react.createRemoteReactComponent("PanelBody");
  react.createRemoteReactComponent("PanelSection");
  react.createRemoteReactComponent("StepperInput");
  const Modal = react.createRemoteReactComponent("Modal");
  const ModalBody = react.createRemoteReactComponent("ModalBody");
  const ModalFooter = react.createRemoteReactComponent("ModalFooter");
  react.createRemoteReactComponent("Icon");
  react.createRemoteReactComponent("StatusTag");
  react.createRemoteReactComponent("LoadingButton", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("BarChart");
  react.createRemoteReactComponent("LineChart");
  const Tabs = react.createRemoteReactComponent("Tabs");
  const Tab = react.createRemoteReactComponent("Tab");
  react.createRemoteReactComponent("Illustration");
  var ServerlessExecutionStatus;
  (function(ServerlessExecutionStatus2) {
    ServerlessExecutionStatus2["Success"] = "SUCCESS";
    ServerlessExecutionStatus2["Error"] = "ERROR";
  })(ServerlessExecutionStatus || (ServerlessExecutionStatus = {}));
  const documentsConfig = /* @__PURE__ */ JSON.parse(`[{"id":"timbre_fiscal_de_55_euro","name":"Timbre fiscal de 55 €","requiredProperty":"timbre_fiscal_de_55_euro_required","providedProperty":"timbre_fiscal_de_55_euro_provided","tabConfig":{"decret":{"order":1,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},"naturalisation_mariage":{"order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},"fraterie":{"order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},"ascendants":{"order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et","name":"Document justifiant de la date et du lieu de naissance de votre père et votre mère et de leur mariage s’ils sont mariés","requiredProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_required","providedProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_provided","tabConfig":{"decret":{"order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},"naturalisation_mariage":{"order":5,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},"ascendants":{"order":5,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]},"fraterie":{"order":12,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]}}},{"id":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite","name":"Copie recto-verso du titre de séjour en cours de validité.","requiredProperty":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite_required","providedProperty":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite_provided","tabConfig":{"decret":{"order":3,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},"naturalisation_mariage":{"order":4,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},"fraterie":{"order":4,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},"ascendants":{"order":4,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"copie_integrale_de_toutes_les_pages_du_passeport","name":"Copie intégrale de toutes les pages du passeport","requiredProperty":"copie_integrale_de_toutes_les_pages_du_passeport_required","providedProperty":"copie_integrale_de_toutes_les_pages_du_passeport_provided","tabConfig":{"decret":{"order":4,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]}}},{"id":"original_et_copie_d_un_diplome_brevet_ou_test_de_francais_niveau_b1_tcf_ou_delf_ou_di","name":"Original et copie d'un diplôme (>= Brevet) ou test de français niveau B1(TCF ou DELF) ou dispense de moins de 2 ans","requiredProperty":"original_et_copie_d_un_diplome_brevet_ou_test_de_francais_niveau_b1_tcf_ou_delf_ou_di_required","providedProperty":"original_et_copie_d_un_diplome_brevet_ou_test_de_francais_niveau_b1_tcf_ou_delf_ou_di_provided","tabConfig":{"decret":{"order":5,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},"naturalisation_mariage":{"order":7,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}}},{"id":"bordereau_de_situation_fiscale_modele_p237_original_et_recent","name":"Bordereau de situation fiscale (modèle P237) original et récent","requiredProperty":"bordereau_de_situation_fiscale_modele_p237_original_et_recent_required","providedProperty":"bordereau_de_situation_fiscale_modele_p237_original_et_recent_provided","tabConfig":{"decret":{"order":6,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]}}},{"id":"copies_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition","name":"Copies de toutes les pages des 3 derniers avis d'imposition ou de non-imposition.","requiredProperty":"copies_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_required","providedProperty":"copies_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_provided","tabConfig":{"decret":{"order":7,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]}}},{"id":"certificats_originaux_de_l_ofpra_tenant_lieu_d_etat_civil_3_mois","name":"Certificats originaux de l'OFPRA (tenant lieu d'état civil, < 3 mois)","requiredProperty":"certificats_originaux_de_l_ofpra_tenant_lieu_d_etat_civil_3_mois_required","providedProperty":"certificats_originaux_de_l_ofpra_tenant_lieu_d_etat_civil_3_mois_provided","tabConfig":{"decret":{"order":8,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]},"naturalisation_mariage":{"order":12,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]},"fraterie":{"order":10,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]},"ascendants":{"order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]}}},{"id":"casier_judiciaire_du_pays_d_origine_traduit_via_traducteur_assermente","name":"Casier judiciaire du pays d'origine (traduit via traducteur assermenté)","requiredProperty":"casier_judiciaire_du_pays_d_origine_traduit_via_traducteur_assermente_required","providedProperty":"casier_judiciaire_du_pays_d_origine_traduit_via_traducteur_assermente_provided","tabConfig":{"decret":{"order":9,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]},"naturalisation_mariage":{"order":19,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"etes_vous_entre_en_france_il_y_a_moins_de_10_ans__","operator":"in","value":"Oui (ET entré majeur ET non-réfugié)"}]}}},{"id":"copie_integrale_en_original_de_votre_acte_de_naissance","name":"Copie intégrale en original de votre acte de naissance.","requiredProperty":"copie_integrale_en_original_de_votre_acte_de_naissance_required","providedProperty":"copie_integrale_en_original_de_votre_acte_de_naissance_provided","tabConfig":{"decret":{"order":10,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]}}},{"id":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_remuneration_la_date_de_pris","name":"Contrat de travail en cours mentionnant le montant de la rémunération, la date de prise de fonction et l’emploi occupé *","requiredProperty":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_remuneration_la_date_de_pris_required","providedProperty":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_remuneration_la_date_de_pris_provided","tabConfig":{"decret":{"order":11,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"}]}}},{"id":"les_3_derniers_bulletins_de_salaire","name":"Les 3 derniers bulletins de salaire *","requiredProperty":"les_3_derniers_bulletins_de_salaire_required","providedProperty":"les_3_derniers_bulletins_de_salaire_provided","tabConfig":{"decret":{"order":12,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"}]}}},{"id":"les_certificats_de_travail_concernant_si_possible_les_3_dernieres_annees_ou_le_releve","name":"Les certificats de travail, concernant si possible les 3 dernières années ou le Relevé de Carrière *","requiredProperty":"les_certificats_de_travail_concernant_si_possible_les_3_dernieres_annees_ou_le_releve_required","providedProperty":"les_certificats_de_travail_concernant_si_possible_les_3_dernieres_annees_ou_le_releve_provided","tabConfig":{"decret":{"order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"}]}}},{"id":"fiches_de_paie_de_novembre_decembre_des_trois_dernieres_annees_si_possible","name":"Fiches de paie de novembre & décembre des trois dernières années (si possible).","requiredProperty":"fiches_de_paie_de_novembre_decembre_des_trois_dernieres_annees_si_possible_required","providedProperty":"fiches_de_paie_de_novembre_decembre_des_trois_dernieres_annees_si_possible_provided","tabConfig":{"decret":{"order":14,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"}]}}},{"id":"attestation_de_droits_a_l_allocation_d_aide_au_retour_a_l_emploi","name":"Attestation de droits à l'allocation d'aide au retour à l'emploi *","requiredProperty":"attestation_de_droits_a_l_allocation_d_aide_au_retour_a_l_emploi_required","providedProperty":"attestation_de_droits_a_l_allocation_d_aide_au_retour_a_l_emploi_provided","tabConfig":{"decret":{"order":15,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"}]}}},{"id":"les_3_derniers_bordereaux_de_versement_des_indemnites","name":"Les 3 derniers bordereaux de versement des indemnités *","requiredProperty":"les_3_derniers_bordereaux_de_versement_des_indemnites_required","providedProperty":"les_3_derniers_bordereaux_de_versement_des_indemnites_provided","tabConfig":{"decret":{"order":16,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"}]}}},{"id":"releve_de_carriere","name":"Relevé de carrière.","requiredProperty":"releve_de_carriere_required","providedProperty":"releve_de_carriere_provided","tabConfig":{"decret":{"order":17,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"}]}}},{"id":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_r","name":"Autres justificatifs de votre activité professionnelle des 3 dernières années ou le Relevé de Carrière *","requiredProperty":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_r_required","providedProperty":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_r_provided","tabConfig":{"decret":{"order":18,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"}]}}},{"id":"le_dernier_bordereau_de_versement_retraite","name":"Le dernier bordereau de versement retraite","requiredProperty":"le_dernier_bordereau_de_versement_retraite_required","providedProperty":"le_dernier_bordereau_de_versement_retraite_provided","tabConfig":{"decret":{"order":19,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Retraité(e)"}]}}},{"id":"titre_de_pension_ou_autre_justificatif_de_versement_de_retraite_avec_mention_du_monta","name":"Titre de pension (ou autre justificatif de versement de retraite) avec mention du montant perçu pension *","requiredProperty":"titre_de_pension_ou_autre_justificatif_de_versement_de_retraite_avec_mention_du_monta_required","providedProperty":"titre_de_pension_ou_autre_justificatif_de_versement_de_retraite_avec_mention_du_monta_provided","tabConfig":{"decret":{"order":20,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Retraité(e)"}]}}},{"id":"bilan_financier_synthetique_des_3_derniers_exercices_ou_le_releve_de_carriere","name":"Bilan financier synthétique des 3 derniers exercices ou le Relevé de Carrière *","requiredProperty":"bilan_financier_synthetique_des_3_derniers_exercices_ou_le_releve_de_carriere_required","providedProperty":"bilan_financier_synthetique_des_3_derniers_exercices_ou_le_releve_de_carriere_provided","tabConfig":{"decret":{"order":21,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"}]}}},{"id":"extrait_d_immatriculation_au_registre_du_commerce_ou_des_metiers","name":"Extrait d’immatriculation au registre du commerce ou des métiers *","requiredProperty":"extrait_d_immatriculation_au_registre_du_commerce_ou_des_metiers_required","providedProperty":"extrait_d_immatriculation_au_registre_du_commerce_ou_des_metiers_provided","tabConfig":{"decret":{"order":22,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"}]}}},{"id":"statuts_de_la_societe_pour_les_dirigeants_ou_associes","name":"Statuts de la société, pour les dirigeants ou associés *","requiredProperty":"statuts_de_la_societe_pour_les_dirigeants_ou_associes_required","providedProperty":"statuts_de_la_societe_pour_les_dirigeants_ou_associes_provided","tabConfig":{"decret":{"order":23,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"}]}}},{"id":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su","name":"Certificat de scolarité ou carte d’inscription dans l’etablissement d’enseignement supérieur pour l’année en cours","requiredProperty":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su_required","providedProperty":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su_provided","tabConfig":{"decret":{"order":24,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Lycéen(ne) / Étudiant(e)"}]}}},{"id":"diplome_precedents_a_prendre_si_obtenu","name":"Diplôme précédents à prendre (si obtenu)","requiredProperty":"diplome_precedents_a_prendre_si_obtenu_required","providedProperty":"diplome_precedents_a_prendre_si_obtenu_provided","tabConfig":{"decret":{"order":25,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Lycéen(ne) / Étudiant(e)"}]}}},{"id":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su_2","name":"Certificat de scolarité ou carte d’inscription dans l’etablissement d’enseignement supérieur pour l’année en cours","requiredProperty":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su_2_required","providedProperty":"certificat_de_scolarite_ou_carte_d_inscription_dans_l_etablissement_d_enseignement_su_2_provided","tabConfig":{"decret":{"order":26,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Étudiant(e)"}]}}},{"id":"inscription_a_l_ordre","name":"Inscription à l'ordre","requiredProperty":"inscription_a_l_ordre_required","providedProperty":"inscription_a_l_ordre_provided","tabConfig":{"decret":{"order":27,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"}]}}},{"id":"3_dernieres_declarations_d_activite_trimestrielles","name":"3 dernières déclarations d'activité trimestrielles","requiredProperty":"3_dernieres_declarations_d_activite_trimestrielles_required","providedProperty":"3_dernieres_declarations_d_activite_trimestrielles_provided","tabConfig":{"decret":{"order":28,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"}]}}},{"id":"attestation_fiscale_des_trois_dernieres_annees","name":"Attestation fiscale des trois dernières années.","requiredProperty":"attestation_fiscale_des_trois_dernieres_annees_required","providedProperty":"attestation_fiscale_des_trois_dernieres_annees_provided","tabConfig":{"decret":{"order":29,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"}]}}},{"id":"contrat_alternance_ou_de_stage_3_dernieres_fiches_de_paie","name":"Contrat alternance ou de stage & 3 dernières fiches de paie","requiredProperty":"contrat_alternance_ou_de_stage_3_dernieres_fiches_de_paie_required","providedProperty":"contrat_alternance_ou_de_stage_3_dernieres_fiches_de_paie_provided","tabConfig":{"decret":{"order":30,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Stagiaire de la formation professionnelle"}]}}},{"id":"copie_integrale_de_l_acte_de_mariage_et_sa_traduction_par_traducteur_assermente_ou_le","name":"Copie intégrale de l'acte de mariage (et sa traduction par traducteur assermenté ou le consulat s'il s'agit d'un acte étranger) de moins de 3 mois","requiredProperty":"copie_integrale_de_l_acte_de_mariage_et_sa_traduction_par_traducteur_assermente_ou_le_required","providedProperty":"copie_integrale_de_l_acte_de_mariage_et_sa_traduction_par_traducteur_assermente_ou_le_provided","tabConfig":{"decret":{"order":31,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"naturalisation_mariage":{"order":6,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},"fraterie":{"order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"ascendants":{"order":15,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"document_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine","name":"Document d'identité du conjoint attestant la (ou les) nationalité(s) d'origine *","requiredProperty":"document_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine_required","providedProperty":"document_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine_provided","tabConfig":{"decret":{"order":32,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"fraterie":{"order":14,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"ascendants":{"order":16,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"titre_de_sejour_du_conjoint_e_ou_concubin_e","name":"Titre de séjour du conjoint(e) ou concubin(e) *","requiredProperty":"titre_de_sejour_du_conjoint_e_ou_concubin_e_required","providedProperty":"titre_de_sejour_du_conjoint_e_ou_concubin_e_provided","tabConfig":{"decret":{"order":33,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"avis_d_imposition_ou_de_non_imposition_du_conjoint_concubin_des_3_dernieres_annees","name":"Avis d’imposition (ou de non-imposition) du conjoint/concubin des 3 dernières années *","requiredProperty":"avis_d_imposition_ou_de_non_imposition_du_conjoint_concubin_des_3_dernieres_annees_required","providedProperty":"avis_d_imposition_ou_de_non_imposition_du_conjoint_concubin_des_3_dernieres_annees_provided","tabConfig":{"decret":{"order":34,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"attestation_sur_l_honneur_de_vie_commune","name":"Attestation sur l’honneur de vie commune","requiredProperty":"attestation_sur_l_honneur_de_vie_commune_required","providedProperty":"attestation_sur_l_honneur_de_vie_commune_provided","tabConfig":{"decret":{"order":35,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"fraterie":{"order":17,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"ascendants":{"order":19,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"preuves_de_communaute_de_vie","name":"Preuves de communauté de vie","requiredProperty":"preuves_de_communaute_de_vie_required","providedProperty":"preuves_de_communaute_de_vie_provided","tabConfig":{"decret":{"order":36,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"fraterie":{"order":18,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"ascendants":{"order":20,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"id_du_concubin_ou_titre_de_sejour_visa_si_etranger","name":"ID du concubin OU Titre de séjour/visa (si étranger)","requiredProperty":"id_du_concubin_ou_titre_de_sejour_visa_si_etranger_required","providedProperty":"id_du_concubin_ou_titre_de_sejour_visa_si_etranger_provided","tabConfig":{"decret":{"order":37,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"fraterie":{"order":19,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"ascendants":{"order":21,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail","name":"3 dernières fiches de paie du concucin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail_required","providedProperty":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail_provided","tabConfig":{"decret":{"order":38,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"convention_attestation_de_pacs","name":"Convention/attestation de PACS","requiredProperty":"convention_attestation_de_pacs_required","providedProperty":"convention_attestation_de_pacs_provided","tabConfig":{"decret":{"order":39,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"fraterie":{"order":21,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"ascendants":{"order":23,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"justificatifs_de_vie_commune","name":"Justificatifs de vie commune","requiredProperty":"justificatifs_de_vie_commune_required","providedProperty":"justificatifs_de_vie_commune_provided","tabConfig":{"decret":{"order":40,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"fraterie":{"order":22,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"ascendants":{"order":24,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"id_du_partenaire","name":"ID du partenaire","requiredProperty":"id_du_partenaire_required","providedProperty":"id_du_partenaire_provided","tabConfig":{"decret":{"order":41,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"fraterie":{"order":23,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"ascendants":{"order":25,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail_2","name":"3 dernières fiches de paie du concucin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail_2_required","providedProperty":"3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_d_impots_contrat_de_travail_2_provided","tabConfig":{"decret":{"order":42,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"d1_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra","name":"D1 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d1_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_required","providedProperty":"d1_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_provided","tabConfig":{"decret":{"order":43,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]},"naturalisation_mariage":{"order":16,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"l_un_des_epoux__ou_les_deux__a_t_il_eu_des_unions_anterieures__","operator":"in","value":"true"}]},"fraterie":{"order":25,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]},"ascendants":{"order":27,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]}}},{"id":"d1_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d","name":"D1 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d1_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_required","providedProperty":"d1_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_provided","tabConfig":{"decret":{"order":44,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]},"fraterie":{"order":26,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]},"ascendants":{"order":28,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]}}},{"id":"d2_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra","name":"D2 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d2_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_required","providedProperty":"d2_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_provided","tabConfig":{"decret":{"order":45,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]},"fraterie":{"order":27,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]},"ascendants":{"order":29,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]}}},{"id":"d2_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d","name":"D2 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d2_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_required","providedProperty":"d2_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_provided","tabConfig":{"decret":{"order":46,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]},"fraterie":{"order":28,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]},"ascendants":{"order":30,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]}}},{"id":"d3_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra","name":"D3 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d3_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_required","providedProperty":"d3_acte_attestant_l_union_acte_de_mariage_et_sa_traduction_s_il_s_agit_d_un_acte_etra_provided","tabConfig":{"decret":{"order":47,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]},"fraterie":{"order":29,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]},"ascendants":{"order":31,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]}}},{"id":"d3_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d","name":"D3 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger) *","requiredProperty":"d3_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_required","providedProperty":"d3_decision_de_dissolution_de_l_union_acte_de_divorce_et_sa_traduction_s_il_s_agit_d_provided","tabConfig":{"decret":{"order":48,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]},"fraterie":{"order":30,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]},"ascendants":{"order":32,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]}}},{"id":"ordonnance_juge_separation_de_corps","name":"Ordonnance/juge – séparation de corps","requiredProperty":"ordonnance_juge_separation_de_corps_required","providedProperty":"ordonnance_juge_separation_de_corps_provided","tabConfig":{"decret":{"order":49,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]},"fraterie":{"order":31,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]},"ascendants":{"order":33,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]}}},{"id":"mesures_accessoires_pension_logement","name":"Mesures accessoires (pension, logement…)","requiredProperty":"mesures_accessoires_pension_logement_required","providedProperty":"mesures_accessoires_pension_logement_provided","tabConfig":{"decret":{"order":50,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]},"fraterie":{"order":32,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]},"ascendants":{"order":34,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]}}},{"id":"acte_de_deces_du_conjoint","name":"Acte de décès du conjoint","requiredProperty":"acte_de_deces_du_conjoint_required","providedProperty":"acte_de_deces_du_conjoint_provided","tabConfig":{"decret":{"order":51,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]},"fraterie":{"order":33,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]},"ascendants":{"order":35,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]},"aes_et_renouvellement_aes":{"order":24,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]}}},{"id":"acte_de_mariage","name":"Acte de mariage","requiredProperty":"acte_de_mariage_required","providedProperty":"acte_de_mariage_provided","tabConfig":{"decret":{"order":52,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]},"fraterie":{"order":34,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]},"ascendants":{"order":36,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"}]}}},{"id":"em1_passeport_ou_piece_d_identite","name":"EM1 Passeport ou Pièce d'identité","requiredProperty":"em1_passeport_ou_piece_d_identite_required","providedProperty":"em1_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":53,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]},"fraterie":{"order":36,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"em1_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM1 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em1_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em1_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":54,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]},"ascendants":{"order":38,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]},"fraterie":{"order":37,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"em1_justificatif_de_residence_en_france","name":"EM1 Justificatif de résidence en France *","requiredProperty":"em1_justificatif_de_residence_en_france_required","providedProperty":"em1_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":55,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]},"ascendants":{"order":39,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"em2_passeport_ou_piece_d_identite","name":"EM2 Passeport ou Pièce d'identité","requiredProperty":"em2_passeport_ou_piece_d_identite_required","providedProperty":"em2_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":56,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"ascendants":{"order":40,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"fraterie":{"order":39,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]}}},{"id":"em2_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM2 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em2_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em2_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":57,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"ascendants":{"order":41,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"fraterie":{"order":40,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]}}},{"id":"em2_justificatif_de_residence_en_france","name":"EM2 Justificatif de résidence en France *","requiredProperty":"em2_justificatif_de_residence_en_france_required","providedProperty":"em2_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":58,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"ascendants":{"order":42,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]}}},{"id":"em3_passeport_ou_piece_d_identite","name":"EM3 Passeport ou Pièce d'identité","requiredProperty":"em3_passeport_ou_piece_d_identite_required","providedProperty":"em3_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":59,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"ascendants":{"order":43,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"fraterie":{"order":42,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]}}},{"id":"em3_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM3 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em3_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em3_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":60,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"ascendants":{"order":44,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"fraterie":{"order":43,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]}}},{"id":"em3_justificatif_de_residence_en_france","name":"EM3 Justificatif de résidence en France *","requiredProperty":"em3_justificatif_de_residence_en_france_required","providedProperty":"em3_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":61,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"ascendants":{"order":45,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]},"fraterie":{"order":44,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]}}},{"id":"em4_passeport_ou_piece_d_identite","name":"EM4 Passeport ou Pièce d'identité","requiredProperty":"em4_passeport_ou_piece_d_identite_required","providedProperty":"em4_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":62,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"ascendants":{"order":46,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"fraterie":{"order":45,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]}}},{"id":"em4_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM4 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em4_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em4_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":63,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"ascendants":{"order":47,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"fraterie":{"order":46,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]}}},{"id":"em4_justificatif_de_residence_en_france","name":"EM4 Justificatif de résidence en France *","requiredProperty":"em4_justificatif_de_residence_en_france_required","providedProperty":"em4_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":64,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"ascendants":{"order":48,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]},"fraterie":{"order":47,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]}}},{"id":"em5_passeport_ou_piece_d_identite","name":"EM5 Passeport ou Pièce d'identité","requiredProperty":"em5_passeport_ou_piece_d_identite_required","providedProperty":"em5_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":65,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"ascendants":{"order":49,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"fraterie":{"order":48,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]}}},{"id":"em5_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM5 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em5_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em5_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":66,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"ascendants":{"order":50,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"fraterie":{"order":49,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]}}},{"id":"em5_justificatif_de_residence_en_france","name":"EM5 Justificatif de résidence en France *","requiredProperty":"em5_justificatif_de_residence_en_france_required","providedProperty":"em5_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":67,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"ascendants":{"order":51,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]},"fraterie":{"order":50,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]}}},{"id":"em6_passeport_ou_piece_d_identite","name":"EM6 Passeport ou Pièce d'identité","requiredProperty":"em6_passeport_ou_piece_d_identite_required","providedProperty":"em6_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":68,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"ascendants":{"order":52,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"fraterie":{"order":51,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]}}},{"id":"em6_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM6 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em6_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em6_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":69,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"ascendants":{"order":53,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"fraterie":{"order":52,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]}}},{"id":"em6_justificatif_de_residence_en_france","name":"EM6 Justificatif de résidence en France *","requiredProperty":"em6_justificatif_de_residence_en_france_required","providedProperty":"em6_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":70,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"ascendants":{"order":54,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]},"fraterie":{"order":53,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]}}},{"id":"em7_passeport_ou_piece_d_identite","name":"EM7 Passeport ou Pièce d'identité","requiredProperty":"em7_passeport_ou_piece_d_identite_required","providedProperty":"em7_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":71,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"ascendants":{"order":55,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"fraterie":{"order":54,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]}}},{"id":"em7_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM7 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em7_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em7_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":72,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"ascendants":{"order":56,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"fraterie":{"order":55,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]}}},{"id":"em7_justificatif_de_residence_en_france","name":"EM7 Justificatif de résidence en France *","requiredProperty":"em7_justificatif_de_residence_en_france_required","providedProperty":"em7_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":73,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"ascendants":{"order":57,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]},"fraterie":{"order":56,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]}}},{"id":"em8_passeport_ou_piece_d_identite","name":"EM8 Passeport ou Pièce d'identité","requiredProperty":"em8_passeport_ou_piece_d_identite_required","providedProperty":"em8_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":74,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"ascendants":{"order":58,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"fraterie":{"order":57,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]}}},{"id":"em8_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM8 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em8_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em8_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":75,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"ascendants":{"order":59,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"fraterie":{"order":58,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]}}},{"id":"em8_justificatif_de_residence_en_france","name":"EM8 Justificatif de résidence en France *","requiredProperty":"em8_justificatif_de_residence_en_france_required","providedProperty":"em8_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":76,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"ascendants":{"order":60,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]},"fraterie":{"order":59,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"}]}}},{"id":"em9_passeport_ou_piece_d_identite","name":"EM9 Passeport ou Pièce d'identité","requiredProperty":"em9_passeport_ou_piece_d_identite_required","providedProperty":"em9_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":77,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"ascendants":{"order":61,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"fraterie":{"order":60,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]}}},{"id":"em9_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr","name":"EM9 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em9_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_required","providedProperty":"em9_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etr_provided","tabConfig":{"decret":{"order":78,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"ascendants":{"order":62,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"fraterie":{"order":61,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]}}},{"id":"em9_justificatif_de_residence_en_france","name":"EM9 Justificatif de résidence en France *","requiredProperty":"em9_justificatif_de_residence_en_france_required","providedProperty":"em9_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":79,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"ascendants":{"order":63,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]},"fraterie":{"order":62,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"}]}}},{"id":"em10_passeport_ou_piece_d_identite","name":"EM10 Passeport ou Pièce d'identité","requiredProperty":"em10_passeport_ou_piece_d_identite_required","providedProperty":"em10_passeport_ou_piece_d_identite_provided","tabConfig":{"decret":{"order":80,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"ascendants":{"order":64,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"fraterie":{"order":63,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]}}},{"id":"em10_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_et","name":"EM10 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) *","requiredProperty":"em10_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_et_required","providedProperty":"em10_copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_et_provided","tabConfig":{"decret":{"order":81,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"ascendants":{"order":65,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"fraterie":{"order":64,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]}}},{"id":"em10_justificatif_de_residence_en_france","name":"EM10 Justificatif de résidence en France *","requiredProperty":"em10_justificatif_de_residence_en_france_required","providedProperty":"em10_justificatif_de_residence_en_france_provided","tabConfig":{"decret":{"order":82,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"ascendants":{"order":66,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]},"fraterie":{"order":65,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"}]}}},{"id":"attestation_de_propriete_acte_de_propriete_du_notaire","name":"Attestation de propriété (acte de propriété du notaire)","requiredProperty":"attestation_de_propriete_acte_de_propriete_du_notaire_required","providedProperty":"attestation_de_propriete_acte_de_propriete_du_notaire_provided","tabConfig":{"decret":{"order":83,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"naturalisation_mariage":{"order":20,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"fraterie":{"order":66,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"ascendants":{"order":67,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"aes_et_renouvellement_aes":{"order":38,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis propriétaire."}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr","name":"Justificatif de domicile datant de moins de 6 mois (3 dernières factures de gaz, électricité ou téléphone fixe)","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_provided","tabConfig":{"decret":{"order":84,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"naturalisation_mariage":{"order":21,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"fraterie":{"order":35,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Célibataire"}]},"aes_et_renouvellement_aes":{"order":37,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis locataire."}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_2","name":"Justificatif de domicile datant de moins de 6 mois (3 dernières factures de gaz, électricité ou téléphone fixe)","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_2_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_2_provided","tabConfig":{"decret":{"order":85,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"fraterie":{"order":67,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]},"ascendants":{"order":68,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Propriétaire"}]}}},{"id":"trois_dernieres_quittances_de_loyer","name":"Trois dernières quittances de loyer *","requiredProperty":"trois_dernieres_quittances_de_loyer_required","providedProperty":"trois_dernieres_quittances_de_loyer_provided","tabConfig":{"decret":{"order":86,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"naturalisation_mariage":{"order":23,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"fraterie":{"order":69,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"ascendants":{"order":70,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Locataire"}]}}},{"id":"contrat_de_location","name":"Contrat de location *","requiredProperty":"contrat_de_location_required","providedProperty":"contrat_de_location_provided","tabConfig":{"decret":{"order":87,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"naturalisation_mariage":{"order":24,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"fraterie":{"order":70,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"ascendants":{"order":71,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Locataire"}]}}},{"id":"attestation_d_hebergement","name":"Attestation d'hébergement","requiredProperty":"attestation_d_hebergement_required","providedProperty":"attestation_d_hebergement_provided","tabConfig":{"decret":{"order":88,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"naturalisation_mariage":{"order":25,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"fraterie":{"order":71,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"ascendants":{"order":72,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"aes_et_renouvellement_aes":{"order":36,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis hébergé dans un centre d'hébergement."}]}}},{"id":"piece_d_identite_de_l_hebergent","name":"Pièce d'identité de l'hébergent","requiredProperty":"piece_d_identite_de_l_hebergent_required","providedProperty":"piece_d_identite_de_l_hebergent_provided","tabConfig":{"decret":{"order":89,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"ascendants":{"order":73,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_3","name":"Justificatif de domicile datant de moins de 6 mois (3 dernières factures de gaz, électricité ou téléphone fixe)","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_3_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electr_3_provided","tabConfig":{"decret":{"order":90,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]}}},{"id":"attestation_caf_rsa_apl_af_etc","name":"Attestation CAF (RSA, APL, AF, etc.)","requiredProperty":"attestation_caf_rsa_apl_af_etc_required","providedProperty":"attestation_caf_rsa_apl_af_etc_provided","tabConfig":{"decret":{"order":91,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Prestations CAF"}]}}},{"id":"dernier_bordereau_de_paiement_caf","name":"Dernier bordereau de paiement CAF","requiredProperty":"dernier_bordereau_de_paiement_caf_required","providedProperty":"dernier_bordereau_de_paiement_caf_provided","tabConfig":{"decret":{"order":92,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Prestations CAF"}]}}},{"id":"attestation_de_l_organisme_msa_cpam_pole_emploi_retraite","name":"Attestation de l’organisme MSA/CPAM/Pôle emploi/retraite","requiredProperty":"attestation_de_l_organisme_msa_cpam_pole_emploi_retraite_required","providedProperty":"attestation_de_l_organisme_msa_cpam_pole_emploi_retraite_provided","tabConfig":{"decret":{"order":93,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Prestations d’autres organismes (MSA/CPAM/Pôle emploi/retraite)"}]}}},{"id":"justificatif_du_dernier_versement_msa_cpam_pole_emploi_retraite","name":"Justificatif du dernier versement MSA/CPAM/Pôle emploi/retraite","requiredProperty":"justificatif_du_dernier_versement_msa_cpam_pole_emploi_retraite_required","providedProperty":"justificatif_du_dernier_versement_msa_cpam_pole_emploi_retraite_provided","tabConfig":{"decret":{"order":94,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Prestations d’autres organismes (MSA/CPAM/Pôle emploi/retraite)"}]}}},{"id":"dernier_avis_d_imposition","name":"Dernier avis d’imposition","requiredProperty":"dernier_avis_d_imposition_required","providedProperty":"dernier_avis_d_imposition_provided","tabConfig":{"decret":{"order":95,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"}]}}},{"id":"releves_fonciers_2044_le_cas_echeant","name":"Relevés fonciers 2044 le cas échéant","requiredProperty":"releves_fonciers_2044_le_cas_echeant_required","providedProperty":"releves_fonciers_2044_le_cas_echeant_provided","tabConfig":{"decret":{"order":96,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"}]}}},{"id":"baux_attestations_de_loyers","name":"Baux/attestations de loyers","requiredProperty":"baux_attestations_de_loyers_required","providedProperty":"baux_attestations_de_loyers_provided","tabConfig":{"decret":{"order":97,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"}]}}},{"id":"recus_de_loyers_releves_bancaires_dividendes_interets","name":"Reçus de loyers / relevés bancaires (dividendes, intérêts)","requiredProperty":"recus_de_loyers_releves_bancaires_dividendes_interets_required","providedProperty":"recus_de_loyers_releves_bancaires_dividendes_interets_provided","tabConfig":{"decret":{"order":98,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"}]}}},{"id":"attestations_fiscales_releves_etrangers","name":"Attestations fiscales/relevés étrangers","requiredProperty":"attestations_fiscales_releves_etrangers_required","providedProperty":"attestations_fiscales_releves_etrangers_provided","tabConfig":{"decret":{"order":99,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"}]}}},{"id":"traduction_assermentee_attestations_fiscales_releves_etrangers","name":"Traduction assermentée Attestations fiscales/relevés étrangers","requiredProperty":"traduction_assermentee_attestations_fiscales_releves_etrangers_required","providedProperty":"traduction_assermentee_attestations_fiscales_releves_etrangers_provided","tabConfig":{"decret":{"order":100,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"}]}}},{"id":"legalisation_apostille_des_attestations_fiscales_releves_etrangers_si_requis","name":"Légalisation/apostille des Attestations fiscales/relevés étrangers si requis","requiredProperty":"legalisation_apostille_des_attestations_fiscales_releves_etrangers_si_requis_required","providedProperty":"legalisation_apostille_des_attestations_fiscales_releves_etrangers_si_requis_provided","tabConfig":{"decret":{"order":101,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"}]}}},{"id":"jugement_accord_fixant_la_pension","name":"Jugement/accord fixant la pension","requiredProperty":"jugement_accord_fixant_la_pension_required","providedProperty":"jugement_accord_fixant_la_pension_provided","tabConfig":{"decret":{"order":102,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension alimentaire"}]}}},{"id":"preuves_de_versement_de_la_pension_alimentaire_releves_bancaires_attestations","name":"Preuves de versement de la pension alimentaire (relevés bancaires/attestations)","requiredProperty":"preuves_de_versement_de_la_pension_alimentaire_releves_bancaires_attestations_required","providedProperty":"preuves_de_versement_de_la_pension_alimentaire_releves_bancaires_attestations_provided","tabConfig":{"decret":{"order":103,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension alimentaire"}]}}},{"id":"attestation_de_pension_cpam_organisme","name":"Attestation de pension (CPAM/organisme)","requiredProperty":"attestation_de_pension_cpam_organisme_required","providedProperty":"attestation_de_pension_cpam_organisme_provided","tabConfig":{"decret":{"order":104,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension d’invalidité"}]}}},{"id":"dernier_bordereau_de_paiement_cpam_organisme","name":"Dernier bordereau de paiement (CPAM/Organisme)","requiredProperty":"dernier_bordereau_de_paiement_cpam_organisme_required","providedProperty":"dernier_bordereau_de_paiement_cpam_organisme_provided","tabConfig":{"decret":{"order":105,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension d’invalidité"}]}}},{"id":"attestation_de_reversion_caisse_de_retraite","name":"Attestation de réversion (caisse de retraite)","requiredProperty":"attestation_de_reversion_caisse_de_retraite_required","providedProperty":"attestation_de_reversion_caisse_de_retraite_provided","tabConfig":{"decret":{"order":106,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension de réversion"}]}}},{"id":"justificatif_du_dernier_versement_pension_de_reversion","name":"Justificatif du dernier versement Pension de réversion","requiredProperty":"justificatif_du_dernier_versement_pension_de_reversion_required","providedProperty":"justificatif_du_dernier_versement_pension_de_reversion_provided","tabConfig":{"decret":{"order":107,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pension de réversion"}]}}},{"id":"attestation_d_autres_organisme_payeur","name":"Attestation d'autres organisme payeur","requiredProperty":"attestation_d_autres_organisme_payeur_required","providedProperty":"attestation_d_autres_organisme_payeur_provided","tabConfig":{"decret":{"order":108,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Autre pension"}]}}},{"id":"justificatif_du_dernier_versement_d_autre_pension","name":"Justificatif du dernier versement d'autre pension","requiredProperty":"justificatif_du_dernier_versement_d_autre_pension_required","providedProperty":"justificatif_du_dernier_versement_d_autre_pension_provided","tabConfig":{"decret":{"order":109,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Autre pension"}]}}},{"id":"attestation_de_prise_en_charge_signee","name":"Attestation de prise en charge signée","requiredProperty":"attestation_de_prise_en_charge_signee_required","providedProperty":"attestation_de_prise_en_charge_signee_provided","tabConfig":{"decret":{"order":110,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"}]}}},{"id":"piece_d_identite_du_garant","name":"Pièce d’identité du garant","requiredProperty":"piece_d_identite_du_garant_required","providedProperty":"piece_d_identite_du_garant_provided","tabConfig":{"decret":{"order":111,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"}]}}},{"id":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_independant_avis_d","name":"Justificatifs de ressources du garant (contrat + 3 bulletins / bilan si indépendant + avis d’impôt)","requiredProperty":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_independant_avis_d_required","providedProperty":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_independant_avis_d_provided","tabConfig":{"decret":{"order":112,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"}]}}},{"id":"justificatif_de_domicile_du_garant","name":"Justificatif de domicile du garant","requiredProperty":"justificatif_de_domicile_du_garant_required","providedProperty":"justificatif_de_domicile_du_garant_provided","tabConfig":{"decret":{"order":113,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"}]}}},{"id":"formulaire_de_demande_cerfa_n15277_04_2_exemplaires_signes_par_les_deux_epoux","name":"Formulaire de demande Cerfa n°15277*04 (2 exemplaires, signés par les deux époux)","requiredProperty":"formulaire_de_demande_cerfa_n15277_04_2_exemplaires_signes_par_les_deux_epoux_required","providedProperty":"formulaire_de_demande_cerfa_n15277_04_2_exemplaires_signes_par_les_deux_epoux_provided","tabConfig":{"naturalisation_mariage":{"order":1,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}}},{"id":"photos_d_identite_2_pour_le_demandeur_2_pour_le_conjoint","name":"Photos d'identité (2 pour le demandeur, 2 pour le conjoint)","requiredProperty":"photos_d_identite_2_pour_le_demandeur_2_pour_le_conjoint_required","providedProperty":"photos_d_identite_2_pour_le_demandeur_2_pour_le_conjoint_provided","tabConfig":{"naturalisation_mariage":{"order":3,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}}},{"id":"justificatif_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine","name":"Justificatif d'identité du conjoint attestant la (ou les) nationalité(s) d'origine","requiredProperty":"justificatif_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine_required","providedProperty":"justificatif_d_identite_du_conjoint_attestant_la_ou_les_nationalite_s_d_origine_provided","tabConfig":{"naturalisation_mariage":{"order":8,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}}},{"id":"copie_integrale_originale_de_l_acte_de_naissance_du_conjoint_ou_documents_etat_civil","name":"Copie intégrale originale de l'acte de naissance du conjoint (ou Documents état civil des parents du conjoint)","requiredProperty":"copie_integrale_originale_de_l_acte_de_naissance_du_conjoint_ou_documents_etat_civil_required","providedProperty":"copie_integrale_originale_de_l_acte_de_naissance_du_conjoint_ou_documents_etat_civil_provided","tabConfig":{"naturalisation_mariage":{"order":9,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}}},{"id":"copie_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition","name":"Copie de toutes les pages des 3 derniers avis d'imposition ou de non-imposition","requiredProperty":"copie_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_required","providedProperty":"copie_de_toutes_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_provided","tabConfig":{"naturalisation_mariage":{"order":10,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]}}},{"id":"preuves_de_vie_commune","name":"Preuves de vie commune","requiredProperty":"preuves_de_vie_commune_required","providedProperty":"preuves_de_vie_commune_provided","tabConfig":{"naturalisation_mariage":{"order":11,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"true"}]}}},{"id":"copie_integrale_originale_de_votre_acte_de_naissance","name":"Copie intégrale originale de votre acte de naissance","requiredProperty":"copie_integrale_originale_de_votre_acte_de_naissance_required","providedProperty":"copie_integrale_originale_de_votre_acte_de_naissance_provided","tabConfig":{"naturalisation_mariage":{"order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]},"fraterie":{"order":11,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]},"ascendants":{"order":14,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"in","value":"false"}]}}},{"id":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_d_inscri","name":"Justificatif de 3 ans de résidence en France (depuis le mariage) OU Certificat d'inscription du conjoint (registre des Français établis hors de France)","requiredProperty":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_d_inscri_required","providedProperty":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_d_inscri_provided","tabConfig":{"naturalisation_mariage":{"order":14,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"etes_vous_marie_depuis_moins_de_5_ans__","operator":"in","value":"true"}]}}},{"id":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois","name":"Copie de la transcription (délivrée par les autorités françaises, < 3 mois)","requiredProperty":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois_required","providedProperty":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois_provided","tabConfig":{"naturalisation_mariage":{"order":15,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"votre_mariage_a_t_il_ete_celebre_a_l_etranger__","operator":"in","value":"true"}]}}},{"id":"copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etrange","name":"Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger) (pour tous les enfants)","requiredProperty":"copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etrange_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_et_sa_traduction_s_il_s_agit_d_un_acte_etrange_provided","tabConfig":{"naturalisation_mariage":{"order":17,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_des_enfants__mineurs_ou_majeurs___","operator":"in","value":"true"}]}}},{"id":"justificatifs_de_residence_habituelle_certificat_scolarite_creche_jugement_de_garde_e","name":"Justificatifs de résidence habituelle (certificat scolarité, crèche, jugement de garde, etc.)","requiredProperty":"justificatifs_de_residence_habituelle_certificat_scolarite_creche_jugement_de_garde_e_required","providedProperty":"justificatifs_de_residence_habituelle_certificat_scolarite_creche_jugement_de_garde_e_provided","tabConfig":{"naturalisation_mariage":{"order":18,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"avez_vous_des_enfants_mineurs_etrangers_residant_avec_vous__","operator":"in","value":"true"}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois","name":"Justificatif de domicile datant de moins de 6 mois","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_provided","tabConfig":{"naturalisation_mariage":{"order":22,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"fraterie":{"order":41,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]},"aes_et_renouvellement_aes":{"order":33,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis hébergé par un particulier."}]}}},{"id":"piece_d_identite_de_l_hebergeant","name":"Pièce d'identité de l'hébergeant","requiredProperty":"piece_d_identite_de_l_hebergeant_required","providedProperty":"piece_d_identite_de_l_hebergeant_provided","tabConfig":{"naturalisation_mariage":{"order":26,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"fraterie":{"order":72,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_2","name":"Justificatif de domicile datant de moins de 6 mois","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_2_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_2_provided","tabConfig":{"naturalisation_mariage":{"order":27,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"fraterie":{"order":68,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Locataire"}]},"ascendants":{"order":69,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Locataire"}]}}},{"id":"formulaire_de_demande_cerfa_n15562_03_2_exemplaires_renseignes","name":"Formulaire de demande CERFA N°15562*03 (2 exemplaires, renseignés)","requiredProperty":"formulaire_de_demande_cerfa_n15562_03_2_exemplaires_renseignes_required","providedProperty":"formulaire_de_demande_cerfa_n15562_03_2_exemplaires_renseignes_provided","tabConfig":{"fraterie":{"order":1,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"photos_d_identite_2_pour_le_demandeur","name":"Photos d'identité (2 pour le demandeur)","requiredProperty":"photos_d_identite_2_pour_le_demandeur_required","providedProperty":"photos_d_identite_2_pour_le_demandeur_provided","tabConfig":{"fraterie":{"order":3,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},"ascendants":{"order":3,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans","name":"Certificats de scolarité ou radiation (couvrant la période de 6 à 16 ans)","requiredProperty":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans_required","providedProperty":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans_provided","tabConfig":{"fraterie":{"order":5,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"tout_document_justifiant_la_residence_continue_en_france_depuis_l_age_de_16_ans_contr","name":"Tout document justifiant la résidence continue en France depuis l'âge de 16 ans (contrats, Pôle emploi, relevé de carrière...)","requiredProperty":"tout_document_justifiant_la_residence_continue_en_france_depuis_l_age_de_16_ans_contr_required","providedProperty":"tout_document_justifiant_la_residence_continue_en_france_depuis_l_age_de_16_ans_contr_provided","tabConfig":{"fraterie":{"order":6,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"carte_nationale_d_identite_2_photocopies_r_v_du_frere_ou_de_la_soeur","name":"Carte nationale d'identité (2 photocopies R/V) du frère ou de la sœur","requiredProperty":"carte_nationale_d_identite_2_photocopies_r_v_du_frere_ou_de_la_soeur_required","providedProperty":"carte_nationale_d_identite_2_photocopies_r_v_du_frere_ou_de_la_soeur_provided","tabConfig":{"fraterie":{"order":7,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"copie_integrale_originale_de_l_acte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la","name":"Copie intégrale originale de l'acte de naissance de moins de 3 mois du frère ou de la sœur","requiredProperty":"copie_integrale_originale_de_l_acte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la_required","providedProperty":"copie_integrale_originale_de_l_acte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la_provided","tabConfig":{"fraterie":{"order":8,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"certificat_de_nationalite_francaise_du_frere_ou_de_la_soeur_original_et_copie","name":"Certificat de nationalité française du frère ou de la sœur (Original et copie)","requiredProperty":"certificat_de_nationalite_francaise_du_frere_ou_de_la_soeur_original_et_copie_required","providedProperty":"certificat_de_nationalite_francaise_du_frere_ou_de_la_soeur_original_et_copie_provided","tabConfig":{"fraterie":{"order":9,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]}}},{"id":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin","name":"Copie recto-verso du titre de séjour en cours de validité du conjoint (ou concubin)","requiredProperty":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin_required","providedProperty":"copie_recto_verso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin_provided","tabConfig":{"fraterie":{"order":15,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"ascendants":{"order":17,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"copie_de_tous_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition","name":"Copie de tous les pages des 3 derniers avis d'imposition ou de non-imposition","requiredProperty":"copie_de_tous_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_required","providedProperty":"copie_de_tous_les_pages_des_3_derniers_avis_d_imposition_ou_de_non_imposition_provided","tabConfig":{"fraterie":{"order":16,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]},"ascendants":{"order":18,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail","name":"3 dernières fiches de paie du concubin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail_required","providedProperty":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail_provided","tabConfig":{"fraterie":{"order":20,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]},"ascendants":{"order":22,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail_2","name":"3 dernières fiches de paie du concubin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail_2_required","providedProperty":"3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_d_impots_contrat_de_travail_2_provided","tabConfig":{"fraterie":{"order":24,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]},"ascendants":{"order":26,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"justificatif_de_residence_en_france_certificat_de_scolarite_creche","name":"Justificatif de résidence en France (certificat de scolarité, crèche...)","requiredProperty":"justificatif_de_residence_en_france_certificat_de_scolarite_creche_required","providedProperty":"justificatif_de_residence_en_france_certificat_de_scolarite_creche_provided","tabConfig":{"fraterie":{"order":38,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_3","name":"Justificatif de domicile datant de moins de 6 mois","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_provided","tabConfig":{"fraterie":{"order":73,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]},"ascendants":{"order":74,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"domicile__","operator":"in","value":"Hébergé(e) à titre gratuit"}]}}},{"id":"formulaire_de_demande_cerfa_n15561_03_2_exemplaires_renseignes","name":"Formulaire de demande CERFA N°15561*03 (2 exemplaires, renseignés)","requiredProperty":"formulaire_de_demande_cerfa_n15561_03_2_exemplaires_renseignes_required","providedProperty":"formulaire_de_demande_cerfa_n15561_03_2_exemplaires_renseignes_provided","tabConfig":{"ascendants":{"order":1,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"certificat_de_nationalite_decret_de_naturalisation_ou_declaration_enregistree_du_desc","name":"Certificat de nationalité, Décret de naturalisation, ou Déclaration enregistrée du descendant","requiredProperty":"certificat_de_nationalite_decret_de_naturalisation_ou_declaration_enregistree_du_desc_required","providedProperty":"certificat_de_nationalite_decret_de_naturalisation_ou_declaration_enregistree_du_desc_provided","tabConfig":{"ascendants":{"order":6,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"tout_document_justifiant_25_ans_de_residence_continue_releve_de_carriere_retraite_imp","name":"Tout document justifiant 25 ans de résidence continue (relevé de carrière, retraite, impôts...). (Peuvent être au nom du conjoint).","requiredProperty":"tout_document_justifiant_25_ans_de_residence_continue_releve_de_carriere_retraite_imp_required","providedProperty":"tout_document_justifiant_25_ans_de_residence_continue_releve_de_carriere_retraite_imp_provided","tabConfig":{"ascendants":{"order":7,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"}]}}},{"id":"cni_2_photocopies_r_v_du_fils_ou_de_la_fille","name":"CNI (2 photocopies R/V) du fils ou de la fille","requiredProperty":"cni_2_photocopies_r_v_du_fils_ou_de_la_fille_required","providedProperty":"cni_2_photocopies_r_v_du_fils_ou_de_la_fille_provided","tabConfig":{"ascendants":{"order":8,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quel_est_votre_lien_avec_le_descendant_francais__","operator":"in","value":"Fils ou Fille"}]}}},{"id":"copie_integrale_originale_de_l_acte_de_naissance_ou_acte_de_naissance_avec_filiation","name":"Copie intégrale originale de l'acte de naissance (ou Acte de naissance avec filiation) de moins de 3 mois (Si adoption : jugement) du fils ou de la fille","requiredProperty":"copie_integrale_originale_de_l_acte_de_naissance_ou_acte_de_naissance_avec_filiation_required","providedProperty":"copie_integrale_originale_de_l_acte_de_naissance_ou_acte_de_naissance_avec_filiation_provided","tabConfig":{"ascendants":{"order":9,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quel_est_votre_lien_avec_le_descendant_francais__","operator":"in","value":"Fils ou Fille"}]}}},{"id":"cni_2_photocopies_r_v_du_petit_ou_arriere_petit_enfants","name":"CNI (2 photocopies R/V) du petit ou arrière petit enfants","requiredProperty":"cni_2_photocopies_r_v_du_petit_ou_arriere_petit_enfants_required","providedProperty":"cni_2_photocopies_r_v_du_petit_ou_arriere_petit_enfants_provided","tabConfig":{"ascendants":{"order":10,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quel_est_votre_lien_avec_le_descendant_francais__","operator":"in","value":"Petit-enfant ou Arrière-petit-enfant"}]}}},{"id":"actes_de_naissance_des_ascendants_intermediaires_copies_integrales_3_mois","name":"Actes de naissance des ascendants intermédiaires (Copies intégrales, < 3 mois)","requiredProperty":"actes_de_naissance_des_ascendants_intermediaires_copies_integrales_3_mois_required","providedProperty":"actes_de_naissance_des_ascendants_intermediaires_copies_integrales_3_mois_provided","tabConfig":{"ascendants":{"order":12,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"quel_est_votre_lien_avec_le_descendant_francais__","operator":"in","value":"Petit-enfant ou Arrière-petit-enfant"}]}}},{"id":"piece_d_identite_de_l_hebergeant_ou_passeport","name":"Pièce d'identité de l'hébergeant ou Passeport","requiredProperty":"piece_d_identite_de_l_hebergeant_ou_passeport_required","providedProperty":"piece_d_identite_de_l_hebergeant_ou_passeport_provided","tabConfig":{"ascendants":{"order":37,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par ascendant"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"justificatif_d_identite_passeport_ou_consulaire","name":"Justificatif d'identité (Passeport ou Consulaire)","requiredProperty":"justificatif_d_identite_passeport_ou_consulaire_required","providedProperty":"justificatif_d_identite_passeport_ou_consulaire_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":1,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"copie_integrale_d_acte_de_naissance_comportant_les_mentions_les_plus_recentes_traduct","name":"Copie intégrale d'acte de naissance comportant les mentions les plus récentes + traduction en français par un traducteur assermenté auprès des tribunaux français + jugement supplétif complet le cas échéant","requiredProperty":"copie_integrale_d_acte_de_naissance_comportant_les_mentions_les_plus_recentes_traduct_required","providedProperty":"copie_integrale_d_acte_de_naissance_comportant_les_mentions_les_plus_recentes_traduct_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"2_preuves_de_presence_par_annee_impots_ame_decision_administrative_releves_de_comptes","name":"2 preuves de présence par année -> impôts, AME, Décision administrative, relevés de comptes…) prouvant votre présence sur le territoire français.","requiredProperty":"2_preuves_de_presence_par_annee_impots_ame_decision_administrative_releves_de_comptes_required","providedProperty":"2_preuves_de_presence_par_annee_impots_ame_decision_administrative_releves_de_comptes_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":3,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"contrat_d_engagement_a_respecter_les_principes_de_la_republique_signe","name":"Contrat d'engagement à respecter les principes de la République signé","requiredProperty":"contrat_d_engagement_a_respecter_les_principes_de_la_republique_signe_required","providedProperty":"contrat_d_engagement_a_respecter_les_principes_de_la_republique_signe_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":4,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"piece_justificative_scolarite_diplome_formation","name":"Pièce justificative SCOLARITE / DIPLOME / FORMATION","requiredProperty":"piece_justificative_scolarite_diplome_formation_required","providedProperty":"piece_justificative_scolarite_diplome_formation_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":5,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_fait_votre_scolarite_formation_en_france__","operator":"in","value":"true"}]}}},{"id":"12_fiches_de_paies_sur_les_36_derniers_mois","name":"12 fiches de paies sur les 36 derniers mois","requiredProperty":"12_fiches_de_paies_sur_les_36_derniers_mois_required","providedProperty":"12_fiches_de_paies_sur_les_36_derniers_mois_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":6,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_professionnel_aes__","operator":"in","value":"CDI/CDD/Interimaire"}]}}},{"id":"cerfa_demande_d_autorisation_de_travail_k_bis_moins_de_3_mois_bordereau_de_declaratio","name":"CERFA Demande d’autorisation de travail K-bis moins de 3 mois Bordereau de déclaration d'urssaf Lettre de motivation de l'employeur","requiredProperty":"cerfa_demande_d_autorisation_de_travail_k_bis_moins_de_3_mois_bordereau_de_declaratio_required","providedProperty":"cerfa_demande_d_autorisation_de_travail_k_bis_moins_de_3_mois_bordereau_de_declaratio_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":7,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_professionnel_aes__","operator":"in","value":"CDI/CDD/Interimaire"}]}}},{"id":"formulaire_de_demande_d_admission_exceptionnelle_au_sejour_aes_metiers_en_tension","name":"Formulaire de demande d'admission exceptionnelle au séjour (AES) métiers en tension","requiredProperty":"formulaire_de_demande_d_admission_exceptionnelle_au_sejour_aes_metiers_en_tension_required","providedProperty":"formulaire_de_demande_d_admission_exceptionnelle_au_sejour_aes_metiers_en_tension_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":8,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_professionnel_aes__","operator":"in","value":"Métier en tension CDI/CDD"}]}}},{"id":"12_fiches_de_paies_dans_le_metier_en_tension","name":"12 fiches de paies dans le métier en tension","requiredProperty":"12_fiches_de_paies_dans_le_metier_en_tension_required","providedProperty":"12_fiches_de_paies_dans_le_metier_en_tension_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":9,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_professionnel_aes__","operator":"in","value":"Métier en tension CDI/CDD"}]}}},{"id":"piece_d_identite_du_conjoint_partenaire_concubin","name":"Pièce d'identité du conjoint / partenaire / concubin","requiredProperty":"piece_d_identite_du_conjoint_partenaire_concubin_required","providedProperty":"piece_d_identite_du_conjoint_partenaire_concubin_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":10,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"justificatif_de_residence_commune","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_required","providedProperty":"justificatif_de_residence_commune_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":11,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"}]}}},{"id":"piece_d_identite_du_conjoint_partenaire_concubin_2","name":"Pièce d'identité du conjoint / partenaire / concubin","requiredProperty":"piece_d_identite_du_conjoint_partenaire_concubin_2_required","providedProperty":"piece_d_identite_du_conjoint_partenaire_concubin_2_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":12,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"justificatif_de_residence_commune_2","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_2_required","providedProperty":"justificatif_de_residence_commune_2_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"}]}}},{"id":"piece_d_identite_du_conjoint_partenaire_concubin_3","name":"Pièce d'identité du conjoint / partenaire / concubin","requiredProperty":"piece_d_identite_du_conjoint_partenaire_concubin_3_required","providedProperty":"piece_d_identite_du_conjoint_partenaire_concubin_3_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":14,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"justificatif_de_residence_commune_3","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_3_required","providedProperty":"justificatif_de_residence_commune_3_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":15,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"}]}}},{"id":"document_d_identite_du_concubin_partenaire_conjoint","name":"Document d'identité du concubin / partenaire / conjoint","requiredProperty":"document_d_identite_du_concubin_partenaire_conjoint_required","providedProperty":"document_d_identite_du_concubin_partenaire_conjoint_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":16,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]}}},{"id":"justificatif_de_residence_commune_4","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_4_required","providedProperty":"justificatif_de_residence_commune_4_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":17,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"}]}}},{"id":"document_d_identite_du_concubin_partenaire_conjoint_2","name":"Document d'identité du concubin / partenaire / conjoint","requiredProperty":"document_d_identite_du_concubin_partenaire_conjoint_2_required","providedProperty":"document_d_identite_du_concubin_partenaire_conjoint_2_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":18,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]}}},{"id":"justificatif_de_residence_commune_5","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_5_required","providedProperty":"justificatif_de_residence_commune_5_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":19,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"}]}}},{"id":"document_d_identite_du_partenaire_concubin_conjoint","name":"Document d'identité du partenaire / concubin / conjoint","requiredProperty":"document_d_identite_du_partenaire_concubin_conjoint_required","providedProperty":"document_d_identite_du_partenaire_concubin_conjoint_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":20,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]}}},{"id":"justificatif_de_residence_commune_6","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_6_required","providedProperty":"justificatif_de_residence_commune_6_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":21,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"}]}}},{"id":"document_d_identite_du_concubin_partenaire_conjoint_3","name":"Document d'identité du concubin / partenaire / conjoint","requiredProperty":"document_d_identite_du_concubin_partenaire_conjoint_3_required","providedProperty":"document_d_identite_du_concubin_partenaire_conjoint_3_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":22,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]}}},{"id":"justificatif_de_residence_commune_7","name":"Justificatif de résidence commune","requiredProperty":"justificatif_de_residence_commune_7_required","providedProperty":"justificatif_de_residence_commune_7_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":23,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"}]}}},{"id":"aucun_document_conjoint_requis","name":"(Aucun document conjoint requis)","requiredProperty":"aucun_document_conjoint_requis_required","providedProperty":"aucun_document_conjoint_requis_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":25,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Célibataire"}]}}},{"id":"em1_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n1_passeport_ou_piece_d","name":"EM1 Copie intégrale de l'acte de naissance de l'enfant mineur n°1 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":26,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"}]}}},{"id":"em2_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n2_passeport_ou_piece_d","name":"EM2 Copie intégrale de l'acte de naissance de l'enfant mineur n°2 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_2_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_2_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":27,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"}]}}},{"id":"em3_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n3_passeport_ou_piece_d","name":"EM3 Copie intégrale de l'acte de naissance de l'enfant mineur n°3 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_3_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_3_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":28,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"}]}}},{"id":"em4_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n4_passeport_ou_piece_d","name":"EM4 Copie intégrale de l'acte de naissance de l'enfant mineur n°4 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_4_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_4_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":29,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"}]}}},{"id":"em5_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n5_passeport_ou_piece_d","name":"EM5 Copie intégrale de l'acte de naissance de l'enfant mineur n°5 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_5_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_5_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":30,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"}]}}},{"id":"em6_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n6_passeport_ou_piece_d","name":"EM6 Copie intégrale de l'acte de naissance de l'enfant mineur n°6 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_6_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_6_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":31,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"}]}}},{"id":"em7_copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_n7_passeport_ou_piece_d","name":"EM7 Copie intégrale de l'acte de naissance de l'enfant mineur n°7 + Passeport ou Pièce d'identité","requiredProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_7_required","providedProperty":"copie_integrale_de_l_acte_de_naissance_de_l_enfant_mineur_passeport_ou_piece_d_identi_7_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":32,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"}]}}},{"id":"piece_d_identite_ou_titre_de_sejour_de_l_hebergeant","name":"Pièce d'identité ou titre de séjour de l'hébergeant","requiredProperty":"piece_d_identite_ou_titre_de_sejour_de_l_hebergeant_required","providedProperty":"piece_d_identite_ou_titre_de_sejour_de_l_hebergeant_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":34,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis hébergé par un particulier."}]}}},{"id":"attestation_de_l_hotelier_et_facture_du_dernier_mois","name":"Attestation de l’hôtelier et facture du dernier mois","requiredProperty":"attestation_de_l_hotelier_et_facture_du_dernier_mois_required","providedProperty":"attestation_de_l_hotelier_et_facture_du_dernier_mois_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":35,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"},{"property":"domicile__","operator":"in","value":"Je suis hébergé à l'hôtel."}]}}},{"id":"copie_du_visa_d_entree_en_france","name":"Copie du visa d'entrée en France","requiredProperty":"copie_du_visa_d_entree_en_france_required","providedProperty":"copie_du_visa_d_entree_en_france_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":39,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"copie_du_visa_d_entree_en_france_2","name":"Copie du visa d'entrée en France","requiredProperty":"copie_du_visa_d_entree_en_france_2_required","providedProperty":"copie_du_visa_d_entree_en_france_2_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":40,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"aucun_visa_a_fournir","name":"(Aucun visa à fournir)","requiredProperty":"aucun_visa_a_fournir_required","providedProperty":"aucun_visa_a_fournir_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":41,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}},{"id":"titre_de_sejour_delivre_dans_un_autre_pays_de_l_union_europeenne","name":"Titre de séjour délivré dans un autre pays de l'Union Européenne","requiredProperty":"titre_de_sejour_delivre_dans_un_autre_pays_de_l_union_europeenne_required","providedProperty":"titre_de_sejour_delivre_dans_un_autre_pays_de_l_union_europeenne_provided","tabConfig":{"aes_et_renouvellement_aes":{"order":42,"conditions":[{"property":"sous_categorie","operator":"equals","value":"AES et renouvellement AES"}]}}}]`);
  const tabsConfig = [
    {
      id: "decret",
      title: "Décret",
      description: "Documents liés au décret"
    },
    {
      id: "naturalisation_mariage",
      title: "Naturalisation Mariage",
      description: "Documents liés à la naturalisation par mariage"
    },
    {
      id: "autre",
      title: "Autre",
      description: "Autres documents"
    },
    {
      id: "fraterie",
      title: "Naturalisation par fratrie",
      description: "Documents liés à la naturalisation par fratrie"
    },
    {
      id: "ascendant",
      title: "Ascendant",
      description: "Documents liés à la naturalisation par ascendant"
    },
    {
      id: "aes",
      title: "AES",
      description: "Documents liés à l'admission exceptionnelle au séjour et renouvellement AES"
    },
    {
      id: "titre_sejour_plein_droit",
      title: "Titre de séjour de Plein droit",
      description: "Documents liés aux titres de séjour de plein droit"
    },
    {
      id: "renouvellement",
      title: "Renouvellement",
      description: "Documents liés au renouvellement de titres de séjour"
    }
  ];
  const conditionalPropertiesConfig = [
    "sous_categorie",
    "avez_vous_un_statut_refugie_ou_apatride__",
    "quelle_est_votre_situation_professionnel__",
    "quelle_est_votre_situation_familliale",
    "avez_vous_des_enfant_mineur__",
    "domicile__",
    "percevez_vous_",
    "quel_est_votre_lien_avec_le_descendant_francais__",
    "avez_vous_fait_votre_scolarite_formation_en_france__",
    "quelle_est_votre_situation_professionnel_aes__",
    "type_d_entree_en_france",
    "quel_est_votre_lien_avec_le_refugie__",
    "vous_etes_entree_en_france_en_tant_que__",
    "revenu_percu_par_letudiant__",
    "etes_vous_marie_depuis_moins_de_5_ans__",
    "votre_mariage_a_t_il_ete_celebre_a_l_etranger__",
    "l_un_des_epoux__ou_les_deux__a_t_il_eu_des_unions_anterieures__",
    "avez_vous_des_enfants__mineurs_ou_majeurs___",
    "avez_vous_des_enfants_mineurs_etrangers_residant_avec_vous__",
    "etes_vous_entre_en_france_il_y_a_moins_de_10_ans__"
  ];
  hubspot.extend(({ context, actions }) => /* @__PURE__ */ React2.createElement(Extension, { context, actions }));
  const DOCUMENTS_CONFIG = documentsConfig;
  const TABS_CONFIG = tabsConfig;
  const INITIAL_DOCUMENTS = DOCUMENTS_CONFIG.map((config) => ({
    id: config.id,
    name: config.name,
    required: false,
    provided: false,
    requiredProperty: config.requiredProperty,
    providedProperty: config.providedProperty,
    tabConfig: config.tabConfig || {}
  }));
  const COMPLETION_PROPERTY = "documents_completed";
  const DOSSIER_STATE_PROPERTY = "etat_du_dossier";
  const DOSSIER_STATES = {
    TO_BUILD: "À construire",
    INCOMPLETE: "En construction",
    COMPLETE: "Complet"
  };
  const documentBelongsToTab = (doc, tabId) => {
    return doc.tabConfig && tabId in doc.tabConfig;
  };
  const getOrderForTab = (doc, tabId) => {
    var _a, _b;
    return ((_b = (_a = doc.tabConfig) == null ? void 0 : _a[tabId]) == null ? void 0 : _b.order) ?? 9999;
  };
  const getAllConditions = (doc) => {
    if (!doc.tabConfig) return [];
    const allConditions = [];
    Object.values(doc.tabConfig).forEach((config) => {
      if (config.conditions) {
        allConditions.push(...config.conditions);
      }
    });
    return allConditions;
  };
  const toBool = (value) => {
    if (typeof value === "boolean") {
      return value;
    }
    if (value === null || value === void 0 || value === "") {
      return false;
    }
    if (typeof value === "string") {
      const lower = value.toLowerCase().trim();
      if (lower === "true" || lower === "1" || lower === "yes" || lower === "oui") {
        return true;
      }
      if (lower === "false" || lower === "0" || lower === "no" || lower === "non" || lower === "--") {
        return false;
      }
      return false;
    }
    if (typeof value === "number") {
      return value !== 0;
    }
    return Boolean(value);
  };
  const Extension = ({ context, actions }) => {
    var _a;
    const [documents, setDocuments] = React2.useState(INITIAL_DOCUMENTS);
    const [recordProperties, setRecordProperties] = React2.useState({});
    const [loading, setLoading] = React2.useState(true);
    const [saving, setSaving] = React2.useState(false);
    const [error, setError] = React2.useState("");
    const [isChanged, setIsChanged] = React2.useState(false);
    const [isCompleted, setIsCompleted] = React2.useState(false);
    const [existingProperties, setExistingProperties] = React2.useState(/* @__PURE__ */ new Set());
    const [dossierState, setDossierState] = React2.useState(DOSSIER_STATES.TO_BUILD);
    const [initialCompletionStatus, setInitialCompletionStatus] = React2.useState(false);
    const [initialDossierState, setInitialDossierState] = React2.useState(DOSSIER_STATES.TO_BUILD);
    const [showSuccess, setShowSuccess] = React2.useState(false);
    const [showEmailSuccess, setShowEmailSuccess] = React2.useState(false);
    const [selectedTab, setSelectedTab] = React2.useState(((_a = TABS_CONFIG[0]) == null ? void 0 : _a.id) || "autre");
    const [searchTerm, setSearchTerm] = React2.useState("");
    const [natureDemande, setNatureDemande] = React2.useState("");
    const [isRefugieApatride, setIsRefugieApatride] = React2.useState(false);
    const [refugieRaw, setRefugieRaw] = React2.useState("");
    const [hasConfigError, setHasConfigError] = React2.useState(false);
    const [isAutoSaving, setIsAutoSaving] = React2.useState(false);
    const checkCompletion = (docs) => {
      const incompleteRequired = docs.find((doc) => doc.required && !doc.provided);
      const hasRequiredDocs = docs.some((doc) => doc.required);
      return !incompleteRequired && hasRequiredDocs;
    };
    const calculateDossierState = (docs) => {
      const hasRequiredDocs = docs.some((doc) => doc.required);
      if (!hasRequiredDocs) {
        return DOSSIER_STATES.TO_BUILD;
      }
      const anyProvided = docs.some((doc) => doc.provided);
      if (anyProvided) {
        const allRequiredProvided = !docs.some((doc) => doc.required && !doc.provided);
        return allRequiredProvided ? DOSSIER_STATES.COMPLETE : DOSSIER_STATES.INCOMPLETE;
      }
      return DOSSIER_STATES.TO_BUILD;
    };
    React2.useEffect(() => {
      fetchDocumentValues();
      if (typeof window !== "undefined") {
        const handleFocus = () => {
          fetchDocumentValues();
        };
        window.addEventListener("focus", handleFocus);
        return () => window.removeEventListener("focus", handleFocus);
      }
    }, []);
    const calculateMissingDocuments = (docs, properties) => {
      const propsToUse = properties || recordProperties;
      const missingDocs = docs.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsToUse);
        const hasConditions = getAllConditions(doc).length > 0;
        const isRequired = doc.required || (hasConditions ? conditionsMet : false);
        return isRequired && !doc.provided;
      }).map((doc) => doc.name).filter((name) => name.trim() !== "");
      if (missingDocs.length === 0) {
        return "";
      }
      const listItems = missingDocs.map((docName) => `<li>${docName}</li>`).join("");
      return `<ul>${listItems}</ul>`;
    };
    const getMissingDocumentsList = (docs, properties) => {
      const propsToUse = properties || recordProperties;
      const missingDocs = docs.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsToUse);
        const hasConditions = getAllConditions(doc).length > 0;
        const isRequired = doc.required || (hasConditions ? conditionsMet : false);
        return isRequired && !doc.provided;
      }).map((doc) => doc.name).filter((name) => name.trim() !== "");
      return missingDocs;
    };
    const updateSendMailProperty = async () => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        return false;
      }
      try {
        await hubspot.serverless("updateDocuments", {
          parameters: {
            hs_object_id: objectId.toString(),
            documents: {
              send_mail: true
            }
          }
        });
        return true;
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Erreur lors de l'envoi de l'email");
        return false;
      }
    };
    const updateMissingDocProperty = async (missingDocs) => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        return false;
      }
      if (hasConfigError) {
        return false;
      }
      try {
        const response = await hubspot.serverless("updateCompletionStatus", {
          parameters: {
            missingDoc: missingDocs,
            hs_object_id: objectId.toString()
          }
        });
        if ((response == null ? void 0 : response.status) === "error") {
          const errorMsg = response.message || "";
          if (errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("token")) {
            if (!hasConfigError) {
              console.warn("[DocumentList] updateMissingDocProperty: Configuration issue detected -", errorMsg);
              console.warn("[DocumentList] updateMissingDocProperty: Please check HubSpot app secrets configuration. Updates will be skipped.");
              setHasConfigError(true);
            }
            return false;
          }
          console.error("[DocumentList] updateMissingDocProperty: ERROR -", errorMsg);
          return false;
        }
        if (hasConfigError) {
          setHasConfigError(false);
        }
        return true;
      } catch (err) {
        const errorMsg = (err == null ? void 0 : err.message) || String(err);
        if (errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("token")) {
          if (!hasConfigError) {
            console.warn("[DocumentList] updateMissingDocProperty: Configuration issue detected -", errorMsg);
            console.warn("[DocumentList] updateMissingDocProperty: Please check HubSpot app secrets configuration. Updates will be skipped.");
            setHasConfigError(true);
          }
          return false;
        }
        console.error("[DocumentList] updateMissingDocProperty: EXCEPTION -", errorMsg);
        return false;
      }
    };
    const updateStatusProperties = async (completionStatus, dossierState2, missingDocs) => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        console.error("[DocumentList] updateStatusProperties: No object ID");
        return false;
      }
      try {
        const response = await hubspot.serverless("updateCompletionStatus", {
          parameters: {
            completionStatus,
            dossierState: dossierState2,
            missingDoc: missingDocs,
            hs_object_id: objectId.toString()
          }
        });
        if ((response == null ? void 0 : response.status) === "error") {
          const errorMsg = response.message || "";
          if (errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("token")) {
            if (!hasConfigError) {
              console.warn("[DocumentList] updateStatusProperties: Configuration issue detected -", errorMsg);
              console.warn("[DocumentList] updateStatusProperties: Please check HubSpot app secrets configuration.");
              setHasConfigError(true);
            }
            setError("Configuration error: Please check HubSpot app secrets");
            return false;
          }
          console.error("[DocumentList] updateStatusProperties: ERROR -", errorMsg);
          setError(errorMsg || "Error updating status properties");
          return false;
        }
        if ((response == null ? void 0 : response.status) === "success" || (response == null ? void 0 : response.status) === "partial_success") {
          console.log("[DocumentList] updateStatusProperties: SUCCESS -", {
            completionStatus,
            dossierState: dossierState2,
            missingDocsCount: missingDocs ? (missingDocs.match(/<li>/g) || []).length : 0
          });
          if (hasConfigError) {
            setHasConfigError(false);
          }
          return true;
        }
        console.log("[DocumentList] updateStatusProperties: SUCCESS (backward compatibility)");
        return true;
      } catch (err) {
        const errorMsg = (err == null ? void 0 : err.message) || String(err);
        if (errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("token")) {
          if (!hasConfigError) {
            console.warn("[DocumentList] updateStatusProperties: Configuration issue detected -", errorMsg);
            console.warn("[DocumentList] updateStatusProperties: Please check HubSpot app secrets configuration.");
            setHasConfigError(true);
          }
          setError("Configuration error: Please check HubSpot app secrets");
          return false;
        }
        console.error("[DocumentList] updateStatusProperties: EXCEPTION -", errorMsg);
        setError(errorMsg || "Error updating status properties");
        return false;
      }
    };
    const [initialDocuments, setInitialDocuments] = React2.useState([]);
    const fetchDocumentValues = async () => {
      var _a2, _b;
      setLoading(true);
      setError("");
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        setError("Object ID not found in context");
        setLoading(false);
        return;
      }
      if (hasConfigError) {
        setLoading(false);
        return;
      }
      const propertyNames = [];
      propertyNames.push("sous_categorie");
      if (Array.isArray(conditionalPropertiesConfig)) {
        conditionalPropertiesConfig.forEach((prop) => {
          if (!propertyNames.includes(prop)) {
            propertyNames.push(prop);
          }
        });
      }
      INITIAL_DOCUMENTS.forEach((doc) => {
        if (doc.requiredProperty) {
          propertyNames.push(doc.requiredProperty);
        }
        if (doc.providedProperty) {
          propertyNames.push(doc.providedProperty);
        }
      });
      try {
        const response = await hubspot.serverless("getDocumentValues", {
          propertiesToSend: ["hs_object_id"],
          parameters: {
            propertyNames,
            includeCompletion: true,
            hs_object_id: objectId.toString()
          }
        });
        if (response == null ? void 0 : response.error) {
          const errorMsg = response.error || "";
          if (errorMsg.includes("token") || errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("access token")) {
            if (!hasConfigError) {
              const isDevContext = !((_b = context.crm) == null ? void 0 : _b.objectId);
              if (isDevContext) {
                console.warn("[DocumentList] fetchDocumentValues: Secrets not available during development.");
                console.warn("[DocumentList] fetchDocumentValues: This is expected. The app will work when deployed with secrets configured.");
              } else {
                console.error("[DocumentList] fetchDocumentValues: Configuration issue detected -", errorMsg);
                console.error("[DocumentList] fetchDocumentValues: Please configure HubSpot app secrets (hubspot_api_key or sandbox_hubspot_api_key)");
                setError("Configuration error: Please check HubSpot app secrets");
              }
              setHasConfigError(true);
            }
            setLoading(false);
            return;
          }
          if (hasConfigError) {
            setHasConfigError(false);
          }
          setError(errorMsg || "Error fetching document values");
          setLoading(false);
          return;
        }
        if (hasConfigError) {
          setHasConfigError(false);
          setError("");
        }
        const properties = response || {};
        const getPropValue = (obj, needle) => {
          if (!obj) return void 0;
          const lower = needle.toLowerCase();
          const hitKey = Object.keys(obj).find((k) => k.toLowerCase() === lower || k.toLowerCase().includes(lower));
          return hitKey ? obj[hitKey] : void 0;
        };
        const completionStatus = toBool(properties[COMPLETION_PROPERTY]);
        setIsCompleted(completionStatus);
        setInitialCompletionStatus(completionStatus);
        const currentDossierState = properties[DOSSIER_STATE_PROPERTY] || DOSSIER_STATES.TO_BUILD;
        setDossierState(currentDossierState);
        setInitialDossierState(currentDossierState);
        let nd = properties["sous_categorie"];
        if (!nd || nd === "" || nd === null || nd === void 0) {
          nd = getPropValue(properties, "sous_categorie");
        }
        if (!nd || nd === "" || nd === null || nd === void 0) {
          const sousKeys = Object.keys(properties).filter(
            (k) => k.toLowerCase().includes("sous") && k.toLowerCase().includes("categorie")
          );
          if (sousKeys.length > 0) {
            nd = properties[sousKeys[0]];
          }
        }
        nd = (nd || "").toString().trim();
        setNatureDemande(nd);
        if (nd) {
          properties["sous_categorie"] = nd;
        }
        if (nd) {
          const tabId = getTabForNatureDemande(nd);
          if (tabId) {
            setSelectedTab(tabId);
          }
        }
        const refugieVal = getPropValue(properties, "avez_vous_un_statut_refugie_ou_apatride");
        const refugieStr = refugieVal === void 0 || refugieVal === null ? "" : String(refugieVal);
        setRefugieRaw(refugieStr);
        setIsRefugieApatride(toBool(refugieStr));
        setRecordProperties(properties);
        const propertiesSet = /* @__PURE__ */ new Set();
        Object.keys(properties).forEach((key) => {
          if (key.includes("_required") || key.includes("_provided")) {
            propertiesSet.add(key);
          }
        });
        setExistingProperties(propertiesSet);
        let updatedDocuments = INITIAL_DOCUMENTS.map((doc) => {
          const requiredProp = doc.requiredProperty;
          const providedProp = doc.providedProperty;
          const requiredRaw = properties[requiredProp];
          const providedRaw = properties[providedProp];
          const requiredFromHubSpot = toBool(requiredRaw);
          const provided = toBool(providedRaw);
          if (doc.id === "timbre_fiscal_de_55") {
            console.log(`[fetchDocumentValues] Document "${doc.name}":`);
            console.log(`[fetchDocumentValues]   requiredRaw from HubSpot: "${requiredRaw}" (type: ${typeof requiredRaw})`);
            console.log(`[fetchDocumentValues]   requiredFromHubSpot: ${requiredFromHubSpot}`);
            console.log(`[fetchDocumentValues]   providedRaw from HubSpot: "${providedRaw}" (type: ${typeof providedRaw})`);
            console.log(`[fetchDocumentValues]   provided: ${provided}`);
            console.log(`[fetchDocumentValues]   Property exists in properties: ${requiredProp in properties}`);
          }
          if (doc.id.includes("document_justifiant_de_la_date_et_du_lieu_de_naissance")) {
            console.log(`[DocumentList] fetchDocumentValues: Document "${doc.name}"`);
            console.log(`[DocumentList] fetchDocumentValues: requiredRaw="${requiredRaw}" (type: ${typeof requiredRaw}) -> requiredFromHubSpot=${requiredFromHubSpot}`);
            console.log(`[DocumentList] fetchDocumentValues: providedRaw="${providedRaw}" (type: ${typeof providedRaw}) -> provided=${provided}`);
            console.log(`[DocumentList] fetchDocumentValues: Property names - required: "${requiredProp}", provided: "${providedProp}"`);
            console.log(`[DocumentList] fetchDocumentValues: Properties exist? required: ${requiredProp in properties}, provided: ${providedProp in properties}`);
          }
          const conditionsMet = checkDocumentConditions(doc, properties);
          const hasConditions = getAllConditions(doc).length > 0;
          let required;
          if (hasConditions) {
            if (conditionsMet) {
              required = true;
            } else {
              if (provided) {
                required = requiredFromHubSpot;
              } else {
                required = false;
              }
            }
          } else {
            required = requiredFromHubSpot;
          }
          return {
            ...doc,
            required,
            provided,
            _requiredFromHubSpot: requiredFromHubSpot,
            _shouldBeRequired: hasConditions ? conditionsMet ? true : requiredFromHubSpot : requiredFromHubSpot
          };
        });
        setDocuments(updatedDocuments);
        setInitialDocuments([...updatedDocuments]);
        const calculatedCompletion = checkCompletion(updatedDocuments);
        const calculatedDossierState = calculateDossierState(updatedDocuments);
        if (calculatedCompletion !== completionStatus || calculatedDossierState !== currentDossierState) {
          setIsCompleted(calculatedCompletion);
          setDossierState(calculatedDossierState);
          setInitialCompletionStatus(calculatedCompletion);
          setInitialDossierState(calculatedDossierState);
        }
        const missingDocs = calculateMissingDocuments(updatedDocuments, properties);
        updateMissingDocProperty(missingDocs).catch(() => {
        });
        setIsChanged(false);
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Unknown error fetching document values");
      } finally {
        setLoading(false);
      }
    };
    const handleCheckboxToggle = (documentId, field) => {
      return (checked, value) => {
        setDocuments((prevDocs) => {
          const newDocs = prevDocs.map((doc) => {
            if (doc.id === documentId) {
              if (field === "required") {
                const conditionsMet = checkDocumentConditions(doc, recordProperties);
                const hasConditions = getAllConditions(doc).length > 0;
                const isAutreTab = selectedTab === "autre";
                if (hasConditions && !isAutreTab) {
                  if (conditionsMet && !checked) {
                    return doc;
                  }
                  if (!conditionsMet && checked) {
                    return doc;
                  }
                  return { ...doc, required: conditionsMet };
                }
                return { ...doc, [field]: checked };
              }
              return { ...doc, [field]: checked };
            }
            return doc;
          });
          const newCompletionStatus = checkCompletion(newDocs);
          const newDossierState = calculateDossierState(newDocs);
          setIsCompleted(newCompletionStatus);
          setDossierState(newDossierState);
          const missingDocs = calculateMissingDocuments(newDocs);
          updateMissingDocProperty(missingDocs).catch(() => {
          });
          const completionChanged = newCompletionStatus !== initialCompletionStatus;
          const dossierStateChanged = newDossierState !== initialDossierState;
          const documentsChanged = newDocs.some((currentDoc, index) => {
            const initialDoc = initialDocuments[index];
            if (!initialDoc) return true;
            return currentDoc.required !== initialDoc.required || currentDoc.provided !== initialDoc.provided;
          });
          setIsChanged(completionChanged || dossierStateChanged || documentsChanged);
          return newDocs;
        });
      };
    };
    const checkForChanges = () => {
      const completionChanged = isCompleted !== initialCompletionStatus;
      const dossierStateChanged = dossierState !== initialDossierState;
      const documentsChanged = documents.some((currentDoc, index) => {
        const initialDoc = initialDocuments[index];
        if (!initialDoc) return true;
        return currentDoc.required !== initialDoc.required || currentDoc.provided !== initialDoc.provided;
      });
      setIsChanged(completionChanged || dossierStateChanged || documentsChanged);
    };
    const saveDocumentChanges = async (docsToSave, skipRefetch = false) => {
      var _a2;
      setSaving(true);
      setError("");
      try {
        const docs = docsToSave || documents;
        const documentProperties = {};
        let visibleDocIds = /* @__PURE__ */ new Set();
        try {
          const visibleDocs = getVisibleDocuments();
          visibleDocIds = new Set(visibleDocs.map((d) => d.id));
        } catch (err) {
          console.warn("[saveDocumentChanges] Could not get visible documents, using all documents:", err);
          visibleDocIds = new Set(docs.map((d) => d.id));
        }
        const seenProperties = /* @__PURE__ */ new Map();
        docs.forEach((doc) => {
          const requiredProp = doc.requiredProperty;
          const providedProp = doc.providedProperty;
          const isRequired = doc.required;
          const isVisible = visibleDocIds.has(doc.id);
          if (seenProperties.has(requiredProp)) {
            const previous = seenProperties.get(requiredProp);
            if (isVisible && !previous.isVisible) {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate required property "${requiredProp}" - using VISIBLE document`);
              console.warn(`[DocumentList] saveDocumentChanges: Previous (not visible): doc="${previous.docName}" (${previous.docId}) = ${previous.value}`);
              console.warn(`[DocumentList] saveDocumentChanges: New (visible): doc="${doc.name}" (${doc.id}) = ${isRequired}`);
              seenProperties.set(requiredProp, { docId: doc.id, docName: doc.name, value: isRequired, isVisible });
              documentProperties[requiredProp] = isRequired;
            } else if (!isVisible && previous.isVisible) {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate required property "${requiredProp}" - keeping VISIBLE document value`);
            } else {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate required property "${requiredProp}" - using last value`);
              seenProperties.set(requiredProp, { docId: doc.id, docName: doc.name, value: isRequired, isVisible });
              documentProperties[requiredProp] = isRequired;
            }
          } else {
            seenProperties.set(requiredProp, { docId: doc.id, docName: doc.name, value: isRequired, isVisible });
            documentProperties[requiredProp] = isRequired;
          }
          if (seenProperties.has(providedProp)) {
            const previous = seenProperties.get(providedProp);
            if (isVisible && !previous.isVisible) {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate provided property "${providedProp}" - using VISIBLE document`);
              console.warn(`[DocumentList] saveDocumentChanges: Previous (not visible): doc="${previous.docName}" (${previous.docId}) = ${previous.value}`);
              console.warn(`[DocumentList] saveDocumentChanges: New (visible): doc="${doc.name}" (${doc.id}) = ${doc.provided}`);
              seenProperties.set(providedProp, { docId: doc.id, docName: doc.name, value: doc.provided, isVisible });
              documentProperties[providedProp] = doc.provided;
            } else if (!isVisible && previous.isVisible) {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate provided property "${providedProp}" - keeping VISIBLE document value`);
            } else {
              console.warn(`[DocumentList] saveDocumentChanges: Duplicate provided property "${providedProp}" - using last value`);
              seenProperties.set(providedProp, { docId: doc.id, docName: doc.name, value: doc.provided, isVisible });
              documentProperties[providedProp] = doc.provided;
            }
          } else {
            seenProperties.set(providedProp, { docId: doc.id, docName: doc.name, value: doc.provided, isVisible });
            documentProperties[providedProp] = doc.provided;
          }
          if (doc.id.includes("document_justifiant_de_la_date_et_du_lieu_de_naissance")) {
            console.log(`[DocumentList] saveDocumentChanges: Document "${doc.name}" (id: ${doc.id})`);
            console.log(`[DocumentList] saveDocumentChanges: required=${isRequired} (property: ${requiredProp}), visible=${isVisible}`);
            console.log(`[DocumentList] saveDocumentChanges: provided=${doc.provided} (property: ${providedProp}), visible=${isVisible}`);
          }
        });
        const targetProp = "document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_de_l_provided";
        if (targetProp in documentProperties) {
          const finalInfo = seenProperties.get(targetProp);
          console.log(`[DocumentList] saveDocumentChanges: FINAL value for ${targetProp} = ${documentProperties[targetProp]} (type: ${typeof documentProperties[targetProp]})`);
          if (finalInfo) {
            console.log(`[DocumentList] saveDocumentChanges: Final value comes from doc "${finalInfo.docName}" (${finalInfo.docId}), visible=${finalInfo.isVisible}`);
          }
        }
        const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
        if (!objectId) {
          setError("Object ID not found in context");
          setSaving(false);
          return;
        }
        console.log("[DocumentList] saveDocumentChanges: Sending update for", Object.keys(documentProperties).length, "properties");
        console.log("[DocumentList] saveDocumentChanges: Sample properties:", Object.entries(documentProperties).slice(0, 5).map(([k, v]) => `${k}=${v}`).join(", "));
        const docResponse = await hubspot.serverless("updateDocuments", {
          parameters: {
            documents: documentProperties,
            hs_object_id: objectId.toString()
          }
        });
        console.log("[DocumentList] saveDocumentChanges: Response status:", docResponse == null ? void 0 : docResponse.status);
        console.log("[DocumentList] saveDocumentChanges: Response data:", (docResponse == null ? void 0 : docResponse.data) ? "Received" : "No data");
        if ((docResponse == null ? void 0 : docResponse.status) === "error") {
          const errorMsg = docResponse.message || "";
          if (errorMsg.includes("does not exist") || errorMsg.includes("PROPERTY_DOESNT_EXIST")) {
            console.warn("[DocumentList] saveDocumentChanges: Some properties do not exist, continuing...");
          } else if (errorMsg.includes("API key") || errorMsg.includes("secret") || errorMsg.includes("token")) {
            if (!hasConfigError) {
              console.warn("[DocumentList] saveDocumentChanges: Configuration issue detected -", errorMsg);
              console.warn("[DocumentList] saveDocumentChanges: Please check HubSpot app secrets configuration.");
              setHasConfigError(true);
            }
            throw new Error("Configuration error: Please check HubSpot app secrets");
          } else {
            console.error("[DocumentList] saveDocumentChanges: ERROR -", errorMsg);
            throw new Error(docResponse.message || "Failed to update documents");
          }
        }
        if ((docResponse == null ? void 0 : docResponse.status) === "success") {
          console.log("[DocumentList] saveDocumentChanges: SUCCESS - Updated", Object.keys(documentProperties).length, "document properties");
          if (hasConfigError) {
            setHasConfigError(false);
          }
        } else {
          console.warn("[DocumentList] saveDocumentChanges: Unexpected response status:", docResponse == null ? void 0 : docResponse.status);
        }
        const missingDocs = calculateMissingDocuments(docs, recordProperties);
        const statusUpdated = await updateStatusProperties(isCompleted, dossierState, missingDocs);
        if (statusUpdated) {
          setInitialCompletionStatus(isCompleted);
          setInitialDossierState(dossierState);
          setInitialDocuments([...docs]);
          setIsChanged(false);
          if (!skipRefetch) {
            setShowSuccess(true);
            setTimeout(() => setShowSuccess(false), 3e3);
            await new Promise((resolve) => setTimeout(resolve, 1e3));
            console.log("[DocumentList] saveDocumentChanges: Refetching document values to verify updates...");
            const wasInAutreTab = selectedTab === "autre";
            const activeTabIdBeforeRefetch = getActiveTabId();
            await fetchDocumentValues();
            if (wasInAutreTab && activeTabIdBeforeRefetch) {
              setTimeout(() => {
                const currentDocs = documents;
                const currentProps = recordProperties;
                const activeTabId = getActiveTabId();
                if (activeTabId) {
                  const docsThatNowMatch = currentDocs.filter((doc) => {
                    if (!documentBelongsToTab(doc, activeTabId)) return false;
                    const conditionsMet = checkDocumentConditions(doc, currentProps);
                    return conditionsMet && doc.required && doc.provided;
                  });
                  if (docsThatNowMatch.length > 0) {
                    console.log(`[DocumentList] saveDocumentChanges: ${docsThatNowMatch.length} document(s) now match conditions and should be in main tab`);
                    console.log(`[DocumentList] saveDocumentChanges: Documents: ${docsThatNowMatch.map((d) => d.name).join(", ")}`);
                    setSelectedTab(activeTabId);
                  }
                }
              }, 100);
            }
            console.log("[DocumentList] saveDocumentChanges: Verification complete. Check the fetched values above.");
          }
        } else {
          console.error("[DocumentList] saveDocumentChanges: Failed to update status properties");
          setError("Error updating status properties");
        }
      } catch (err) {
        console.error("[DocumentList] saveDocumentChanges: EXCEPTION -", (err == null ? void 0 : err.message) || err);
        setError((err == null ? void 0 : err.message) || "Error updating documents");
      } finally {
        setSaving(false);
      }
    };
    const resetChanges = () => {
      setDocuments([...initialDocuments]);
      setIsCompleted(initialCompletionStatus);
      setDossierState(initialDossierState);
      setIsChanged(false);
    };
    React2.useEffect(() => {
      if (initialDocuments.length > 0 && documents.length > 0 && !loading && Object.keys(recordProperties).length > 0) {
        checkForChanges();
        const timeoutId = setTimeout(() => {
          if (documents.length > 0 && documents.some((doc) => doc.name)) {
            const missingDocs = calculateMissingDocuments(documents);
            updateMissingDocProperty(missingDocs).catch(() => {
            });
          }
        }, 200);
        return () => clearTimeout(timeoutId);
      }
    }, [documents, isCompleted, dossierState]);
    React2.useEffect(() => {
      if (natureDemande) {
        const tabId = getTabForNatureDemande(natureDemande);
        if (tabId && tabId !== selectedTab) {
          setSelectedTab(tabId);
        }
      }
    }, [natureDemande]);
    const getDossierStateStyle = (state) => {
      switch (state) {
        case DOSSIER_STATES.COMPLETE:
          return "success";
        case DOSSIER_STATES.INCOMPLETE:
          return "warning";
        case DOSSIER_STATES.TO_BUILD:
        default:
          return "error";
      }
    };
    const stepNames = [
      DOSSIER_STATES.TO_BUILD,
      DOSSIER_STATES.INCOMPLETE,
      DOSSIER_STATES.COMPLETE
    ];
    const getCurrentStepIndex = () => {
      switch (dossierState) {
        case DOSSIER_STATES.TO_BUILD:
          return 0;
        case DOSSIER_STATES.INCOMPLETE:
          return 1;
        case DOSSIER_STATES.COMPLETE:
          return isCompleted ? stepNames.length : 2;
        default:
          return 0;
      }
    };
    const evaluateCondition = (condition, properties) => {
      let propertyValue = properties[condition.property];
      if (propertyValue === void 0) {
        const foundKey = Object.keys(properties).find(
          (k) => k.toLowerCase() === condition.property.toLowerCase()
        );
        if (foundKey) {
          propertyValue = properties[foundKey];
        }
      }
      const propValueStr = propertyValue ? String(propertyValue).trim() : "";
      const conditionValue = condition.value.trim();
      switch (condition.operator) {
        case "equals":
          return propValueStr === conditionValue;
        case "not_equals":
          return propValueStr !== conditionValue;
        case "contains":
          return propValueStr.toLowerCase().includes(conditionValue.toLowerCase());
        case "not_contains":
          return !propValueStr.toLowerCase().includes(conditionValue.toLowerCase());
        case "in":
          if (!propertyValue || propValueStr === "") {
            return false;
          }
          const normalizedConditionValue = conditionValue.trim();
          const normalizedPropertyValue = propValueStr.trim();
          if (Array.isArray(propertyValue)) {
            return propertyValue.some((val) => {
              const normalizedVal = String(val).trim();
              return normalizedVal === normalizedConditionValue;
            });
          }
          const normalizeForComparison = (str) => {
            return str.trim().replace(/\s+/g, " ");
          };
          const normalizedCondition = normalizeForComparison(normalizedConditionValue);
          if (normalizedPropertyValue.includes(";")) {
            const values = normalizedPropertyValue.split(";").map((v) => normalizeForComparison(v)).filter((v) => v !== "");
            return values.some((val) => val === normalizedCondition);
          }
          if (normalizedPropertyValue.includes(",")) {
            const values = normalizedPropertyValue.split(",").map((v) => normalizeForComparison(v)).filter((v) => v !== "");
            return values.some((val) => val === normalizedCondition);
          }
          const normalizedProperty = normalizeForComparison(normalizedPropertyValue);
          return normalizedProperty === normalizedCondition;
        default:
          return true;
      }
    };
    const checkDocumentConditions = (doc, properties, tabId) => {
      let conditions;
      {
        conditions = getAllConditions(doc);
      }
      if (!conditions || conditions.length === 0) {
        return true;
      }
      const conditionsByProperty = /* @__PURE__ */ new Map();
      conditions.forEach((condition) => {
        if (!conditionsByProperty.has(condition.property)) {
          conditionsByProperty.set(condition.property, []);
        }
        conditionsByProperty.get(condition.property).push(condition);
      });
      const allPropertyGroupsMatch = Array.from(conditionsByProperty.entries()).every(([property, propConditions]) => {
        return propConditions.some((condition) => {
          return evaluateCondition(condition, properties);
        });
      });
      return allPropertyGroupsMatch;
    };
    const getTabForNatureDemande = (natureDemandeValue) => {
      if (!natureDemandeValue) {
        return null;
      }
      const normalize = (str) => {
        return str.trim().replace(/\s+/g, " ");
      };
      const normalizedValue = normalize(natureDemandeValue);
      for (const doc of DOCUMENTS_CONFIG) {
        if (!doc.tabConfig) continue;
        for (const [tabId, tabConfig] of Object.entries(doc.tabConfig)) {
          if (!tabConfig.conditions) continue;
          const hasMatch = tabConfig.conditions.some((condition) => {
            return condition.property === "sous_categorie" && condition.operator === "equals" && normalize(condition.value) === normalizedValue;
          });
          if (hasMatch) {
            return tabId;
          }
        }
      }
      return null;
    };
    const getActiveTabId = () => {
      if (!natureDemande) {
        return null;
      }
      const tabId = getTabForNatureDemande(natureDemande);
      return tabId;
    };
    const getVisibleDocuments = () => {
      if (!documents || documents.length === 0) {
        return [];
      }
      const activeTabId = getActiveTabId();
      const propsForConditions = recordProperties ? { ...recordProperties } : {};
      if (natureDemande && !propsForConditions["sous_categorie"]) {
        propsForConditions["sous_categorie"] = natureDemande;
      }
      const visible = documents.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsForConditions);
        if (doc.id.includes("document_justifiant_de_la_date_et_du_lieu_de_naissance") && !doc.id.includes("fraterie")) {
          console.log(`[getVisibleDocuments] Document: "${doc.name}"`);
          console.log(`[getVisibleDocuments] Tab: ${selectedTab}, ActiveTabId: ${activeTabId}`);
          console.log(`[getVisibleDocuments] Belongs to active tab: ${activeTabId ? documentBelongsToTab(doc, activeTabId) : "N/A"}`);
          console.log(`[getVisibleDocuments] Conditions met: ${conditionsMet}`);
          console.log(`[getVisibleDocuments] Required: ${doc.required}, Provided: ${doc.provided}`);
          console.log(`[getVisibleDocuments] sous_categorie: ${propsForConditions["sous_categorie"] || natureDemande || "NOT SET"}`);
        }
        if (selectedTab === "autre") {
          if (doc.required || doc.provided) {
            if (conditionsMet && activeTabId && documentBelongsToTab(doc, activeTabId)) {
              return false;
            }
            return true;
          }
          if (!activeTabId) {
            return false;
          }
          if (!documentBelongsToTab(doc, activeTabId)) {
            return false;
          }
          return !conditionsMet;
        }
        const tabToCheck = activeTabId && selectedTab === activeTabId ? activeTabId : selectedTab;
        if (!documentBelongsToTab(doc, tabToCheck)) {
          return false;
        }
        return conditionsMet || doc.required && doc.provided;
      });
      const filtered = searchTerm.trim() ? visible.filter(
        (doc) => doc.name.toLowerCase().includes(searchTerm.toLowerCase())
      ) : visible;
      return filtered.sort((a, b) => {
        const orderA = getOrderForTab(a, selectedTab);
        const orderB = getOrderForTab(b, selectedTab);
        return orderA - orderB;
      });
    };
    const calculateProgress = (docs) => {
      const requiredDocs = docs.filter((doc) => {
        if (doc.required) {
          return true;
        }
        const hasConditions = getAllConditions(doc).length > 0;
        if (hasConditions) {
          const conditionsMet = checkDocumentConditions(doc, recordProperties);
          return conditionsMet;
        }
        return false;
      });
      const providedDocs = requiredDocs.filter((doc) => doc.provided);
      const requiredCount = requiredDocs.length;
      const providedCount = providedDocs.length;
      const percentage = requiredCount > 0 ? Math.round(providedCount / requiredCount * 100) : 100;
      return {
        provided: providedCount,
        required: requiredCount,
        percentage
      };
    };
    const renderDocumentsTable = () => {
      const visible = getVisibleDocuments() || [];
      const progress = calculateProgress(visible);
      if (visible.length === 0) {
        return /* @__PURE__ */ React2.createElement(
          EmptyState,
          {
            title: searchTerm.trim() ? "Aucun document trouvé" : "Aucun document dans cet onglet",
            layout: "vertical"
          },
          searchTerm.trim() && /* @__PURE__ */ React2.createElement(Text, null, "Essayez de modifier votre recherche ou de vérifier les filtres.")
        );
      }
      return /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "end", justify: "between" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "end" }, /* @__PURE__ */ React2.createElement(
        Input,
        {
          name: "document-search",
          label: "Rechercher un document",
          placeholder: "Tapez le nom du document...",
          value: searchTerm,
          onChange: (value) => {
            setSearchTerm(value || "");
          }
        }
      ), searchTerm && /* @__PURE__ */ React2.createElement(
        Button,
        {
          variant: "secondary",
          onClick: () => {
            setSearchTerm("");
          }
        },
        "Effacer"
      )), /* @__PURE__ */ React2.createElement(
        Button,
        {
          overlay: /* @__PURE__ */ React2.createElement(Modal, { id: "send-email-modal", title: "Envoyer un email", width: "md" }, /* @__PURE__ */ React2.createElement(ModalBody, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Documents manquants à envoyer :"), (() => {
            const missingDocs = getMissingDocumentsList(documents, recordProperties);
            if (missingDocs.length === 0) {
              return /* @__PURE__ */ React2.createElement(Alert, { title: "Aucun document manquant", variant: "success" }, "Tous les documents requis ont été fournis.");
            }
            return /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "xs" }, missingDocs.map((docName, index) => /* @__PURE__ */ React2.createElement(React2.Fragment, { key: index }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "start" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, index + 1, "."), /* @__PURE__ */ React2.createElement(Text, null, docName)), index < missingDocs.length - 1 && /* @__PURE__ */ React2.createElement(Divider, { distance: "xs" })))), /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "sm" }, /* @__PURE__ */ React2.createElement(Divider, null), /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Total : ", missingDocs.length, " document", missingDocs.length > 1 ? "s" : "", " manquant", missingDocs.length > 1 ? "s" : "")));
          })())), /* @__PURE__ */ React2.createElement(ModalFooter, null, /* @__PURE__ */ React2.createElement(Flex, { justify: "end", gap: "sm" }, /* @__PURE__ */ React2.createElement(
            Button,
            {
              variant: "secondary",
              onClick: () => actions.closeOverlay("send-email-modal")
            },
            "Annuler"
          ), /* @__PURE__ */ React2.createElement(
            Button,
            {
              variant: "primary",
              onClick: async () => {
                const success = await updateSendMailProperty();
                if (success) {
                  actions.closeOverlay("send-email-modal");
                  setShowEmailSuccess(true);
                  setTimeout(() => setShowEmailSuccess(false), 3e3);
                }
              }
            },
            "Envoyer"
          )))),
          variant: "secondary"
        },
        "Envoyer un email"
      )), progress.required > 0 && /* @__PURE__ */ React2.createElement(
        ProgressBar,
        {
          title: "Progression des documents",
          value: progress.provided,
          maxValue: progress.required,
          showPercentage: true,
          valueDescription: `${progress.provided} sur ${progress.required} documents fournis`,
          variant: progress.percentage === 100 ? "success" : progress.percentage >= 50 ? "warning" : "danger"
        }
      ), isChanged && /* @__PURE__ */ React2.createElement(Flex, { justify: "center", gap: "sm", align: "center" }, /* @__PURE__ */ React2.createElement(Button, { onClick: resetChanges, variant: "destructive" }, "Annuler"), /* @__PURE__ */ React2.createElement(Button, { onClick: () => saveDocumentChanges(), variant: "primary", disabled: saving }, saving ? "Enregistrement..." : "Enregistrer les modifications")), /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "lg", align: "center" }, /* @__PURE__ */ React2.createElement(Flex, null, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Nom du document")), /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Requis")), /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Fournis"))), /* @__PURE__ */ React2.createElement(Divider, null), (visible || []).sort((a, b) => {
        if (!a || !b) return 0;
        if (a.required && !b.required) return -1;
        if (!a.required && b.required) return 1;
        const orderA = getOrderForTab(a, selectedTab);
        const orderB = getOrderForTab(b, selectedTab);
        if (orderA !== orderB) {
          return orderA - orderB;
        }
        return a.name.localeCompare(b.name);
      }).filter((doc) => doc != null && doc.id).map((doc) => {
        if (!doc || !doc.id) return null;
        try {
          const conditionsMet = checkDocumentConditions(doc, recordProperties);
          const hasConditions = getAllConditions(doc).length > 0;
          let requiredValue;
          let isRequiredByCondition = false;
          if (hasConditions) {
            if (conditionsMet) {
              requiredValue = true;
              isRequiredByCondition = true;
            } else {
              requiredValue = doc.required;
              isRequiredByCondition = false;
            }
          } else {
            requiredValue = doc.required;
            isRequiredByCondition = false;
          }
          return /* @__PURE__ */ React2.createElement(React2.Fragment, { key: doc.id }, /* @__PURE__ */ React2.createElement(
            Flex,
            {
              direction: "row",
              align: "center",
              gap: "lg"
            },
            /* @__PURE__ */ React2.createElement(Flex, null, /* @__PURE__ */ React2.createElement(Text, null, doc.name || "Unnamed Document")),
            /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(
              Checkbox,
              {
                key: `req-${doc.id}-${requiredValue}`,
                checked: requiredValue === true,
                readOnly: isRequiredByCondition,
                onChange: isRequiredByCondition ? () => {
                } : handleCheckboxToggle(doc.id, "required")
              }
            )),
            /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(
              Checkbox,
              {
                key: `prov-${doc.id}-${doc.provided}`,
                checked: doc.provided === true,
                onChange: handleCheckboxToggle(doc.id, "provided")
              }
            ))
          ), /* @__PURE__ */ React2.createElement(Divider, null));
        } catch (err) {
          console.error(`[renderDocumentsTable] Error rendering document ${doc == null ? void 0 : doc.id}:`, err);
          return null;
        }
      }).filter((item) => item != null), " ");
    };
    if (loading) {
      return /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(LoadingSpinner, { label: "Loading document checklist..." }));
    }
    return /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "center" }, /* @__PURE__ */ React2.createElement(Tag, { variant: getDossierStateStyle(dossierState) }, dossierState), isCompleted ? /* @__PURE__ */ React2.createElement(Tag, { variant: "success" }, "✓ Completed") : /* @__PURE__ */ React2.createElement(Tag, { variant: "error" }, "× Incomplete")), error && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Error",
        variant: "error"
      },
      error
    ), showSuccess && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Succès",
        variant: "success"
      },
      "Documents mis à jour avec succès"
    ), showEmailSuccess && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Succès",
        variant: "success"
      },
      "Email envoyé avec succès"
    ), /* @__PURE__ */ React2.createElement(
      StepIndicator,
      {
        currentStep: getCurrentStepIndex(),
        stepNames,
        direction: "horizontal",
        circleSize: "md"
      }
    ), /* @__PURE__ */ React2.createElement(Divider, null), /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(
      Tabs,
      {
        variant: "enclosed",
        selected: selectedTab,
        onSelectedChange: (id) => {
          setSelectedTab(id);
          setSearchTerm("");
        },
        fill: false
      },
      (() => {
        const activeTabId = getActiveTabId();
        let finalActiveTabId = activeTabId;
        if (!finalActiveTabId && natureDemande) {
          finalActiveTabId = getTabForNatureDemande(natureDemande);
        }
        if (!finalActiveTabId && recordProperties["sous_categorie"]) {
          finalActiveTabId = getTabForNatureDemande(recordProperties["sous_categorie"]);
        }
        let tabsToShow;
        if (finalActiveTabId) {
          tabsToShow = TABS_CONFIG.filter(
            (tab) => tab.id === "autre" || tab.id === finalActiveTabId
          );
        } else {
          tabsToShow = TABS_CONFIG;
        }
        return tabsToShow.map((tab) => /* @__PURE__ */ React2.createElement(Tab, { key: tab.id, tabId: tab.id, title: tab.title }, /* @__PURE__ */ React2.createElement(Box, null, renderDocumentsTable())));
      })()
    ))));
  };
  return Extension;
})(React, RemoteUI);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jdW1lbnRMaXN0LmpzIiwic291cmNlcyI6WyIuLi9leHRlbnNpb25zL25vZGVfbW9kdWxlcy9AaHVic3BvdC91aS1leHRlbnNpb25zL2Rpc3QvaHVic3BvdC5qcyIsIi4uL2V4dGVuc2lvbnMvbm9kZV9tb2R1bGVzL0BodWJzcG90L3VpLWV4dGVuc2lvbnMvZGlzdC9jb3JlQ29tcG9uZW50cy5qcyIsIi4uL2V4dGVuc2lvbnMvbm9kZV9tb2R1bGVzL0BodWJzcG90L3VpLWV4dGVuc2lvbnMvZGlzdC90eXBlcy5qcyIsIi4uL2V4dGVuc2lvbnMvRG9jdW1lbnRMaXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXh0ZW5kX1YyKHJlbmRlckV4dGVuc2lvbkNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNlbGYuZXh0ZW5kX1YyKHJlbmRlckV4dGVuc2lvbkNhbGxiYWNrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJsZXNzKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2VsZi5zZXJ2ZXJsZXNzKG5hbWUsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZWxmLmhzRmV0Y2godXJsLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBjb25zdCBodWJzcG90ID0ge1xuICAgIGV4dGVuZDogZXh0ZW5kX1YyLFxuICAgIHNlcnZlcmxlc3MsXG4gICAgZmV0Y2gsXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQgfSBmcm9tICdAcmVtb3RlLXVpL3JlYWN0Jztcbi8qKlxuICogVGhlIGBBbGVydGAgY29tcG9uZW50IHJlbmRlcnMgYW4gYWxlcnQgd2l0aGluIGEgY2FyZC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGdpdmUgdXNhZ2UgZ3VpZGFuY2UsIG5vdGlmeSB1c2VycyBvZiBhY3Rpb24gcmVzdWx0cywgb3Igd2FybiB0aGVtIGFib3V0IHBvdGVudGlhbCBpc3N1ZXMgb3IgZmFpbHVyZXMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvYWxlcnQgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vYXBwLmh1YnNwb3QuY29tL2RvY3MvNDgwMDg5MTYvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9hbGVydCN2YXJpYW50cyBWYXJpYW50c31cbiAqL1xuZXhwb3J0IGNvbnN0IEFsZXJ0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0FsZXJ0Jyk7XG4vKipcbiAqIFRoZSBgQnV0dG9uYCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSBidXR0b24uIFVzZSB0aGlzIGNvbXBvbmVudCB0byBlbmFibGUgdXNlcnMgdG8gcGVyZm9ybSBhY3Rpb25zLCBzdWNoIGFzIHN1Ym1pdHRpbmcgYSBmb3JtLCBzZW5kaW5nIGRhdGEgdG8gYW4gZXh0ZXJuYWwgc3lzdGVtLCBvciBkZWxldGluZyBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2J1dHRvbiBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9idXR0b24jdXNhZ2UtZXhhbXBsZXMgRXhhbXBsZXN9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjYnV0dG9uIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0J1dHRvbicsIHtcbiAgICBmcmFnbWVudFByb3BzOiBbJ292ZXJsYXknXSxcbn0pO1xuLyoqXG4gKiBUaGUgYEJ1dHRvblJvd2AgY29tcG9uZW50IHJlbmRlcnMgYSByb3cgb2Ygc3BlY2lmaWVkIGBCdXR0b25gIGNvbXBvbmVudHMuIFVzZSB0aGlzIGNvbXBvbmVudCB3aGVuIHlvdSB3YW50IHRvIGluY2x1ZGUgbXVsdGlwbGUgYnV0dG9ucyBpbiBhIHJvdy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9idXR0b24tcm93IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBCdXR0b25Sb3cgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQnV0dG9uUm93Jyk7XG5leHBvcnQgY29uc3QgQ2FyZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdDYXJkJyk7XG4vKipcbiAqIFRoZSBgRGVzY3JpcHRpb25MaXN0YCBjb21wb25lbnQgcmVuZGVycyBwYWlycyBvZiBsYWJlbHMgYW5kIHZhbHVlcy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgcGFpcnMgb2YgbGFiZWxzIGFuZCB2YWx1ZXMgaW4gYSB3YXkgdGhhdCdzIGVhc3kgdG8gcmVhZCBhdCBhIGdsYW5jZS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9kZXNjcmlwdGlvbi1saXN0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdGlvbkxpc3QgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGVzY3JpcHRpb25MaXN0Jyk7XG4vKipcbiAqIFRoZSBgRGVzY3JpcHRpb25MaXN0SXRlbWAgY29tcG9uZW50IHJlbmRlcnMgYSBzaW5nbGUgc2V0IG9mIGEgbGFiZWwgYW5kIHZhbHVlLiBVc2UgdGhpcyBjb21wb25lbnQgd2l0aGluIGEgYERlc2NyaXB0aW9uTGlzdGAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Rlc2NyaXB0aW9uLWxpc3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uTGlzdEl0ZW0gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGVzY3JpcHRpb25MaXN0SXRlbScpO1xuLyoqXG4gKiBUaGUgYERpdmlkZXJgIGNvbXBvbmVudCByZW5kZXJzIGEgZ3JleSwgaG9yaXpvbnRhbCBsaW5lIGZvciBzcGFjaW5nIG91dCBjb21wb25lbnRzIHZlcnRpY2FsbHkgb3IgY3JlYXRpbmcgc2VjdGlvbnMgaW4gYW4gZXh0ZW5zaW9uLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gc3BhY2Ugb3V0IG90aGVyIGNvbXBvbmVudHMgd2hlbiB0aGUgY29udGVudCBuZWVkcyBtb3JlIHNlcGFyYXRpb24gdGhhbiB3aGl0ZSBzcGFjZS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9kaXZpZGVyIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEaXZpZGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0RpdmlkZXInKTtcbi8qKlxuICogVGhlIGBFbXB0eVN0YXRlYCBjb21wb25lbnQgc2V0cyB0aGUgY29udGVudCB0aGF0IGFwcGVhcnMgd2hlbiB0aGUgZXh0ZW5zaW9uIGlzIGluIGFuIGVtcHR5IHN0YXRlLiBVc2UgdGhpcyBjb21wb25lbnQgd2hlbiB0aGVyZSdzIG5vIGNvbnRlbnQgb3IgZGF0YSB0byBoZWxwIGd1aWRlIHVzZXJzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2VtcHR5LXN0YXRlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBFbXB0eVN0YXRlID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0VtcHR5U3RhdGUnKTtcbi8qKlxuICogVGhlIGBFcnJvclN0YXRlYCBjb21wb25lbnQgc2V0cyB0aGUgY29udGVudCBvZiBhbiBlcnJvcmluZyBleHRlbnNpb24uIFVzZSB0aGlzIGNvbXBvbmVudCB0byBndWlkZSB1c2VycyB0aHJvdWdoIHJlc29sdmluZyBlcnJvcnMgdGhhdCB5b3VyIGV4dGVuc2lvbiBtaWdodCBlbmNvdW50ZXIuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZXJyb3Itc3RhdGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEVycm9yU3RhdGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRXJyb3JTdGF0ZScpO1xuLyoqXG4gKiBUaGUgYEZvcm1gIGNvbXBvbmVudCByZW5kZXJzIGEgZm9ybSB0aGF0IGNhbiBjb250YWluIG90aGVyIHN1YmNvbXBvbmVudHMsIHN1Y2ggYXMgYElucHV0YCwgYFNlbGVjdGAsIGFuZCBgQnV0dG9uYC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGVuYWJsZSB1c2VycyB0byBzdWJtaXQgZGF0YSB0byBIdWJTcG90IG9yIGFuIGV4dGVybmFsIHN5c3RlbS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9mb3JtIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjZm9ybSBEZXNpZ24gUGF0dGVybiBFeGFtcGxlc31cbiAqL1xuZXhwb3J0IGNvbnN0IEZvcm0gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRm9ybScpO1xuLyoqXG4gKiBUaGUgYEhlYWRpbmdgIGNvbXBvbmVudCByZW5kZXJzIGxhcmdlIGhlYWRpbmcgdGV4dC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGludHJvZHVjZSBvciBkaWZmZXJlbnRpYXRlIHNlY3Rpb25zIG9mIHlvdXIgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2hlYWRpbmcgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWRpbmcgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnSGVhZGluZycpO1xuLyoqXG4gKiBUaGUgYEltYWdlYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbWFnZS4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGFkZCBhIGxvZ28gb3Igb3RoZXIgdmlzdWFsIGJyYW5kIGlkZW50aXR5IGFzc2V0LCBvciB0byBhY2NlbnR1YXRlIG90aGVyIGNvbnRlbnQgaW4gdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9pbWFnZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSW1hZ2UgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnSW1hZ2UnLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYSB0ZXh0IGlucHV0IGZpZWxkIHdoZXJlIGEgdXNlciBjYW4gZW50ZXIgYSBjdXN0b20gdGV4dCB2YWx1ZS4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaW5wdXQgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0lucHV0Jyk7XG4vKipcbiAqIFRoZSBgTGlua2AgY29tcG9uZW50IHJlbmRlcnMgYSBjbGlja2FibGUgaHlwZXJsaW5rLiBVc2UgbGlua3MgdG8gZGlyZWN0IHVzZXJzIHRvIGFuIGV4dGVybmFsIHdlYiBwYWdlIG9yIGFub3RoZXIgcGFydCBvZiB0aGUgSHViU3BvdCBhcHAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbGluayBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTGluayA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdMaW5rJywge1xuICAgIGZyYWdtZW50UHJvcHM6IFsnb3ZlcmxheSddLFxufSk7XG4vKipcbiAqIFRoZSBgVGV4dEFyZWFgIGNvbXBvbmVudCByZW5kZXJzIGEgZmlsbGFibGUgdGV4dCBmaWVsZC4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGV4dC1hcmVhIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0QXJlYSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUZXh0QXJlYScpO1xuLy8gVGV4dGFyZWEgd2FzIGNoYW5nZWQgdG8gVGV4dEFyZWFcbi8vIEV4cG9ydGluZyBib3RoIGZvciBiYWNrd2FyZHMgY29tcGF0XG4vKiogQGRlcHJlY2F0ZWQgdXNlIFRleHRBcmVhIGluc3RlYWQuIFdpdGggYSBjYXBpdGFsIEEuKi9cbmV4cG9ydCBjb25zdCBUZXh0YXJlYSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUZXh0YXJlYScpO1xuLyoqXG4gKiBUaGUgYExvYWRpbmdTcGlubmVyYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBpbmRpY2F0b3IgZm9yIHdoZW4gYW4gZXh0ZW5zaW9uIGlzIGxvYWRpbmcgb3IgcHJvY2Vzc2luZyBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xvYWRpbmctc3Bpbm5lciBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTG9hZGluZ1NwaW5uZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTG9hZGluZ1NwaW5uZXInKTtcbi8qKlxuICogVGhlIGBQcm9ncmVzc0JhcmAgY29tcG9uZW50IHJlbmRlcnMgYSB2aXN1YWwgaW5kaWNhdG9yIHNob3dpbmcgYSBudW1lcmljIGFuZC9vciBwZXJjZW50YWdlLWJhc2VkIHJlcHJlc2VudGF0aW9uIG9mIHByb2dyZXNzLiBUaGUgcGVyY2VudGFnZSBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlIHNwZWNpZmllZCBpbiB0aGUgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3Byb2dyZXNzLWJhciBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NCYXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUHJvZ3Jlc3NCYXInKTtcbi8qKlxuICogVGhlIGBTZWxlY3RgIGNvbXBvbmVudCByZW5kZXJzIGEgZHJvcGRvd24gbWVudSBzZWxlY3QgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBzZWxlY3QgYSBzaW5nbGUgdmFsdWUuIEEgc2VhcmNoIGJhciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5jbHVkZWQgd2hlbiB0aGVyZSBhcmUgbW9yZSB0aGFuIHNldmVuIG9wdGlvbnMuIExpa2Ugb3RoZXIgaW5wdXRzLCB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYSBgRm9ybWAgdGhhdCBoYXMgYSBzdWJtaXQgYnV0dG9uLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3NlbGVjdCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgU2VsZWN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1NlbGVjdCcpO1xuLyoqXG4gKiBUaGUgYFRhZ2AgY29tcG9uZW50IHJlbmRlcnMgYSB0YWcgdG8gbGFiZWwgb3IgY2F0ZWdvcml6ZSBpbmZvcm1hdGlvbiBvciBvdGhlciBjb21wb25lbnRzLiBUYWdzIGNhbiBiZSBzdGF0aWMgb3IgY2xpY2thYmxlIGZvciBpbnZva2luZyBmdW5jdGlvbnMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFnIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWcgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFnJywge1xuICAgIGZyYWdtZW50UHJvcHM6IFsnb3ZlcmxheSddLFxufSk7XG4vKipcbiAqIFRoZSBgVGV4dGAgY29tcG9uZW50IHJlbmRlcnMgdGV4dCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90ZXh0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RleHQnKTtcbi8qKlxuICogVGhlIGBUaWxlYCBjb21wb25lbnQgcmVuZGVycyBhIHNxdWFyZSB0aWxlIHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29tcG9uZW50cy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGNyZWF0ZSBncm91cHMgb2YgcmVsYXRlZCBjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RpbGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRpbGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGlsZScpO1xuLyoqIEBkZXByZWNhdGVkIHVzZSBGbGV4IGluc3RlYWQuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCByZWxlYXNlLiAqL1xuZXhwb3J0IGNvbnN0IFN0YWNrID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YWNrJyk7XG4vKipcbiAqIFRoZSBgVG9nZ2xlR3JvdXBgIGNvbXBvbmVudCByZW5kZXJzIGEgbGlzdCBvZiBzZWxlY3RhYmxlIG9wdGlvbnMsIGVpdGhlciBpbiByYWRpbyBidXR0b24gb3IgY2hlY2tib3ggZm9ybS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90b2dnbGUtZ3JvdXAgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRvZ2dsZUdyb3VwID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RvZ2dsZUdyb3VwJyk7XG4vKipcbiAqIFRoZSBgU3RhdGlzdGljc0l0ZW1gIGNvbXBvbmVudCByZW5kZXJzIGEgc2luZ2xlIGRhdGEgcG9pbnQgd2l0aGluIGEgYFN0YXRpc3RpY3NgIGNvbXBvbmVudC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgYSBzaW5nbGUgZGF0YSBwb2ludCwgc3VjaCBhcyBhIG51bWJlciBvciBwZXJjZW50YWdlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXRpc3RpY3MgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpY3NJdGVtID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXRpc3RpY3NJdGVtJyk7XG4vKipcbiAqIFRoZSBgU3RhdGlzdGljc2AgY29tcG9uZW50IHJlbmRlcnMgYSB2aXN1YWwgc3BvdGxpZ2h0IG9mIG9uZSBvciBtb3JlIGRhdGEgcG9pbnRzLiBJbmNsdWRlcyB0aGUgYFN0YXRpc3RpY3NJdGVtYCBhbmQgYFN0YXRpc3RpY3NUcmVuZGAgc3ViY29tcG9uZW50cy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGF0aXN0aWNzIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0aXN0aWNzID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXRpc3RpY3MnKTtcbi8qKlxuICogVGhlIGBTdGF0aXN0aWNzVHJlbmRgIGNvbXBvbmVudCByZW5kZXJzIGEgcGVyY2VudGFnZSB0cmVuZCB2YWx1ZSBhbmQgZGlyZWN0aW9uIGFsb25zaWRlIGEgYFN0YXRpc3RpY3NJdGVtYCBjb21wb25lbnQuIFVzZSB0aGlzIGNvbXBvbmVudCB3aXRoaW4gdGhlIGBTdGF0aXN0aWNzSXRlbWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXRpc3RpY3MgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpY3NUcmVuZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdTdGF0aXN0aWNzVHJlbmQnKTtcbi8qKlxuICogVGhlIGBUYWJsZWAgY29tcG9uZW50IHJlbmRlcnMgYSB0YWJsZS4gVG8gZm9ybWF0IHRoZSB0YWJsZSwgdXNlIHRoZSBzdWJjb21wb25lbnRzIGBUYWJsZUhlYWRgLCBgVGFibGVSb3dgLCBgVGFibGVIZWFkZXJgLCBgVGFibGVCb2R5YCwgYFRhYmxlQ2VsbGBhbmQgYFRhYmxlRm9vdGVyYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZGVzaWduLXBhdHRlcm5zI3RhYmxlIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZScpO1xuLyoqXG4gKiBUaGUgYFRhYmxlRm9vdGVyYCBjb21wb25lbnQgcmVuZGVycyBhIGZvb3RlciB3aXRoaW4gYSBgVGFibGVgIGNvbXBvbmVudC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgdG90YWxzIG9yIG90aGVyIHN1bW1hcnkgaW5mb3JtYXRpb24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlRm9vdGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlRm9vdGVyJyk7XG4vKipcbiAqIFRoZSBgVGFibGVDZWxsYCBjb21wb25lbnQgcmVuZGVycyBpbmRpdmlkdWFsIGNlbGxzIHdpdGhpbiB0aGUgYFRhYmxlQm9keWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYmxlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZUNlbGwgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFibGVDZWxsJyk7XG4vKipcbiAqIFRoZSBgVGFibGVSb3dgIGNvbXBvbmVudCByZW5kZXJzIGEgcm93IHdpdGhpbiB0aGUgYFRhYmxlQm9keWAgb3IgYFRhYmxlSGVhZGAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYmxlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZVJvdyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZVJvdycpO1xuLyoqXG4gKiBUaGUgYFRhYmxlQm9keWAgY29tcG9uZW50IHJlbmRlcnMgdGhlIGJvZHkgKHJvd3MgYW5kIGNlbGxzKSBvZiBhIHRhYmxlIHdpdGhpbiB0aGUgYFRhYmxlYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZUJvZHknKTtcbi8qKlxuICogVGhlIGBUYWJsZUhlYWRlcmAgY29tcG9uZW50IHJlbmRlcnMgaW5kaXZpZHVhbCBjZWxscyBjb250YWluaW5nIGJvbGRlZCBjb2x1bW4gbGFiZWxzLCB3aXRoaW4gYFRhYmxlSGVhZGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlSGVhZGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlSGVhZGVyJyk7XG4vKipcbiAqIFRoZSBgVGFibGVIZWFkYCBjb21wb25lbnQgcmVuZGVycyB0aGUgaGVhZGVyIHNlY3Rpb24gb2YgdGhlIGBUYWJsZWAgY29tcG9uZW50LCBjb250YWluaW5nIGNvbHVtbiBsYWJlbHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlSGVhZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZUhlYWQnKTtcbi8qKlxuICogVGhlIGBOdW1iZXJJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYSBudW1iZXIgaW5wdXQgZmllbGQuIExpa2Ugb3RoZXIgaW5wdXRzLCB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYSBgRm9ybWAgdGhhdCBoYXMgYSBzdWJtaXQgYnV0dG9uLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL251bWJlci1pbnB1dCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTnVtYmVySW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTnVtYmVySW5wdXQnKTtcbi8qKlxuICogVGhlIGBCb3hgIGNvbXBvbmVudCByZW5kZXJzIGFuIGVtcHR5IGRpdiBjb250YWluZXIgZm9yIGZpbmUgdHVuaW5nIHRoZSBzcGFjaW5nIG9mIGNvbXBvbmVudHMuIENvbW1vbmx5IHVzZWQgd2l0aCB0aGUgYEZsZXhgIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9ib3ggRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2ZsZXgtYW5kLWJveCBGbGV4IGFuZCBCb3ggRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IEJveCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdCb3gnKTtcbi8qKlxuICogVGhlIGBTdGVwSW5kaWNhdG9yYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbmRpY2F0b3IgdG8gc2hvdyB0aGUgY3VycmVudCBzdGVwIG9mIGEgbXVsdGktc3RlcCBwcm9jZXNzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0ZXAtaW5kaWNhdG9yIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGVwSW5kaWNhdG9yID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0ZXBJbmRpY2F0b3InKTtcbi8qKlxuICogVGhlIGBBY2NvcmRpb25gIGNvbXBvbmVudCByZW5kZXJzIGFuIGV4cGFuZGFibGUgYW5kIGNvbGxhcHNhYmxlIHNlY3Rpb24gdGhhdCBjYW4gY29udGFpbiBvdGhlciBjb21wb25lbnRzLiBUaGlzIGNvbXBvbmVudCBjYW4gYmUgaGVscGZ1bCBmb3Igc2F2aW5nIHNwYWNlIGFuZCBicmVha2luZyB1cCBleHRlbnNpb24gY29udGVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9hY2NvcmRpb24gRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEFjY29yZGlvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdBY2NvcmRpb24nKTtcbi8qKlxuICogVGhlIE11bHRpU2VsZWN0IGNvbXBvbmVudCByZW5kZXJzIGEgZHJvcGRvd24gbWVudSBzZWxlY3QgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBzZWxlY3QgbXVsdGlwbGUgdmFsdWVzLiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tdWx0aS1zZWxlY3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IE11bHRpU2VsZWN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ011bHRpU2VsZWN0Jyk7XG4vKipcbiAqIFRoZSBgRmxleGAgY29tcG9uZW50IHJlbmRlcnMgYSBmbGV4IGNvbnRhaW5lciB0aGF0IGNhbiBjb250YWluIG90aGVyIGNvbXBvbmVudHMsIGFuZCBhcnJhbmdlIHRoZW0gd2l0aCBwcm9wcy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGNyZWF0ZSBhIGZsZXhpYmxlIGFuZCByZXNwb25zaXZlIGxheW91dC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9mbGV4IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9mbGV4LWFuZC1ib3ggRmxleCBhbmQgQm94IEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBGbGV4ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0ZsZXgnKTtcbi8qKlxuICogVGhlIGBEYXRlSW5wdXRgIGNvbXBvbmVudCByZW5kZXJzIGFuIGlucHV0IGZpZWxkIHdoZXJlIGEgdXNlciBjYW4gc2VsZWN0IGEgZGF0ZS4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZGF0ZS1pbnB1dCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgRGF0ZUlucHV0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0RhdGVJbnB1dCcpO1xuLyoqXG4gKiBUaGUgYENoZWNrYm94YCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSBjaGVja2JveCBpbnB1dC4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgbXVsdGlwbGUgY2hlY2tib3hlcywgeW91IHNob3VsZCB1c2UgYFRvZ2dsZUdyb3VwYCBpbnN0ZWFkLCBhcyBpdCBjb21lcyB3aXRoIGV4dHJhIGxvZ2ljIGZvciBoYW5kbGluZyBtdWx0aXBsZSBjaGVja2JveGVzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoZWNrYm94IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdDaGVja2JveCcpO1xuLyoqXG4gKiBUaGUgYFJhZGlvQnV0dG9uYCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSByYWRpbyBpbnB1dC4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgbXVsdGlwbGUgcmFkaW8gaW5wdXRzLCB5b3Ugc2hvdWxkIHVzZSBgVG9nZ2xlR3JvdXBgIGluc3RlYWQsIGFzIGl0IGNvbWVzIHdpdGggZXh0cmEgbG9naWMgZm9yIGhhbmRsaW5nIG11bHRpcGxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IFJhZGlvQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1JhZGlvQnV0dG9uJyk7XG4vKipcbiAqIFRoZSBgTGlzdGAgY29tcG9uZW50IHJlbmRlcnMgYSBsaXN0IG9mIGl0ZW1zLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBhIGxpc3Qgb2YgaXRlbXMsIHN1Y2ggYXMgYSBsaXN0IG9mIGNvbnRhY3RzLCB0YXNrcywgb3Igb3RoZXIgZGF0YS4gQSBsaXN0IGNhbiBiZSBzdHlsZWQgYXMgYSBidWxsZXRlZCBsaXN0IG9yIGEgbnVtYmVyZWQgbGlzdC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9saXN0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xpc3QnKTtcbi8qKlxuICogVGhlIGBUb2dnbGVgIGNvbXBvbmVudCByZW5kZXJzIGEgYm9vbGVhbiB0b2dnbGUgc3dpdGNoIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBzaXppbmcsIGxhYmVsIHBvc2l0aW9uLCByZWFkLW9ubHksIGFuZCBtb3JlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RvZ2dsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVG9nZ2xlID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RvZ2dsZScpO1xuLyoqXG4gKiBUaGUgYERyb3Bkb3duYCBjb21wb25lbnQgcmVuZGVycyBhIGRyb3Bkb3duIG1lbnUgdGhhdCBjYW4gYXBwZWFyIGFzIGEgYnV0dG9uIG9yIGh5cGVybGluay4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGVuYWJsZSB1c2VycyB0byBzZWxlY3QgZnJvbSBtdWx0aXBsZSBvcHRpb25zIGluIGEgY29tcGFjdCBsaXN0LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Ryb3Bkb3duIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEcm9wZG93biA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdEcm9wZG93bicpO1xuLyoqXG4gKiBUaGUgUGFuZWwgY29tcG9uZW50IHJlbmRlcnMgYSBwYW5lbCBvdmVybGF5IG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBwYWdlIGFuZCBjb250YWlucyBvdGhlciBjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZGVzaWduLXBhdHRlcm5zI3BhbmVsIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWwgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUGFuZWwnKTtcbi8qKlxuICogVGhlIGBQYW5lbEZvb3RlcmAgaXMgYSBzdGlja3kgZm9vdGVyIGNvbXBvbmVudCBkaXNwbGF5ZWQgYXQgdGhlIGJvdHRvbSBvZiBhIGBQYW5lbGAgY29tcG9uZW50LiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBhY3Rpb25zIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGQgYmUgdmlzaWJsZSBhdCBhbGwgdGltZXMuIEluY2x1ZGUgb25seSBvbmUgYFBhbmVsRm9vdGVyYCBjb21wb25lbnQgcGVyIGBQYW5lbGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcGFuZWwtZm9vdGVyIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWxGb290ZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUGFuZWxGb290ZXInKTtcbi8qKlxuICogVGhlIGBQYW5lbEJvZHlgIGNvbXBvbmVudCBpcyBhIGNvbnRhaW5lciB0aGF0IHdyYXBzIHRoZSBwYW5lbCdzIGNvbnRlbnQgYW5kIG1ha2VzIGl0IHNjcm9sbGFibGUuIEluY2x1ZGUgb25seSBvbmUgYFBhbmVsQm9keWAgY29tcG9uZW50IHBlciBgUGFuZWxgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsLWZvb3RlciBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFBhbmVsQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbEJvZHknKTtcbi8qKlxuICogVGhlIGBQYW5lbFNlY3Rpb25gIGNvbXBvbmVudCBpcyBhIGNvbnRhaW5lciB0aGF0IGFkZHMgcGFkZGluZyBhbmQgYm90dG9tIG1hcmdpbiB0byBwcm92aWRlIHNwYWNpbmcgYmV0d2VlbiBjb250ZW50LiBVc2UgdGhlIGBQYW5lbFNlY3Rpb25gIGNvbXBvbmVudCB0byBzZXBhcmF0ZSBjb250ZW50IHdpdGhpbiBhIGBQYW5lbEJvZHlgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsLWZvb3RlciBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFBhbmVsU2VjdGlvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbFNlY3Rpb24nKTtcbi8qKlxuICogVGhlIGBTdGVwcGVySW5wdXRgIGNvbXBvbmVudCByZW5kZXJzIGEgbnVtYmVyIGlucHV0IGZpZWxkIHRoYXQgY2FuIGJlIGluY3JlYXNlZCBvciBkZWNyZWFzZWQgYnkgYSBzZXQgbnVtYmVyLiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGVwcGVyLWlucHV0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGVwcGVySW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RlcHBlcklucHV0Jyk7XG4vKipcbiAqIFRoZSBNb2RhbCBjb21wb25lbnQgcmVuZGVycyBhIHBvcC11cCBvdmVybGF5IHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29tcG9uZW50cy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tb2RhbCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2Rlc2lnbi1wYXR0ZXJucyNtb2RhbCBEZXNpZ24gUGF0dGVybiBFeGFtcGxlc31cbiAqL1xuZXhwb3J0IGNvbnN0IE1vZGFsID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ01vZGFsJyk7XG4vKipcbiAqIFRoZSBgTW9kYWxCb2R5YCBjb21wb25lbnQgY29udGFpbnMgdGhlIG1haW4gY29udGVudCBvZiB0aGUgbW9kYWwuIE9uZSBgTW9kYWxCb2R5YCBpcyByZXF1aXJlZCBwZXIgYE1vZGFsYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tb2RhbCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IE1vZGFsQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdNb2RhbEJvZHknKTtcbi8qKlxuICogVGhlIGBNb2RhbEZvb3RlcmAgY29tcG9uZW50IGlzIGFuIG9wdGlvbmFsIGNvbXBvbmVudCB0byBmb3JtYXQgdGhlIGZvb3RlciBzZWN0aW9uIG9mIHRoZSBtb2RhbC4gVXNlIG9uZSBgTW9kYWxGb290ZXJgIHBlciBgTW9kYWxgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL21vZGFsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgTW9kYWxGb290ZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTW9kYWxGb290ZXInKTtcbi8qKlxuICogVXNlIHRoZSBgSWNvbmAgY29tcG9uZW50IHRvIHJlbmRlciBhIHZpc3VhbCBpY29uIHdpdGhpbiBvdGhlciBjb21wb25lbnRzLiBJdCBjYW4gZ2VuZXJhbGx5IGJlIHVzZWQgaW5zaWRlIG1vc3QgY29tcG9uZW50cywgZXhjbHVkaW5nIG9uZXMgdGhhdCBkb24ndCBzdXBwb3J0IGNoaWxkIGNvbXBvbmVudHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaWNvbiBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSWNvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdJY29uJyk7XG4vKipcbiAqIFRoZSBgU3RhdHVzVGFnYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBpbmRpY2F0b3IgdG8gZGlzcGxheSB0aGUgY3VycmVudCBzdGF0dXMgb2YgYW4gaXRlbS4gU3RhdHVzIHRhZ3MgY2FuIGJlIHN0YXRpYyBvciBjbGlja2FibGUuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc3RhdHVzLXRhZyBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGF0dXMtdGFnI3ZhcmlhbnRzIFZhcmlhbnRzfVxuICovXG5leHBvcnQgY29uc3QgU3RhdHVzVGFnID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXR1c1RhZycpO1xuLyoqXG4gKiBUaGUgYExvYWRpbmdCdXR0b25gIGNvbXBvbmVudCByZW5kZXJzIGEgYnV0dG9uIHdpdGggbG9hZGluZyBzdGF0ZSBvcHRpb25zLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xvYWRpbmctYnV0dG9uIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkaW5nQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xvYWRpbmdCdXR0b24nLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBCYXJDaGFydGAgY29tcG9uZW50IHJlbmRlcnMgYSBiYXIgY2hhcnQgZm9yIHZpc3VhbGl6aW5nIGRhdGEuIFRoaXMgdHlwZSBvZiBjaGFydCBpcyBiZXN0IHN1aXRlZCBmb3IgY29tcGFyaW5nIGNhdGVnb3JpY2FsIGRhdGEuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvYmFyLWNoYXJ0IEJhckNoYXJ0IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoYXJ0cyBDaGFydHMgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2NoYXJ0cy1leGFtcGxlIENoYXJ0cyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgQmFyQ2hhcnQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQmFyQ2hhcnQnKTtcbi8qKlxuICogVGhlIGBMaW5lQ2hhcnRgIGNvbXBvbmVudCByZW5kZXJzIGEgbGluZSBjaGFydCBmb3IgdmlzdWFsaXppbmcgZGF0YS4gVGhpcyB0eXBlIG9mIGNoYXJ0IGlzIGJlc3Qgc3VpdGVkIGZvciB0aW1lIHNlcmllcyBwbG90cyBvciB0cmVuZCBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xpbmUtY2hhcnQgTGluZUNoYXJ0IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoYXJ0cyBDaGFydHMgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2NoYXJ0cy1leGFtcGxlIENoYXJ0cyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgTGluZUNoYXJ0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xpbmVDaGFydCcpO1xuLyoqXG4gKiBgVGFic2AgYWxsb3cgeW91IHRvIGdyb3VwIHJlbGF0ZWQgY29udGVudCBpbiBhIGNvbXBhY3Qgc3BhY2UsIGFsbG93aW5nIHVzZXJzIHRvIHN3aXRjaCBiZXR3ZWVuIHZpZXdzIHdpdGhvdXQgbGVhdmluZyB0aGUgcGFnZS5cbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIDxUYWJzIGRlZmF1bHRTZWxlY3RlZD1cIjFcIj5cbiAqICAgPFRhYiB0YWJJZD1cIjFcIj5GaXJzdCB0YWIgY29udGVudDwvVGFiPlxuICogICA8VGFiIHRhYklkPVwiMlwiPlNlY29uZCB0YWIgY29udGVudDwvVGFiPlxuICogPC9UYWJzPlxuICogYGBgXG4gKlxuICogKipMaW5rczoqKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJzIERvY3VtZW50YXRpb259XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vaHVic3BvdGRldi91aWUtdGFiYmVkLXByb2R1Y3QtY2Fyb3VzZWwgVGFicyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgVGFicyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJzJyk7XG4vKipcbiAqIEVhY2ggYFRhYmAgcmVwcmVzZW50cyBhIHNpbmdsZSB0YWIgKG9yIFwidmlld1wiKSB3aXRoaW4gdGhlIHBhcmVudCBgVGFic2AgY29tcG9uZW50LlxuICogQGV4YW1wbGVcbiAqIGBgYHRzeFxuICogPFRhYnMgZGVmYXVsdFNlbGVjdGVkPVwiMVwiPlxuICogICA8VGFiIHRhYklkPVwiMVwiPkZpcnN0IHRhYiBjb250ZW50PC9UYWI+XG4gKiAgIDxUYWIgdGFiSWQ9XCIyXCI+U2Vjb25kIHRhYiBjb250ZW50PC9UYWI+XG4gKiA8L1RhYnM+XG4gKiBgYGBcbiAqXG4gKiAqKkxpbmtzOioqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYnMgRG9jdW1lbnRhdGlvbn1cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9odWJzcG90ZGV2L3VpZS10YWJiZWQtcHJvZHVjdC1jYXJvdXNlbCBUYWJzIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFiJyk7XG4vKipcbiAqIFRoZSBgSWxsdXN0cmF0aW9uYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbGx1c3RyYXRpb24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaWxsdXN0cmF0aW9uIElsbHVzdHJhdGlvbiBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSWxsdXN0cmF0aW9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0lsbHVzdHJhdGlvbicpO1xuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZyb206IHNoYXJlZC50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjbGFzcyBFeHRlbnNpb25FdmVudCB7XG4gICAgdHlwZTtcbiAgICBidWJibGVzO1xuICAgIHRpbWVTdGFtcDtcbiAgICBpZDtcbiAgICBjb25zdHJ1Y3RvcihldmVudCkge1xuICAgICAgICB0aGlzLmJ1YmJsZXMgPSBldmVudC5idWJibGVzO1xuICAgICAgICB0aGlzLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgICAgICAgdGhpcy5pZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZvcm1TdWJtaXRFeHRlbnNpb25FdmVudCBleHRlbmRzIEV4dGVuc2lvbkV2ZW50IHtcbiAgICB0YXJnZXRWYWx1ZTtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLnRhcmdldFZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGljb25OYW1lcyA9IHtcbiAgICBzdWNjZXNzOiAnc3VjY2VzcycsXG4gICAgcmVtb3ZlOiAncmVtb3ZlJyxcbiAgICBhZGQ6ICdhZGQnLFxuICAgIGF0dGFjaDogJ2F0dGFjaCcsXG4gICAgZGF0ZTogJ2RhdGUnLFxuICAgIGNvcHk6ICdkdXBsaWNhdGUnLFxuICAgIGRlbGV0ZTogJ2RlbGV0ZScsXG4gICAgZWRpdDogJ2VkaXQnLFxuICAgIGVtYWlsOiAnZW1haWwnLFxuICAgIGV4Y2xhbWF0aW9uOiAnZXhjbGFtYXRpb24nLFxuICAgIHF1ZXN0aW9uOiAncXVlc3Rpb24nLFxuICAgIGhvbWU6ICdob21lJyxcbiAgICBsb2NhdGlvbjogJ2xvY2F0aW9uJyxcbiAgICB1cENhcmF0OiAndXBDYXJhdCcsXG4gICAgZG93bkNhcmF0OiAnZG93bkNhcmF0JyxcbiAgICB3YXJuaW5nOiAnd2FybmluZycsXG4gICAgc2hvcHBpbmdDYXJ0OiAnY2FydCcsXG4gICAgY2xvY2s6ICd0aW1lJyxcbiAgICBjb21tZW50OiAnY29tbWVudHMnLFxuICAgIGNvbnRhY3Q6ICdjb250YWN0cycsXG4gICAgc3RhcjogJ2Zhdm9yaXRlJyxcbiAgICBmaWxlOiAnZmlsZScsXG4gICAgcmVwb3J0czogJ3JlcG9ydHMnLFxuICAgIHZpZGVvOiAndmlkZW8nLFxuICAgIHJvYm90OiAnc2ltcGxlQm90JyxcbiAgICByZWZyZXNoOiAncmVmcmVzaCcsXG4gICAgZmFjZUhhcHB5OiAnZW1vamknLFxuICAgIGZhY2VOZXV0cmFsOiAnZW1vamlMaW5lTmV1dHJhbCcsXG4gICAgZmFjZVNhZDogJ2Vtb2ppTGluZVNhZCcsXG4gICAgdXBsb2FkOiAndXBsb2FkJyxcbiAgICBkb3dubG9hZDogJ2Rvd25sb2FkJyxcbiAgICBsZWZ0OiAnbGVmdCcsXG4gICAgcmlnaHQ6ICdyaWdodCcsXG4gICAgZGF0YVN5bmM6ICdkYXRhU3luYycsXG4gICAgaW1hZ2VHYWxsZXJ5OiAnaW1hZ2VHYWxsZXJ5JyxcbiAgICBzZWFyY2g6ICdzZWFyY2gnLFxuICAgIHNhdmU6ICdzYXZlRWRpdGFibGVWaWV3JyxcbiAgICBub3RpZmljYXRpb246ICdub3RpZmljYXRpb24nLFxuICAgIGJ1bGI6ICdidWxiJyxcbiAgICBzZXR0aW5nczogJ3NldHRpbmdzJyxcbiAgICBmaWx0ZXI6ICdmaWx0ZXInLFxuICAgIGdhdWdlOiAnZ2F1Z2UnLFxuICAgIGVucm9sbDogJ2Vucm9sbCcsXG4gICAgZ2VuZXJhdGVDaGFydDogJ2dlbmVyYXRlQ2hhcnQnLFxuICAgIGdpZnQ6ICdnaWZ0JyxcbiAgICBmbGFtZTogJ2hpZ2hseUVuZ2FnZWRMZWFkJyxcbiAgICBpbmJveDogJ2luYm94JyxcbiAgICBpbWFnZTogJ2luc2VydEltYWdlJyxcbiAgICBxdW90ZTogJ2luc2VydFF1b3RlJyxcbiAgICBpbnNlcnRWaWRlbzogJ2luc2VydFZpZGVvJyxcbiAgICBpbnZvaWNlOiAnaW52b2ljZScsXG4gICAga2V5OiAna2V5JyxcbiAgICBib29rOiAna25vd2xlZGdlQmFzZScsXG4gICAgZ2xvYmU6ICdsYW5ndWFnZScsXG4gICAgbGVzc29uOiAnbGVzc29uJyxcbiAgICBsaW5rOiAnbGluaycsXG4gICAgbGlzdFZpZXc6ICdsaXN0VmlldycsXG4gICAgbG9ja2VkOiAnbG9ja2VkJyxcbiAgICBtZW50aW9uOiAnbWVudGlvbicsXG4gICAgbWVzc2FnZXM6ICdtZXNzYWdlcycsXG4gICAgbW9iaWxlOiAnbW9iaWxlJyxcbiAgICBub3RpZmljYXRpb25PZmY6ICdub3RpZmljYXRpb25PZmYnLFxuICAgIGhhc2g6ICdudW1lcmljRGF0YVR5cGUnLFxuICAgIG9iamVjdEFzc29jaWF0aW9uczogJ29iamVjdEFzc29jaWF0aW9ucycsXG4gICAgb2JqZWN0QXNzb2NpYXRpb25zTWFueVRvTWFueTogJ29iamVjdEFzc29jaWF0aW9uc01hbnlUb01hbnknLFxuICAgIG9iamVjdEFzc29jaWF0aW9uc01hbnlUb09uZTogJ29iamVjdEFzc29jaWF0aW9uc01hbnlUb09uZScsXG4gICAgb2ZmaWNlMzY1OiAnb2ZmaWNlMzY1JyxcbiAgICBvcmRlcjogJ29yZGVyJyxcbiAgICBwYXltZW50U3Vic2NyaXB0aW9uczogJ3BheW1lbnRTdWJzY3JpcHRpb25zJyxcbiAgICBwcm9kdWN0OiAncHJvZHVjdCcsXG4gICAgcG93ZXJQb2ludEZpbGU6ICdwb3dlclBvaW50RmlsZScsXG4gICAgcHJlc2VudGF0aW9uOiAncHJlc2VudGF0aW9uJyxcbiAgICBwdWJsaXNoOiAncHVibGlzaCcsXG4gICAgcXVlc3Rpb25BbnN3ZXI6ICdxdWVzdGlvbkFuc3dlcicsXG4gICAgcXVpY2tib29rczogJ3F1aWNrYm9va3MnLFxuICAgIHJlYWRNb3JlOiAncmVhZE1vcmUnLFxuICAgIHJlYWxFc3RhdGVMaXN0aW5nOiAncmVhbEVzdGF0ZUxpc3RpbmcnLFxuICAgIHJlYWRPbmx5VmlldzogJ3JlYWRPbmx5VmlldycsXG4gICAgcmVjZW50bHlTZWxlY3RlZDogJ3JlY2VudGx5U2VsZWN0ZWQnLFxuICAgIHJlY29yZDogJ3JlY29yZCcsXG4gICAgcmVkbzogJ3JlZG8nLFxuICAgIHVuZG86ICd1bmRvJyxcbiAgICByZWdpc3RyYXRpb246ICdyZWdpc3RyYXRpb24nLFxuICAgIHJlcGxhY2U6ICdyZXBsYWNlJyxcbiAgICByb3RhdGU6ICdyb3RhdGUnLFxuICAgIHNhbGVzUXVvdGU6ICdzYWxlc1F1b3RlJyxcbiAgICBzYWxlc1RlbXBsYXRlczogJ3NhbGVzVGVtcGxhdGVzJyxcbiAgICBzZXF1ZW5jZXM6ICdzZXF1ZW5jZXMnLFxuICAgIHNwZWxsQ2hlY2s6ICdzcGVsbENoZWNrJyxcbiAgICBzdHJpa2U6ICdzdHJpa2UnLFxuICAgIHRhYmxldDogJ3RhYmxldCcsXG4gICAgdGFnOiAndGFnJyxcbiAgICB0YXNrczogJ3Rhc2tzJyxcbiAgICB0ZXN0OiAndGVzdCcsXG4gICAgdGlja2V0OiAndGlja2V0JyxcbiAgICB0aHVtYnNVcDogJ3RodW1ic1VwJyxcbiAgICB0aHVtYnNEb3duOiAndGh1bWJzRG93bicsXG4gICAgdHJhbnNsYXRlOiAndHJhbnNsYXRlJyxcbiAgICB0cm9waHk6ICd0cm9waHknLFxuICAgIHZpZGVvRmlsZTogJ3ZpZGVvRmlsZScsXG4gICAgdmlkZW9QbGF5ZXJTdWJ0aXRsZXM6ICd2aWRlb1BsYXllclN1YnRpdGxlcycsXG4gICAgdmlldzogJ3ZpZXcnLFxuICAgIHZpZXdEZXRhaWxzOiAndmlld0RldGFpbHMnLFxuICAgIHdlYnNpdGU6ICd3ZWJzaXRlJyxcbiAgICB3b3JrZmxvd3M6ICd3b3JrZmxvd3MnLFxuICAgIHpvb21JbjogJ3pvb21JbicsXG4gICAgem9vbU91dDogJ3pvb21PdXQnLFxuICAgIGdvYWw6ICdnb2FsJyxcbiAgICBjYW1wYWlnbnM6ICdjYW1wYWlnbnMnLFxuICAgIGNhcDogJ2NhcCcsXG4gICAgYmxvY2s6ICdibG9jaycsXG4gICAgYmFuazogJ2JhbmsnLFxuICAgIGFwcHJvdmFsczogJ2FwcHJvdmFscycsXG4gICAgYXBwb2ludG1lbnQ6ICdhcHBvaW50bWVudCcsXG4gICAgZmFjZWJvb2s6ICdzb2NpYWxCbG9ja0ZhY2Vib29rJyxcbiAgICBnb29nbGVQbHVzOiAnc29jaWFsQmxvY2tHb29nbGVwbHVzJyxcbiAgICBpbnN0YWdyYW06ICdzb2NpYWxCbG9ja0luc3RhZ3JhbScsXG4gICAgbGlua2VkaW46ICdzb2NpYWxCbG9ja0xpbmtlZGluJyxcbiAgICBwaW50ZXJlc3Q6ICdzb2NpYWxCbG9ja1BpbnRlcmVzdCcsXG4gICAgcnNzOiAnc29jaWFsQmxvY2tSc3MnLFxuICAgIHR3aXR0ZXI6ICdzb2NpYWxCbG9ja1R3aXR0ZXInLFxuICAgIHg6ICdzb2NpYWxCbG9ja1gnLFxuICAgIHhpbmc6ICdzb2NpYWxCbG9ja1hpbmcnLFxuICAgIHlvdXR1YmU6ICdzb2NpYWxCbG9ja1lvdXR1YmUnLFxuICAgIHlvdXR1YmVQbGF5OiAnc29jaWFsQmxvY2tZb3V0dWJlcGxheScsXG4gICAgc29ydEFscEFzYzogJ3NvcnRBbHBBc2MnLFxuICAgIHNvcnRBbHBEZXNjOiAnc29ydEFscERlc2MnLFxuICAgIHNvcnRBbXRBc2M6ICdzb3J0QW10QXNjJyxcbiAgICBzb3J0QW10RGVzYzogJ3NvcnRBbXREZXNjJyxcbiAgICBzb3J0TnVtQXNjOiAnc29ydE51bUFzYycsXG4gICAgc29ydE51bURlc2M6ICdzb3J0TnVtRGVzYycsXG4gICAgc29ydFRhYmxlQXNjOiAnc29ydFRhYmxlQXNjJyxcbiAgICBzb3J0VGFibGVEZXNjOiAnc29ydFRhYmxlRGVzYycsXG4gICAgdGV4dDogJ3RleHQnLFxuICAgIHRleHRDb2xvcjogJ3RleHRDb2xvcicsXG4gICAgdGV4dERhdGFUeXBlOiAndGV4dERhdGFUeXBlJyxcbiAgICB0ZXh0U25pcHBldDogJ3RleHRTbmlwcGV0JyxcbiAgICBjYWxsaW5nOiAnY2FsbGluZycsXG4gICAgY2FsbGluZ0hhbmd1cDogJ2NhbGxpbmdIYW5ndXAnLFxuICAgIGNhbGxpbmdNYWRlOiAnY2FsbGluZ01hZGUnLFxuICAgIGNhbGxpbmdNaXNzZWQ6ICdjYWxsaW5nTWlzc2VkJyxcbiAgICBjYWxsaW5nVm9pY2VtYWlsOiAnY2FsbGluZ1ZvaWNlbWFpbCcsXG4gICAgZmFjZUhhcHB5RmlsbGVkOiAnZW1vamlGaWxsSGFwcHknLFxuICAgIGZhY2VOZXV0cmFsRmlsbGVkOiAnZW1vamlGaWxsTmV1dHJhbCcsXG4gICAgZmFjZVNhZEZpbGxlZDogJ2Vtb2ppRmlsbFNhZCcsXG59O1xuLyoqIEBkZXByZWNhdGVkIHVzZSBFeHRlbnNpb25FdmVudC9Gb3JtU3VibWl0RXh0ZW5zaW9uRXZlbnQgaW5zdGVhZCAqL1xuZXhwb3J0IGNsYXNzIFJlbW90ZUV2ZW50IHtcbiAgICB0eXBlO1xuICAgIGJ1YmJsZXM7XG4gICAgdGltZVN0YW1wO1xuICAgIHRhcmdldFZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBldmVudCkge1xuICAgICAgICB0aGlzLmJ1YmJsZXMgPSBldmVudC5idWJibGVzO1xuICAgICAgICB0aGlzLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgICAgICAgdGhpcy50YXJnZXRWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjaGFydEZpZWxkVHlwZXMgPSB7XG4gICAgZGF0ZXRpbWU6ICdkYXRldGltZScsXG4gICAgbGluZWFyOiAnbGluZWFyJyxcbiAgICBjYXRlZ29yeTogJ2NhdGVnb3J5Jyxcbn07XG5leHBvcnQgY29uc3QgaWxsdXN0cmF0aW9uTmFtZXMgPSB7XG4gICAgLy8gU3RhbmRhcmQgMToxIG1hcHBpbmdzXG4gICAgbG9jazogJ2xvY2snLFxuICAgIHVubG9jazogJ3VubG9jaycsXG4gICAgZWxlY3Ryb25pY1NpZ25hdHVyZTogJ2VsZWN0cm9uaWMtc2lnbmF0dXJlJyxcbiAgICBlbGVjdHJvbmljU2lnbmF0dXJlRW1wdHlTdGF0ZTogJ2VsZWN0cm9uaWMtc2lnbmF0dXJlLWVtcHR5LXN0YXRlJyxcbiAgICBjYWxsaW5nU2V0VXA6ICdjYWxsaW5nLXNldC11cCcsXG4gICAgY29tcGFuaWVzOiAnY29tcGFuaWVzJyxcbiAgICBjb250YWN0czogJ2NvbnRhY3RzJyxcbiAgICBtdWx0aXBsZU9iamVjdHM6ICdtdWx0aXBsZS1vYmplY3RzJyxcbiAgICBvYmplY3Q6ICdvYmplY3QnLFxuICAgIHRhc2s6ICd0YXNrJyxcbiAgICBkZWFsczogJ2RlYWxzJyxcbiAgICByZWdpc3RyYXRpb246ICdyZWdpc3RyYXRpb24nLFxuICAgIGRldmVsb3BlclNlY3VyaXR5VXBkYXRlOiAnZGV2ZWxvcGVyLXNlY3VyaXR5LXVwZGF0ZScsXG4gICAgc29jaWFsOiAnc29jaWFsJyxcbiAgICBsZWFkczogJ2xlYWRzJyxcbiAgICB0YXJnZXQ6ICd0YXJnZXQnLFxuICAgIGVtYWlsQ29uZmlybWF0aW9uOiAnZW1haWwtY29uZmlybWF0aW9uJyxcbiAgICBzdWNjZXNzZnVsbHlDb25uZWN0ZWRFbWFpbDogJ3N1Y2Nlc3NmdWxseS1jb25uZWN0ZWQtZW1haWwnLFxuICAgIGNvbnRlbnRTdHJhdGVneTogJ2NvbnRlbnQtc3RyYXRlZ3knLFxuICAgIGFkZE9uUmVwb3J0aW5nOiAnYWRkLW9uLXJlcG9ydGluZycsXG4gICAgcHJvZHVjdHNTaG9wcGluZ0NhcnQ6ICdwcm9kdWN0cy1zaG9wcGluZy1jYXJ0JyxcbiAgICBzdG9yZTogJ3N0b3JlJyxcbiAgICBzdG9yZURpc2FibGVkOiAnc3RvcmUtZGlzYWJsZWQnLFxuICAgIGN1c3RvbWVyU3VwcG9ydDogJ2N1c3RvbWVyLXN1cHBvcnQnLFxuICAgIGN1c3RvbWVyRXhwZXJpZW5jZTogJ2N1c3RvbWVyLWV4cGVyaWVuY2UnLFxuICAgIGFwaTogJ2FwaScsXG4gICAgaW50ZWdyYXRpb25zOiAnaW50ZWdyYXRpb25zJyxcbiAgICBzYW5kYm94QWRkT246ICdzYW5kYm94LWFkZC1vbicsXG4gICAgY3VzdG9tT2JqZWN0czogJ2N1c3RvbS1vYmplY3RzJyxcbiAgICBwYXltZW50c0J1dHRvbjogJ3BheW1lbnRzLWJ1dHRvbicsXG4gICAgYXV0b21hdGVkVGVzdGluZzogJ2F1dG9tYXRlZC10ZXN0aW5nJyxcbiAgICBlbXB0eVN0YXRlQ2hhcnRzOiAnZW1wdHktc3RhdGUtY2hhcnRzJyxcbiAgICAvLyBTcGVjaWFsIG1hcHBpbmdzIHRoYXQgYXJlIG5vdCAxOjFcbiAgICBtZWV0aW5nczogJ21lZXRpbmdzLXNtYWxsJyxcbiAgICB0aWNrZXRzOiAndGlja2V0LXNtYWxsJyxcbiAgICBlcnJvckdlbmVyYWw6ICdlcnJvcnMvZ2VuZXJhbCcsXG4gICAgZXJyb3JIb3VyZ2xhc3M6ICdlcnJvcnMvaG91cmdsYXNzJyxcbiAgICBtaWRkbGVQYW5lQ2FyZHM6ICdzZXR0aW5ncy1taWRkbGUtcGFuZS1jYXJkcycsXG4gICAgcHJvcGVydGllc1NpZGViYXI6ICdzZXR0aW5ncy1wcm9wZXJ0aWVzLXNpZGViYXInLFxuICAgIHNpZGViYXI6ICdzZXR0aW5ncy1zaWRlYmFyJyxcbn07XG5leHBvcnQgY29uc3QgRVhURU5TSU9OX1BPSU5UX0xPQ0FUSU9OUyA9IFtcbiAgICAnY3JtLnByZXZpZXcnLFxuICAgICdjcm0ucmVjb3JkLnNpZGViYXInLFxuICAgICdjcm0ucmVjb3JkLnRhYicsXG4gICAgJ2hlbHBkZXNrLnNpZGViYXInLFxuICAgICd1aWUucGxheWdyb3VuZC5taWRkbGUnLFxuICAgICdzZXR0aW5ncycsXG5dO1xuLyoqXG4gKiBAY2F0ZWdvcnkgU2VydmVybGVzc1xuICovXG5leHBvcnQgdmFyIFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXM7XG4oZnVuY3Rpb24gKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMpIHtcbiAgICBTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzW1wiU3VjY2Vzc1wiXSA9IFwiU1VDQ0VTU1wiO1xuICAgIFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXNbXCJFcnJvclwiXSA9IFwiRVJST1JcIjtcbn0pKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMgfHwgKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMgPSB7fSkpO1xuIiwiLyoqXG4gKiBEb2N1bWVudCBMaXN0IEV4dGVuc2lvbiBmb3IgSHViU3BvdFxuICogXG4gKiBNYW5hZ2VzIGRvY3VtZW50IHJlcXVpcmVtZW50cyBhbmQgY29tcGxldGlvbiBzdGF0dXMgZm9yIGxlZ2FsIGRvc3NpZXJzLlxuICogRG9jdW1lbnRzIGNhbiBiZSBjb25kaXRpb25hbGx5IHJlcXVpcmVkIGJhc2VkIG9uIEh1YlNwb3QgcmVjb3JkIHByb3BlcnRpZXMsXG4gKiBhbmQgdGhlIGV4dGVuc2lvbiBhdXRvbWF0aWNhbGx5IHRyYWNrcyBjb21wbGV0aW9uIHN0YXR1cyBhbmQgbWlzc2luZyBkb2N1bWVudHMuXG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBodWJzcG90LFxuICBDaGVja2JveCxcbiAgRmxleCxcbiAgVGV4dCxcbiAgTG9hZGluZ1NwaW5uZXIsXG4gIEFsZXJ0LFxuICBCb3gsXG4gIEJ1dHRvbixcbiAgRGl2aWRlcixcbiAgVGFnLFxuICBUYWJzLFxuICBUYWIsXG4gIFByb2dyZXNzQmFyLFxuICBFbXB0eVN0YXRlLFxuICBTdGVwSW5kaWNhdG9yLFxuICBJbnB1dCxcbiAgTW9kYWwsXG4gIE1vZGFsQm9keSxcbiAgTW9kYWxGb290ZXIsXG4gIHR5cGUgQ3JtQ29udGV4dCxcbn0gZnJvbSAnQGh1YnNwb3QvdWktZXh0ZW5zaW9ucyc7XG5cbmltcG9ydCBkb2N1bWVudHNDb25maWcgZnJvbSAnLi9kb2N1bWVudHMuanNvbic7XG5pbXBvcnQgdGFic0NvbmZpZyBmcm9tICcuL3RhYnMuanNvbic7XG5pbXBvcnQgY29uZGl0aW9uYWxQcm9wZXJ0aWVzQ29uZmlnIGZyb20gJy4vY29uZGl0aW9uYWxQcm9wZXJ0aWVzLmpzb24nO1xuXG5odWJzcG90LmV4dGVuZDwnY3JtLnJlY29yZC50YWInPigoeyBjb250ZXh0LCBhY3Rpb25zIH0pID0+IDxFeHRlbnNpb24gY29udGV4dD17Y29udGV4dH0gYWN0aW9ucz17YWN0aW9uc30gLz4pO1xuXG5pbnRlcmZhY2UgRXh0ZW5zaW9uUHJvcHMge1xuICBjb250ZXh0OiBDcm1Db250ZXh0O1xuICBhY3Rpb25zOiB7XG4gICAgY2xvc2VPdmVybGF5OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZW4gYSBkb2N1bWVudCBzaG91bGQgYmUgcmVxdWlyZWQuXG4gKiBDb25kaXRpb25zIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCBIdWJTcG90IHJlY29yZCBwcm9wZXJ0aWVzLlxuICovXG5pbnRlcmZhY2UgRG9jdW1lbnRDb25kaXRpb24ge1xuICBwcm9wZXJ0eTogc3RyaW5nO1xuICBvcGVyYXRvcjogJ2VxdWFscycgfCAnbm90X2VxdWFscycgfCAnY29udGFpbnMnIHwgJ25vdF9jb250YWlucycgfCAnaW4nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRhYi1zcGVjaWZpYyBjb25maWd1cmF0aW9uIGZvciBhIGRvY3VtZW50LlxuICogRWFjaCB0YWIgY2FuIGhhdmUgaXRzIG93biBvcmRlciBhbmQgY29uZGl0aW9ucy5cbiAqL1xuaW50ZXJmYWNlIFRhYkNvbmZpZyB7XG4gIG9yZGVyOiBudW1iZXI7XG4gIGNvbmRpdGlvbnM6IERvY3VtZW50Q29uZGl0aW9uW107XG59XG5cbi8qKlxuICogRG9jdW1lbnQgY29uZmlndXJhdGlvbiBsb2FkZWQgZnJvbSBKU09OLlxuICogVXNlcyB0YWJDb25maWcgZm9yIHBlci10YWIgY29uZGl0aW9ucyBhbmQgb3JkZXJpbmcuXG4gKi9cbmludGVyZmFjZSBEb2N1bWVudENvbmZpZyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcmVxdWlyZWRQcm9wZXJ0eTogc3RyaW5nO1xuICBwcm92aWRlZFByb3BlcnR5OiBzdHJpbmc7XG4gIHRhYkNvbmZpZzogUmVjb3JkPHN0cmluZywgVGFiQ29uZmlnPjtcbn1cblxuLyoqXG4gKiBEb2N1bWVudCBzdGF0ZSBhdCBydW50aW1lLlxuICogSW5jbHVkZXMgY3VycmVudCByZXF1aXJlZC9wcm92aWRlZCBzdGF0dXMgYW5kIHBlci10YWIgY29uZmlndXJhdGlvbi5cbiAqL1xuaW50ZXJmYWNlIERvY3VtZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICByZXF1aXJlZDogYm9vbGVhbjtcbiAgcHJvdmlkZWQ6IGJvb2xlYW47XG4gIHJlcXVpcmVkUHJvcGVydHk6IHN0cmluZztcbiAgcHJvdmlkZWRQcm9wZXJ0eTogc3RyaW5nO1xuICB0YWJDb25maWc6IFJlY29yZDxzdHJpbmcsIFRhYkNvbmZpZz47XG59XG5cbmNvbnN0IERPQ1VNRU5UU19DT05GSUc6IERvY3VtZW50Q29uZmlnW10gPSBkb2N1bWVudHNDb25maWcgYXMgRG9jdW1lbnRDb25maWdbXTtcbmNvbnN0IFRBQlNfQ09ORklHID0gdGFic0NvbmZpZyBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfT47XG5cbmNvbnN0IElOSVRJQUxfRE9DVU1FTlRTOiBEb2N1bWVudFtdID0gRE9DVU1FTlRTX0NPTkZJRy5tYXAoY29uZmlnID0+ICh7XG4gIGlkOiBjb25maWcuaWQsXG4gIG5hbWU6IGNvbmZpZy5uYW1lLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHByb3ZpZGVkOiBmYWxzZSxcbiAgcmVxdWlyZWRQcm9wZXJ0eTogY29uZmlnLnJlcXVpcmVkUHJvcGVydHksXG4gIHByb3ZpZGVkUHJvcGVydHk6IGNvbmZpZy5wcm92aWRlZFByb3BlcnR5LFxuICB0YWJDb25maWc6IGNvbmZpZy50YWJDb25maWcgfHwge31cbn0pKTtcblxuY29uc3QgQ09NUExFVElPTl9QUk9QRVJUWSA9ICdkb2N1bWVudHNfY29tcGxldGVkJztcbmNvbnN0IERPU1NJRVJfU1RBVEVfUFJPUEVSVFkgPSAnZXRhdF9kdV9kb3NzaWVyJztcbmNvbnN0IE1JU1NJTkdfRE9DX1BST1BFUlRZID0gJ21pc3NpbmdfZG9jJztcblxuY29uc3QgRE9TU0lFUl9TVEFURVMgPSB7XG4gIFRPX0JVSUxEOiBcIsOAIGNvbnN0cnVpcmVcIixcbiAgSU5DT01QTEVURTogXCJFbiBjb25zdHJ1Y3Rpb25cIixcbiAgQ09NUExFVEU6IFwiQ29tcGxldFwiXG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhIGRvY3VtZW50IGJlbG9uZ3MgdG8gYSBzcGVjaWZpYyB0YWIuXG4gKiBVc2VzIHRoZSBuZXcgdGFiQ29uZmlnIHN0cnVjdHVyZSB3aGVyZSBlYWNoIGRvY3VtZW50IGhhcyBwZXItdGFiIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmNvbnN0IGRvY3VtZW50QmVsb25nc1RvVGFiID0gKGRvYzogRG9jdW1lbnQsIHRhYklkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGRvYy50YWJDb25maWcgJiYgdGFiSWQgaW4gZG9jLnRhYkNvbmZpZztcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgb3JkZXIgZm9yIGEgZG9jdW1lbnQgaW4gYSBzcGVjaWZpYyB0YWIuXG4gKiBSZXR1cm5zIHRoZSBvcmRlciBmcm9tIHRhYkNvbmZpZyBvciA5OTk5IGlmIG5vdCBmb3VuZC5cbiAqL1xuY29uc3QgZ2V0T3JkZXJGb3JUYWIgPSAoZG9jOiBEb2N1bWVudCwgdGFiSWQ6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gIHJldHVybiBkb2MudGFiQ29uZmlnPy5bdGFiSWRdPy5vcmRlciA/PyA5OTk5O1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGNvbmRpdGlvbnMgZm9yIGEgZG9jdW1lbnQgaW4gYSBzcGVjaWZpYyB0YWIuXG4gKiBSZXR1cm5zIHRoZSBjb25kaXRpb25zIGFycmF5IGZyb20gdGFiQ29uZmlnIG9yIGVtcHR5IGFycmF5IGlmIG5vdCBmb3VuZC5cbiAqL1xuY29uc3QgZ2V0Q29uZGl0aW9uc0ZvclRhYiA9IChkb2M6IERvY3VtZW50LCB0YWJJZDogc3RyaW5nKTogRG9jdW1lbnRDb25kaXRpb25bXSA9PiB7XG4gIHJldHVybiBkb2MudGFiQ29uZmlnPy5bdGFiSWRdPy5jb25kaXRpb25zIHx8IFtdO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFsbCBjb25kaXRpb25zIGFjcm9zcyBhbGwgdGFicyBmb3IgYSBkb2N1bWVudC5cbiAqIFVzZWQgd2hlbiBjaGVja2luZyBpZiBhbnkgY29uZGl0aW9ucyBtYXRjaCByZWdhcmRsZXNzIG9mIHRhYi5cbiAqL1xuY29uc3QgZ2V0QWxsQ29uZGl0aW9ucyA9IChkb2M6IERvY3VtZW50KTogRG9jdW1lbnRDb25kaXRpb25bXSA9PiB7XG4gIGlmICghZG9jLnRhYkNvbmZpZykgcmV0dXJuIFtdO1xuICBjb25zdCBhbGxDb25kaXRpb25zOiBEb2N1bWVudENvbmRpdGlvbltdID0gW107XG4gIE9iamVjdC52YWx1ZXMoZG9jLnRhYkNvbmZpZykuZm9yRWFjaChjb25maWcgPT4ge1xuICAgIGlmIChjb25maWcuY29uZGl0aW9ucykge1xuICAgICAgYWxsQ29uZGl0aW9ucy5wdXNoKC4uLmNvbmZpZy5jb25kaXRpb25zKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYWxsQ29uZGl0aW9ucztcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgZmlyc3QgdGFiIGEgZG9jdW1lbnQgYmVsb25ncyB0by5cbiAqIFJldHVybnMgbnVsbCBpZiBkb2N1bWVudCBoYXMgbm8gdGFiIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmNvbnN0IGdldEZpcnN0VGFiID0gKGRvYzogRG9jdW1lbnQpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKCFkb2MudGFiQ29uZmlnKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgdGFicyA9IE9iamVjdC5rZXlzKGRvYy50YWJDb25maWcpO1xuICByZXR1cm4gdGFicy5sZW5ndGggPiAwID8gdGFic1swXSA6IG51bGw7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHZhcmlvdXMgSHViU3BvdCBwcm9wZXJ0eSB2YWx1ZSBmb3JtYXRzIHRvIGJvb2xlYW4uXG4gKiBIYW5kbGVzIHN0cmluZ3MgbGlrZSBcInRydWVcIiwgXCJmYWxzZVwiLCBcIk91aVwiLCBcIk5vblwiLCBcIjFcIiwgXCIwXCIsIGV0Yy5cbiAqL1xuY29uc3QgdG9Cb29sID0gKHZhbHVlOiBhbnkpOiBib29sZWFuID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIFxuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgbG93ZXIgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBpZiAobG93ZXIgPT09ICd0cnVlJyB8fCBsb3dlciA9PT0gJzEnIHx8IGxvd2VyID09PSAneWVzJyB8fCBsb3dlciA9PT0gJ291aScpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobG93ZXIgPT09ICdmYWxzZScgfHwgbG93ZXIgPT09ICcwJyB8fCBsb3dlciA9PT0gJ25vJyB8fCBsb3dlciA9PT0gJ25vbicgfHwgbG93ZXIgPT09ICctLScpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gMDtcbiAgfVxuICBcbiAgcmV0dXJuIEJvb2xlYW4odmFsdWUpO1xufTtcblxuY29uc3QgRXh0ZW5zaW9uID0gKHsgY29udGV4dCwgYWN0aW9ucyB9OiBFeHRlbnNpb25Qcm9wcykgPT4ge1xuICBjb25zdCBbZG9jdW1lbnRzLCBzZXREb2N1bWVudHNdID0gdXNlU3RhdGU8RG9jdW1lbnRbXT4oSU5JVElBTF9ET0NVTUVOVFMpO1xuICBjb25zdCBbcmVjb3JkUHJvcGVydGllcywgc2V0UmVjb3JkUHJvcGVydGllc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBhbnk+Pih7fSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzQ2hhbmdlZCwgc2V0SXNDaGFuZ2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ29tcGxldGVkLCBzZXRJc0NvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtleGlzdGluZ1Byb3BlcnRpZXMsIHNldEV4aXN0aW5nUHJvcGVydGllc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW2Rvc3NpZXJTdGF0ZSwgc2V0RG9zc2llclN0YXRlXSA9IHVzZVN0YXRlKERPU1NJRVJfU1RBVEVTLlRPX0JVSUxEKTtcbiAgY29uc3QgW2luaXRpYWxDb21wbGV0aW9uU3RhdHVzLCBzZXRJbml0aWFsQ29tcGxldGlvblN0YXR1c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpbml0aWFsRG9zc2llclN0YXRlLCBzZXRJbml0aWFsRG9zc2llclN0YXRlXSA9IHVzZVN0YXRlKERPU1NJRVJfU1RBVEVTLlRPX0JVSUxEKTtcbiAgY29uc3QgW3Nob3dTdWNjZXNzLCBzZXRTaG93U3VjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93RW1haWxTdWNjZXNzLCBzZXRTaG93RW1haWxTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gSW5pdGlhbGl6ZSBzZWxlY3RlZCB0YWIgLSB3aWxsIGJlIHVwZGF0ZWQgd2hlbiBzb3VzX2NhdGVnb3JpZSBpcyBsb2FkZWRcbiAgY29uc3QgW3NlbGVjdGVkVGFiLCBzZXRTZWxlY3RlZFRhYl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFRBQlNfQ09ORklHWzBdPy5pZCB8fCAnYXV0cmUnKTtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuYXR1cmVEZW1hbmRlLCBzZXROYXR1cmVEZW1hbmRlXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbaXNSZWZ1Z2llQXBhdHJpZGUsIHNldElzUmVmdWdpZUFwYXRyaWRlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3JlZnVnaWVSYXcsIHNldFJlZnVnaWVSYXddID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtoYXNDb25maWdFcnJvciwgc2V0SGFzQ29uZmlnRXJyb3JdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNBdXRvU2F2aW5nLCBzZXRJc0F1dG9TYXZpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYWxsIHJlcXVpcmVkIGRvY3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuXG4gICAqIFJldHVybnMgdHJ1ZSBvbmx5IGlmIHRoZXJlIGFyZSByZXF1aXJlZCBkb2N1bWVudHMgYW5kIGFsbCBhcmUgcHJvdmlkZWQuXG4gICAqL1xuICBjb25zdCBjaGVja0NvbXBsZXRpb24gPSAoZG9jczogRG9jdW1lbnRbXSk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGluY29tcGxldGVSZXF1aXJlZCA9IGRvY3MuZmluZChkb2MgPT4gZG9jLnJlcXVpcmVkICYmICFkb2MucHJvdmlkZWQpO1xuICAgIGNvbnN0IGhhc1JlcXVpcmVkRG9jcyA9IGRvY3Muc29tZShkb2MgPT4gZG9jLnJlcXVpcmVkKTtcbiAgICByZXR1cm4gIWluY29tcGxldGVSZXF1aXJlZCAmJiBoYXNSZXF1aXJlZERvY3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGRvc3NpZXIgc3RhdGUgYmFzZWQgb24gZG9jdW1lbnQgc3RhdHVzLlxuICAgKiBTdGF0ZXM6IFRPX0JVSUxEIChubyByZXF1aXJlZCBkb2NzKSwgSU5DT01QTEVURSAoc29tZSBwcm92aWRlZCksIENPTVBMRVRFIChhbGwgcHJvdmlkZWQpLlxuICAgKi9cbiAgY29uc3QgY2FsY3VsYXRlRG9zc2llclN0YXRlID0gKGRvY3M6IERvY3VtZW50W10pOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGhhc1JlcXVpcmVkRG9jcyA9IGRvY3Muc29tZShkb2MgPT4gZG9jLnJlcXVpcmVkKTtcbiAgICBpZiAoIWhhc1JlcXVpcmVkRG9jcykge1xuICAgICAgcmV0dXJuIERPU1NJRVJfU1RBVEVTLlRPX0JVSUxEO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbnlQcm92aWRlZCA9IGRvY3Muc29tZShkb2MgPT4gZG9jLnByb3ZpZGVkKTtcbiAgICBpZiAoYW55UHJvdmlkZWQpIHtcbiAgICAgIGNvbnN0IGFsbFJlcXVpcmVkUHJvdmlkZWQgPSAhZG9jcy5zb21lKGRvYyA9PiBkb2MucmVxdWlyZWQgJiYgIWRvYy5wcm92aWRlZCk7XG4gICAgICByZXR1cm4gYWxsUmVxdWlyZWRQcm92aWRlZCA/IERPU1NJRVJfU1RBVEVTLkNPTVBMRVRFIDogRE9TU0lFUl9TVEFURVMuSU5DT01QTEVURTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIERPU1NJRVJfU1RBVEVTLlRPX0JVSUxEO1xuICB9O1xuXG4gIC8vIEZldGNoIGluaXRpYWwgZGF0YSBhbmQgcmVmZXRjaCB3aGVuIHdpbmRvdyByZWdhaW5zIGZvY3VzIChkZXRlY3RzIGV4dGVybmFsIGNoYW5nZXMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hEb2N1bWVudFZhbHVlcygpO1xuICAgIFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgaGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgICAgIGZldGNoRG9jdW1lbnRWYWx1ZXMoKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZUZvY3VzKTtcbiAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cyk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgbWlzc2luZyBkb2N1bWVudHMgKHJlcXVpcmVkIGJ1dCBub3QgcHJvdmlkZWQpIGFuZCBmb3JtYXRzIGFzIEhUTUwgbGlzdC5cbiAgICogVXNlZCBmb3IgdGhlIG1pc3NpbmdfZG9jIEh1YlNwb3QgcHJvcGVydHkgd2hpY2ggaXMgYSBSaWNoIFRleHQgZmllbGQuXG4gICAqL1xuICBjb25zdCBjYWxjdWxhdGVNaXNzaW5nRG9jdW1lbnRzID0gKGRvY3M6IERvY3VtZW50W10sIHByb3BlcnRpZXM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBwcm9wc1RvVXNlID0gcHJvcGVydGllcyB8fCByZWNvcmRQcm9wZXJ0aWVzO1xuICAgIFxuICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gZG9jc1xuICAgICAgLmZpbHRlcihkb2MgPT4ge1xuICAgICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCBwcm9wc1RvVXNlKTtcbiAgICAgICAgY29uc3QgaGFzQ29uZGl0aW9ucyA9IGdldEFsbENvbmRpdGlvbnMoZG9jKS5sZW5ndGggPiAwO1xuXG4gICAgICAgIC8vIEEgZG9jdW1lbnQgaXMgcmVxdWlyZWQgaWYgbWFudWFsbHkgbWFya2VkIGFzIHJlcXVpcmVkIE9SIGlmIGNvbmRpdGlvbnMgYXJlIG1ldFxuICAgICAgICBjb25zdCBpc1JlcXVpcmVkID0gZG9jLnJlcXVpcmVkIHx8IChoYXNDb25kaXRpb25zID8gY29uZGl0aW9uc01ldCA6IGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gaXNSZXF1aXJlZCAmJiAhZG9jLnByb3ZpZGVkO1xuICAgICAgfSlcbiAgICAgIC5tYXAoZG9jID0+IGRvYy5uYW1lKVxuICAgICAgLmZpbHRlcihuYW1lID0+IG5hbWUudHJpbSgpICE9PSAnJyk7XG5cbiAgICBpZiAobWlzc2luZ0RvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IGxpc3RJdGVtcyA9IG1pc3NpbmdEb2NzLm1hcChkb2NOYW1lID0+IGA8bGk+JHtkb2NOYW1lfTwvbGk+YCkuam9pbignJyk7XG4gICAgcmV0dXJuIGA8dWw+JHtsaXN0SXRlbXN9PC91bD5gO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFycmF5IG9mIG1pc3NpbmcgZG9jdW1lbnQgbmFtZXMgZm9yIGRpc3BsYXkgaW4gVUkgKGUuZy4sIG1vZGFsKS5cbiAgICovXG4gIGNvbnN0IGdldE1pc3NpbmdEb2N1bWVudHNMaXN0ID0gKGRvY3M6IERvY3VtZW50W10sIHByb3BlcnRpZXM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogc3RyaW5nW10gPT4ge1xuICAgIGNvbnN0IHByb3BzVG9Vc2UgPSBwcm9wZXJ0aWVzIHx8IHJlY29yZFByb3BlcnRpZXM7XG5cbiAgICBjb25zdCBtaXNzaW5nRG9jcyA9IGRvY3NcbiAgICAgIC5maWx0ZXIoZG9jID0+IHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcHJvcHNUb1VzZSk7XG4gICAgICAgIGNvbnN0IGhhc0NvbmRpdGlvbnMgPSBnZXRBbGxDb25kaXRpb25zKGRvYykubGVuZ3RoID4gMDtcblxuICAgICAgICAvLyBBIGRvY3VtZW50IGlzIHJlcXVpcmVkIGlmIG1hbnVhbGx5IG1hcmtlZCBhcyByZXF1aXJlZCBPUiBpZiBjb25kaXRpb25zIGFyZSBtZXRcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZCA9IGRvYy5yZXF1aXJlZCB8fCAoaGFzQ29uZGl0aW9ucyA/IGNvbmRpdGlvbnNNZXQgOiBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGlzUmVxdWlyZWQgJiYgIWRvYy5wcm92aWRlZDtcbiAgICAgIH0pXG4gICAgICAubWFwKGRvYyA9PiBkb2MubmFtZSlcbiAgICAgIC5maWx0ZXIobmFtZSA9PiBuYW1lLnRyaW0oKSAhPT0gJycpO1xuXG4gICAgcmV0dXJuIG1pc3NpbmdEb2NzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzZW5kX21haWwgcHJvcGVydHkgdG8gdHJ1ZSB3aGVuIHVzZXIgc2VuZHMgZW1haWwgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgY29uc3QgdXBkYXRlU2VuZE1haWxQcm9wZXJ0eSA9IGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBjb25zdCBvYmplY3RJZCA9IGNvbnRleHQuY3JtPy5vYmplY3RJZDtcbiAgICBcbiAgICBpZiAoIW9iamVjdElkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBodWJzcG90LnNlcnZlcmxlc3MoJ3VwZGF0ZURvY3VtZW50cycsIHtcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIGhzX29iamVjdF9pZDogb2JqZWN0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBkb2N1bWVudHM6IHtcbiAgICAgICAgICAgIHNlbmRfbWFpbDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyPy5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnZW52b2kgZGUgbFxcJ2VtYWlsJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIG9ubHkgdGhlIG1pc3NpbmdfZG9jIHByb3BlcnR5IGluIEh1YlNwb3QuXG4gICAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW4gZG9jdW1lbnQgc3RhdHVzIGNoYW5nZXMuXG4gICAqL1xuICBjb25zdCB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHkgPSBhc3luYyAobWlzc2luZ0RvY3M6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG9iamVjdElkID0gY29udGV4dC5jcm0/Lm9iamVjdElkO1xuICAgIFxuICAgIGlmICghb2JqZWN0SWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gU2tpcCBpZiB3ZSBrbm93IHRoZXJlJ3MgYSBjb25maWd1cmF0aW9uIGlzc3VlXG4gICAgaWYgKGhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygndXBkYXRlQ29tcGxldGlvblN0YXR1cycsIHtcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIG1pc3NpbmdEb2M6IG1pc3NpbmdEb2NzLFxuICAgICAgICAgIGhzX29iamVjdF9pZDogb2JqZWN0SWQudG9TdHJpbmcoKVxuICAgICAgICB9IGFzIGFueVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZT8uc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gcmVzcG9uc2UubWVzc2FnZSB8fCAnJztcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBjb25maWd1cmF0aW9uIGVycm9yIChBUEkga2V5LCBzZWNyZXRzLCBldGMuKVxuICAgICAgICBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoJ0FQSSBrZXknKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnc2VjcmV0JykgfHwgZXJyb3JNc2cuaW5jbHVkZXMoJ3Rva2VuJykpIHtcbiAgICAgICAgICBpZiAoIWhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tEb2N1bWVudExpc3RdIHVwZGF0ZU1pc3NpbmdEb2NQcm9wZXJ0eTogQ29uZmlndXJhdGlvbiBpc3N1ZSBkZXRlY3RlZCAtJywgZXJyb3JNc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHk6IFBsZWFzZSBjaGVjayBIdWJTcG90IGFwcCBzZWNyZXRzIGNvbmZpZ3VyYXRpb24uIFVwZGF0ZXMgd2lsbCBiZSBza2lwcGVkLicpO1xuICAgICAgICAgICAgc2V0SGFzQ29uZmlnRXJyb3IodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTG9nIG90aGVyIGVycm9yc1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHk6IEVSUk9SIC0nLCBlcnJvck1zZyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3VjY2VzcyAtIGNsZWFyIGNvbmZpZyBlcnJvciBmbGFnIGlmIGl0IHdhcyBzZXRcbiAgICAgIGlmIChoYXNDb25maWdFcnJvcikge1xuICAgICAgICBzZXRIYXNDb25maWdFcnJvcihmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnI/Lm1lc3NhZ2UgfHwgU3RyaW5nKGVycik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBjb25maWd1cmF0aW9uIGVycm9yXG4gICAgICBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoJ0FQSSBrZXknKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnc2VjcmV0JykgfHwgZXJyb3JNc2cuaW5jbHVkZXMoJ3Rva2VuJykpIHtcbiAgICAgICAgaWYgKCFoYXNDb25maWdFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW0RvY3VtZW50TGlzdF0gdXBkYXRlTWlzc2luZ0RvY1Byb3BlcnR5OiBDb25maWd1cmF0aW9uIGlzc3VlIGRldGVjdGVkIC0nLCBlcnJvck1zZyk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHk6IFBsZWFzZSBjaGVjayBIdWJTcG90IGFwcCBzZWNyZXRzIGNvbmZpZ3VyYXRpb24uIFVwZGF0ZXMgd2lsbCBiZSBza2lwcGVkLicpO1xuICAgICAgICAgIHNldEhhc0NvbmZpZ0Vycm9yKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcignW0RvY3VtZW50TGlzdF0gdXBkYXRlTWlzc2luZ0RvY1Byb3BlcnR5OiBFWENFUFRJT04gLScsIGVycm9yTXNnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgY29tcGxldGlvbiBzdGF0dXMsIGRvc3NpZXIgc3RhdGUsIGFuZCBtaXNzaW5nIGRvY3VtZW50cyBpbiBIdWJTcG90LlxuICAgKiBDYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGRvY3VtZW50IHN0YXRlcyBjaGFuZ2UuXG4gICAqL1xuICBjb25zdCB1cGRhdGVTdGF0dXNQcm9wZXJ0aWVzID0gYXN5bmMgKGNvbXBsZXRpb25TdGF0dXM6IGJvb2xlYW4sIGRvc3NpZXJTdGF0ZTogc3RyaW5nLCBtaXNzaW5nRG9jczogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgb2JqZWN0SWQgPSBjb250ZXh0LmNybT8ub2JqZWN0SWQ7XG4gICAgXG4gICAgaWYgKCFvYmplY3RJZCkge1xuICAgICAgY29uc29sZS5lcnJvcignW0RvY3VtZW50TGlzdF0gdXBkYXRlU3RhdHVzUHJvcGVydGllczogTm8gb2JqZWN0IElEJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygndXBkYXRlQ29tcGxldGlvblN0YXR1cycsIHtcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIGNvbXBsZXRpb25TdGF0dXM6IGNvbXBsZXRpb25TdGF0dXMsXG4gICAgICAgICAgZG9zc2llclN0YXRlOiBkb3NzaWVyU3RhdGUsXG4gICAgICAgICAgbWlzc2luZ0RvYzogbWlzc2luZ0RvY3MsXG4gICAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2U/LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IHJlc3BvbnNlLm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgY29uZmlndXJhdGlvbiBlcnJvclxuICAgICAgICBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoJ0FQSSBrZXknKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnc2VjcmV0JykgfHwgZXJyb3JNc2cuaW5jbHVkZXMoJ3Rva2VuJykpIHtcbiAgICAgICAgICBpZiAoIWhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tEb2N1bWVudExpc3RdIHVwZGF0ZVN0YXR1c1Byb3BlcnRpZXM6IENvbmZpZ3VyYXRpb24gaXNzdWUgZGV0ZWN0ZWQgLScsIGVycm9yTXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0RvY3VtZW50TGlzdF0gdXBkYXRlU3RhdHVzUHJvcGVydGllczogUGxlYXNlIGNoZWNrIEh1YlNwb3QgYXBwIHNlY3JldHMgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgICAgICAgIHNldEhhc0NvbmZpZ0Vycm9yKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRFcnJvcignQ29uZmlndXJhdGlvbiBlcnJvcjogUGxlYXNlIGNoZWNrIEh1YlNwb3QgYXBwIHNlY3JldHMnKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEb2N1bWVudExpc3RdIHVwZGF0ZVN0YXR1c1Byb3BlcnRpZXM6IEVSUk9SIC0nLCBlcnJvck1zZyk7XG4gICAgICAgIHNldEVycm9yKGVycm9yTXNnIHx8ICdFcnJvciB1cGRhdGluZyBzdGF0dXMgcHJvcGVydGllcycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZT8uc3RhdHVzID09PSAnc3VjY2VzcycgfHwgcmVzcG9uc2U/LnN0YXR1cyA9PT0gJ3BhcnRpYWxfc3VjY2VzcycpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIHVwZGF0ZVN0YXR1c1Byb3BlcnRpZXM6IFNVQ0NFU1MgLScsIHtcbiAgICAgICAgICBjb21wbGV0aW9uU3RhdHVzLFxuICAgICAgICAgIGRvc3NpZXJTdGF0ZSxcbiAgICAgICAgICBtaXNzaW5nRG9jc0NvdW50OiBtaXNzaW5nRG9jcyA/IChtaXNzaW5nRG9jcy5tYXRjaCgvPGxpPi9nKSB8fCBbXSkubGVuZ3RoIDogMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIGNvbmZpZyBlcnJvciBmbGFnIG9uIHN1Y2Nlc3NcbiAgICAgICAgaWYgKGhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgc2V0SGFzQ29uZmlnRXJyb3IoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm8gc3RhdHVzIGZpZWxkLCBhc3N1bWUgc3VjY2VzcyAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVTdGF0dXNQcm9wZXJ0aWVzOiBTVUNDRVNTIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGVycj8ubWVzc2FnZSB8fCBTdHJpbmcoZXJyKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIGNvbmZpZ3VyYXRpb24gZXJyb3JcbiAgICAgIGlmIChlcnJvck1zZy5pbmNsdWRlcygnQVBJIGtleScpIHx8IGVycm9yTXNnLmluY2x1ZGVzKCdzZWNyZXQnKSB8fCBlcnJvck1zZy5pbmNsdWRlcygndG9rZW4nKSkge1xuICAgICAgICBpZiAoIWhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVTdGF0dXNQcm9wZXJ0aWVzOiBDb25maWd1cmF0aW9uIGlzc3VlIGRldGVjdGVkIC0nLCBlcnJvck1zZyk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSB1cGRhdGVTdGF0dXNQcm9wZXJ0aWVzOiBQbGVhc2UgY2hlY2sgSHViU3BvdCBhcHAgc2VjcmV0cyBjb25maWd1cmF0aW9uLicpO1xuICAgICAgICAgIHNldEhhc0NvbmZpZ0Vycm9yKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yKCdDb25maWd1cmF0aW9uIGVycm9yOiBQbGVhc2UgY2hlY2sgSHViU3BvdCBhcHAgc2VjcmV0cycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEb2N1bWVudExpc3RdIHVwZGF0ZVN0YXR1c1Byb3BlcnRpZXM6IEVYQ0VQVElPTiAtJywgZXJyb3JNc2cpO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNc2cgfHwgJ0Vycm9yIHVwZGF0aW5nIHN0YXR1cyBwcm9wZXJ0aWVzJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5jb25zdCBbaW5pdGlhbERvY3VtZW50cywgc2V0SW5pdGlhbERvY3VtZW50c10gPSB1c2VTdGF0ZTxEb2N1bWVudFtdPihbXSk7XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgZG9jdW1lbnQgc3RhdHVzIGZyb20gSHViU3BvdCBhbmQgaW5pdGlhbGl6ZXMgY29tcG9uZW50IHN0YXRlLlxuICAgKiBBbHNvIGhhbmRsZXMgYXV0by11cGRhdGluZyByZXF1aXJlZCBzdGF0dXMgZm9yIGRvY3VtZW50cyB3aXRoIGNvbmRpdGlvbnMuXG4gICAqL1xuY29uc3QgZmV0Y2hEb2N1bWVudFZhbHVlcyA9IGFzeW5jICgpID0+IHtcbiAgc2V0TG9hZGluZyh0cnVlKTtcbiAgc2V0RXJyb3IoJycpO1xuICBjb25zdCBvYmplY3RJZCA9IGNvbnRleHQuY3JtPy5vYmplY3RJZDtcbiAgXG4gIGlmICghb2JqZWN0SWQpIHtcbiAgICBzZXRFcnJvcignT2JqZWN0IElEIG5vdCBmb3VuZCBpbiBjb250ZXh0Jyk7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICAvLyBTa2lwIGlmIHdlIGtub3cgdGhlcmUncyBhIGNvbmZpZ3VyYXRpb24gaXNzdWVcbiAgaWYgKGhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICAgIGNvbnN0IHByb3BlcnR5TmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgLy8gQWx3YXlzIGluY2x1ZGUgc291c19jYXRlZ29yaWUgZm9yIHRhYiBzZWxlY3Rpb25cbiAgICBwcm9wZXJ0eU5hbWVzLnB1c2goJ3NvdXNfY2F0ZWdvcmllJyk7XG4gICAgXG4gICAgLy8gQWRkIGFsbCBjb25kaXRpb25hbCBwcm9wZXJ0aWVzIG5lZWRlZCBmb3IgY29uZGl0aW9uIGV2YWx1YXRpb25cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb25kaXRpb25hbFByb3BlcnRpZXNDb25maWcpKSB7XG4gICAgICBjb25kaXRpb25hbFByb3BlcnRpZXNDb25maWcuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgaWYgKCFwcm9wZXJ0eU5hbWVzLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgICAgcHJvcGVydHlOYW1lcy5wdXNoKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIGFsbCBkb2N1bWVudCByZXF1aXJlZC9wcm92aWRlZCBwcm9wZXJ0aWVzXG4gICAgSU5JVElBTF9ET0NVTUVOVFMuZm9yRWFjaChkb2MgPT4ge1xuICAgICAgaWYgKGRvYy5yZXF1aXJlZFByb3BlcnR5KSB7XG4gICAgICAgIHByb3BlcnR5TmFtZXMucHVzaChkb2MucmVxdWlyZWRQcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgICBpZiAoZG9jLnByb3ZpZGVkUHJvcGVydHkpIHtcbiAgICAgICAgcHJvcGVydHlOYW1lcy5wdXNoKGRvYy5wcm92aWRlZFByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBodWJzcG90LnNlcnZlcmxlc3MoJ2dldERvY3VtZW50VmFsdWVzJywge1xuICAgICAgcHJvcGVydGllc1RvU2VuZDogWydoc19vYmplY3RfaWQnXSxcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgcHJvcGVydHlOYW1lczogcHJvcGVydHlOYW1lcyxcbiAgICAgICAgaW5jbHVkZUNvbXBsZXRpb246IHRydWUsXG4gICAgICAgIGhzX29iamVjdF9pZDogb2JqZWN0SWQudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGNvbnRhaW5zIGFuIGVycm9yIChlLmcuLCBtaXNzaW5nIHRva2VuKVxuICAgIGlmIChyZXNwb25zZT8uZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gcmVzcG9uc2UuZXJyb3IgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSB0b2tlbi9zZWNyZXQgZXJyb3JcbiAgICAgIGlmIChlcnJvck1zZy5pbmNsdWRlcygndG9rZW4nKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnQVBJIGtleScpIHx8IGVycm9yTXNnLmluY2x1ZGVzKCdzZWNyZXQnKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnYWNjZXNzIHRva2VuJykpIHtcbiAgICAgICAgLy8gT25seSBzaG93IHdhcm5pbmcgb25jZSwgYW5kIG9ubHkgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5IGxvZ2dlZCBpdFxuICAgICAgICBpZiAoIWhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gYSBkZXZlbG9wbWVudCBjb250ZXh0IChubyBvYmplY3QgSUQgaW4gY29udGV4dClcbiAgICAgICAgICBjb25zdCBpc0RldkNvbnRleHQgPSAhY29udGV4dC5jcm0/Lm9iamVjdElkO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpc0RldkNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIER1cmluZyBkZXZlbG9wbWVudC9jb21waWxhdGlvbiwgdGhpcyBpcyBleHBlY3RlZFxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBTZWNyZXRzIG5vdCBhdmFpbGFibGUgZHVyaW5nIGRldmVsb3BtZW50LicpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBUaGlzIGlzIGV4cGVjdGVkLiBUaGUgYXBwIHdpbGwgd29yayB3aGVuIGRlcGxveWVkIHdpdGggc2VjcmV0cyBjb25maWd1cmVkLicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIGlzIGEgcmVhbCBjb25maWd1cmF0aW9uIGlzc3VlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBDb25maWd1cmF0aW9uIGlzc3VlIGRldGVjdGVkIC0nLCBlcnJvck1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBQbGVhc2UgY29uZmlndXJlIEh1YlNwb3QgYXBwIHNlY3JldHMgKGh1YnNwb3RfYXBpX2tleSBvciBzYW5kYm94X2h1YnNwb3RfYXBpX2tleSknKTtcbiAgICAgICAgICAgIHNldEVycm9yKCdDb25maWd1cmF0aW9uIGVycm9yOiBQbGVhc2UgY2hlY2sgSHViU3BvdCBhcHAgc2VjcmV0cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRIYXNDb25maWdFcnJvcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPdGhlciBlcnJvcnMgLSBjbGVhciBjb25maWcgZXJyb3IgZmxhZyBpZiBpdCdzIG5vdCBhIGNvbmZpZyBpc3N1ZVxuICAgICAgaWYgKGhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgIHNldEhhc0NvbmZpZ0Vycm9yKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHNldEVycm9yKGVycm9yTXNnIHx8ICdFcnJvciBmZXRjaGluZyBkb2N1bWVudCB2YWx1ZXMnKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdWNjZXNzIC0gY2xlYXIgY29uZmlnIGVycm9yIGZsYWdcbiAgICBpZiAoaGFzQ29uZmlnRXJyb3IpIHtcbiAgICAgIHNldEhhc0NvbmZpZ0Vycm9yKGZhbHNlKTtcbiAgICAgIHNldEVycm9yKCcnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvcGVydGllcyA9IHJlc3BvbnNlIHx8IHt9O1xuICAgIFxuICAgIGNvbnN0IGdldFByb3BWYWx1ZSA9IChvYmo6IGFueSwgbmVlZGxlOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgY29uc3QgbG93ZXIgPSBuZWVkbGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGhpdEtleSA9IE9iamVjdC5rZXlzKG9iaikuZmluZChrID0+IGsudG9Mb3dlckNhc2UoKSA9PT0gbG93ZXIgfHwgay50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyKSk7XG4gICAgICByZXR1cm4gaGl0S2V5ID8gb2JqW2hpdEtleV0gOiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbXBsZXRpb25TdGF0dXMgPSB0b0Jvb2wocHJvcGVydGllc1tDT01QTEVUSU9OX1BST1BFUlRZXSk7XG4gICAgc2V0SXNDb21wbGV0ZWQoY29tcGxldGlvblN0YXR1cyk7XG4gICAgc2V0SW5pdGlhbENvbXBsZXRpb25TdGF0dXMoY29tcGxldGlvblN0YXR1cyk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudERvc3NpZXJTdGF0ZSA9IHByb3BlcnRpZXNbRE9TU0lFUl9TVEFURV9QUk9QRVJUWV0gfHwgRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQ7XG4gICAgc2V0RG9zc2llclN0YXRlKGN1cnJlbnREb3NzaWVyU3RhdGUpO1xuICAgIHNldEluaXRpYWxEb3NzaWVyU3RhdGUoY3VycmVudERvc3NpZXJTdGF0ZSk7XG5cbiAgICAvLyBUcnkgbXVsdGlwbGUgd2F5cyB0byBnZXQgc291c19jYXRlZ29yaWVcbiAgICBsZXQgbmQgPSBwcm9wZXJ0aWVzWydzb3VzX2NhdGVnb3JpZSddO1xuICAgIFxuICAgIGlmICghbmQgfHwgbmQgPT09ICcnIHx8IG5kID09PSBudWxsIHx8IG5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5kID0gZ2V0UHJvcFZhbHVlKHByb3BlcnRpZXMsICdzb3VzX2NhdGVnb3JpZScpO1xuICAgIH1cbiAgICBpZiAoIW5kIHx8IG5kID09PSAnJyB8fCBuZCA9PT0gbnVsbCB8fCBuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBUcnkgd2l0aCBkaWZmZXJlbnQgY2FzZSB2YXJpYXRpb25zXG4gICAgICBjb25zdCBzb3VzS2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmZpbHRlcihrID0+IFxuICAgICAgICBrLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3NvdXMnKSAmJiBrLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NhdGVnb3JpZScpXG4gICAgICApO1xuICAgICAgaWYgKHNvdXNLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbmQgPSBwcm9wZXJ0aWVzW3NvdXNLZXlzWzBdXTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgbmQgPSAobmQgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIFxuICAgIHNldE5hdHVyZURlbWFuZGUobmQpO1xuICAgIFxuICAgIC8vIEVuc3VyZSBzb3VzX2NhdGVnb3JpZSBpcyBpbiByZWNvcmRQcm9wZXJ0aWVzIGZvciBjb25kaXRpb24gY2hlY2tpbmdcbiAgICBpZiAobmQpIHtcbiAgICAgIHByb3BlcnRpZXNbJ3NvdXNfY2F0ZWdvcmllJ10gPSBuZDtcbiAgICB9XG4gICAgXG4gICAgLy8gQXV0by1zZWxlY3QgdGhlIHRhYiBiYXNlZCBvbiBzb3VzX2NhdGVnb3JpZVxuICAgIGlmIChuZCkge1xuICAgICAgY29uc3QgdGFiSWQgPSBnZXRUYWJGb3JOYXR1cmVEZW1hbmRlKG5kKTtcbiAgICAgIGlmICh0YWJJZCkge1xuICAgICAgICBzZXRTZWxlY3RlZFRhYih0YWJJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlZnVnaWVWYWwgPSBnZXRQcm9wVmFsdWUocHJvcGVydGllcywgJ2F2ZXpfdm91c191bl9zdGF0dXRfcmVmdWdpZV9vdV9hcGF0cmlkZScpO1xuICAgIGNvbnN0IHJlZnVnaWVTdHIgPSByZWZ1Z2llVmFsID09PSB1bmRlZmluZWQgfHwgcmVmdWdpZVZhbCA9PT0gbnVsbCA/ICcnIDogU3RyaW5nKHJlZnVnaWVWYWwpO1xuICAgIHNldFJlZnVnaWVSYXcocmVmdWdpZVN0cik7XG4gICAgc2V0SXNSZWZ1Z2llQXBhdHJpZGUodG9Cb29sKHJlZnVnaWVTdHIpKTtcbiAgICBcbiAgICBzZXRSZWNvcmRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgIFxuICAgIGNvbnN0IHByb3BlcnRpZXNTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoa2V5LmluY2x1ZGVzKCdfcmVxdWlyZWQnKSB8fCBrZXkuaW5jbHVkZXMoJ19wcm92aWRlZCcpKSB7XG4gICAgICAgIHByb3BlcnRpZXNTZXQuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0RXhpc3RpbmdQcm9wZXJ0aWVzKHByb3BlcnRpZXNTZXQpO1xuICAgIFxuICAgICAgbGV0IHVwZGF0ZWREb2N1bWVudHMgPSBJTklUSUFMX0RPQ1VNRU5UUy5tYXAoZG9jID0+IHtcbiAgICAgIGNvbnN0IHJlcXVpcmVkUHJvcCA9IGRvYy5yZXF1aXJlZFByb3BlcnR5O1xuICAgICAgY29uc3QgcHJvdmlkZWRQcm9wID0gZG9jLnByb3ZpZGVkUHJvcGVydHk7XG4gICAgICBjb25zdCByZXF1aXJlZFJhdyA9IHByb3BlcnRpZXNbcmVxdWlyZWRQcm9wXTtcbiAgICAgIGNvbnN0IHByb3ZpZGVkUmF3ID0gcHJvcGVydGllc1twcm92aWRlZFByb3BdO1xuICAgICAgICAvLyB0b0Jvb2wgY29udmVydHMgdW5kZWZpbmVkL251bGwvJycgdG8gZmFsc2UsICd0cnVlJy8nZmFsc2UnIHN0cmluZ3MgdG8gYm9vbGVhblxuICAgICAgICBjb25zdCByZXF1aXJlZEZyb21IdWJTcG90ID0gdG9Cb29sKHJlcXVpcmVkUmF3KTtcbiAgICAgIGNvbnN0IHByb3ZpZGVkID0gdG9Cb29sKHByb3ZpZGVkUmF3KTtcbiAgICAgIFxuICAgICAgLy8gRGVidWcgbG9nZ2luZyBmb3IgZG9jdW1lbnRzIHRoYXQgc2hvdWxkIGJlIHJlcXVpcmVkXG4gICAgICBpZiAoZG9jLmlkID09PSAndGltYnJlX2Zpc2NhbF9kZV81NScpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtmZXRjaERvY3VtZW50VmFsdWVzXSBEb2N1bWVudCBcIiR7ZG9jLm5hbWV9XCI6YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZmV0Y2hEb2N1bWVudFZhbHVlc10gICByZXF1aXJlZFJhdyBmcm9tIEh1YlNwb3Q6IFwiJHtyZXF1aXJlZFJhd31cIiAodHlwZTogJHt0eXBlb2YgcmVxdWlyZWRSYXd9KWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW2ZldGNoRG9jdW1lbnRWYWx1ZXNdICAgcmVxdWlyZWRGcm9tSHViU3BvdDogJHtyZXF1aXJlZEZyb21IdWJTcG90fWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW2ZldGNoRG9jdW1lbnRWYWx1ZXNdICAgcHJvdmlkZWRSYXcgZnJvbSBIdWJTcG90OiBcIiR7cHJvdmlkZWRSYXd9XCIgKHR5cGU6ICR7dHlwZW9mIHByb3ZpZGVkUmF3fSlgKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtmZXRjaERvY3VtZW50VmFsdWVzXSAgIHByb3ZpZGVkOiAke3Byb3ZpZGVkfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW2ZldGNoRG9jdW1lbnRWYWx1ZXNdICAgUHJvcGVydHkgZXhpc3RzIGluIHByb3BlcnRpZXM6ICR7cmVxdWlyZWRQcm9wIGluIHByb3BlcnRpZXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIExvZyBzcGVjaWZpYyBkb2N1bWVudCBmb3IgZGVidWdnaW5nXG4gICAgICBpZiAoZG9jLmlkLmluY2x1ZGVzKCdkb2N1bWVudF9qdXN0aWZpYW50X2RlX2xhX2RhdGVfZXRfZHVfbGlldV9kZV9uYWlzc2FuY2UnKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW0RvY3VtZW50TGlzdF0gZmV0Y2hEb2N1bWVudFZhbHVlczogRG9jdW1lbnQgXCIke2RvYy5uYW1lfVwiYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiByZXF1aXJlZFJhdz1cIiR7cmVxdWlyZWRSYXd9XCIgKHR5cGU6ICR7dHlwZW9mIHJlcXVpcmVkUmF3fSkgLT4gcmVxdWlyZWRGcm9tSHViU3BvdD0ke3JlcXVpcmVkRnJvbUh1YlNwb3R9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBwcm92aWRlZFJhdz1cIiR7cHJvdmlkZWRSYXd9XCIgKHR5cGU6ICR7dHlwZW9mIHByb3ZpZGVkUmF3fSkgLT4gcHJvdmlkZWQ9JHtwcm92aWRlZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtEb2N1bWVudExpc3RdIGZldGNoRG9jdW1lbnRWYWx1ZXM6IFByb3BlcnR5IG5hbWVzIC0gcmVxdWlyZWQ6IFwiJHtyZXF1aXJlZFByb3B9XCIsIHByb3ZpZGVkOiBcIiR7cHJvdmlkZWRQcm9wfVwiYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBQcm9wZXJ0aWVzIGV4aXN0PyByZXF1aXJlZDogJHtyZXF1aXJlZFByb3AgaW4gcHJvcGVydGllc30sIHByb3ZpZGVkOiAke3Byb3ZpZGVkUHJvcCBpbiBwcm9wZXJ0aWVzfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCBwcm9wZXJ0aWVzKTtcbiAgICAgIGNvbnN0IGhhc0NvbmRpdGlvbnMgPSBnZXRBbGxDb25kaXRpb25zKGRvYykubGVuZ3RoID4gMDtcblxuICAgICAgbGV0IHJlcXVpcmVkOiBib29sZWFuO1xuICAgICAgaWYgKGhhc0NvbmRpdGlvbnMpIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnNNZXQpIHtcbiAgICAgICAgICByZXF1aXJlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgY29uZGl0aW9ucyBhcmUgbm90IG1ldDpcbiAgICAgICAgICAvLyAtIElmIGRvY3VtZW50IGlzIHByb3ZpZGVkLCBrZWVwIHRoZSByZXF1aXJlZCBzdGF0dXMgKHVzZXIgY2FuIG1hbmFnZSBpbiBcImF1dHJlXCIgdGFiKVxuICAgICAgICAgIC8vIC0gSWYgZG9jdW1lbnQgaXMgTk9UIHByb3ZpZGVkLCByZXNldCByZXF1aXJlZCB0byBmYWxzZVxuICAgICAgICAgIGlmIChwcm92aWRlZCkge1xuICAgICAgICAgICAgcmVxdWlyZWQgPSByZXF1aXJlZEZyb21IdWJTcG90OyAvLyBLZWVwIHVzZXIncyBjaG9pY2UgaWYgcHJvdmlkZWRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWlyZWQgPSBmYWxzZTsgLy8gUmVzZXQgdG8gZmFsc2UgaWYgbm90IHByb3ZpZGVkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1aXJlZCA9IHJlcXVpcmVkRnJvbUh1YlNwb3Q7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRvYyxcbiAgICAgICAgcmVxdWlyZWQsXG4gICAgICAgIHByb3ZpZGVkLFxuICAgICAgICBfcmVxdWlyZWRGcm9tSHViU3BvdDogcmVxdWlyZWRGcm9tSHViU3BvdCxcbiAgICAgICAgX3Nob3VsZEJlUmVxdWlyZWQ6IGhhc0NvbmRpdGlvbnNcbiAgICAgICAgICA/IChjb25kaXRpb25zTWV0ID8gdHJ1ZSA6IHJlcXVpcmVkRnJvbUh1YlNwb3QpXG4gICAgICAgICAgOiByZXF1aXJlZEZyb21IdWJTcG90XG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIHNldERvY3VtZW50cyh1cGRhdGVkRG9jdW1lbnRzKTtcbiAgICBzZXRJbml0aWFsRG9jdW1lbnRzKFsuLi51cGRhdGVkRG9jdW1lbnRzXSk7XG4gICAgXG4gICAgY29uc3QgY2FsY3VsYXRlZENvbXBsZXRpb24gPSBjaGVja0NvbXBsZXRpb24odXBkYXRlZERvY3VtZW50cyk7XG4gICAgY29uc3QgY2FsY3VsYXRlZERvc3NpZXJTdGF0ZSA9IGNhbGN1bGF0ZURvc3NpZXJTdGF0ZSh1cGRhdGVkRG9jdW1lbnRzKTtcbiAgICBcbiAgICBpZiAoY2FsY3VsYXRlZENvbXBsZXRpb24gIT09IGNvbXBsZXRpb25TdGF0dXMgfHwgXG4gICAgICAgIGNhbGN1bGF0ZWREb3NzaWVyU3RhdGUgIT09IGN1cnJlbnREb3NzaWVyU3RhdGUpIHtcbiAgICAgIHNldElzQ29tcGxldGVkKGNhbGN1bGF0ZWRDb21wbGV0aW9uKTtcbiAgICAgIHNldERvc3NpZXJTdGF0ZShjYWxjdWxhdGVkRG9zc2llclN0YXRlKTtcbiAgICAgIHNldEluaXRpYWxDb21wbGV0aW9uU3RhdHVzKGNhbGN1bGF0ZWRDb21wbGV0aW9uKTtcbiAgICAgIHNldEluaXRpYWxEb3NzaWVyU3RhdGUoY2FsY3VsYXRlZERvc3NpZXJTdGF0ZSk7XG4gICAgfVxuICAgIFxuICAgICAgLy8gUkVNT1ZFRCBBVVRPLVNBVkUgTE9HSUMgLSBJdCB3YXMgY2F1c2luZyBpbmZpbml0ZSBsb29wc1xuICAgICAgLy8gVXNlcnMgd2lsbCBuZWVkIHRvIG1hbnVhbGx5IHNhdmUgY2hhbmdlcyB1c2luZyB0aGUgXCJFbnJlZ2lzdHJlciBsZXMgbW9kaWZpY2F0aW9uc1wiIGJ1dHRvblxuICAgIFxuICAgICAgY29uc3QgbWlzc2luZ0RvY3MgPSBjYWxjdWxhdGVNaXNzaW5nRG9jdW1lbnRzKHVwZGF0ZWREb2N1bWVudHMsIHByb3BlcnRpZXMpO1xuICAgICAgdXBkYXRlTWlzc2luZ0RvY1Byb3BlcnR5KG1pc3NpbmdEb2NzKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgXG4gICAgc2V0SXNDaGFuZ2VkKGZhbHNlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgc2V0RXJyb3IoZXJyPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIGZldGNoaW5nIGRvY3VtZW50IHZhbHVlcycpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG59O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoZWNrYm94IHRvZ2dsZXMgZm9yIHJlcXVpcmVkL3Byb3ZpZGVkIHN0YXR1cy5cbiAgICogRm9yIGRvY3VtZW50cyB3aXRoIGNvbmRpdGlvbnMsIHJlcXVpcmVkIHN0YXR1cyBpcyBjb250cm9sbGVkIGJ5IGNvbmRpdGlvbnNcbiAgICogdW5sZXNzIGluIHRoZSBcImF1dHJlXCIgdGFiIHdoZXJlIG1hbnVhbCBjb250cm9sIGlzIGFsbG93ZWQuXG4gICAqL1xuY29uc3QgaGFuZGxlQ2hlY2tib3hUb2dnbGUgPSAoZG9jdW1lbnRJZDogc3RyaW5nLCBmaWVsZDogJ3JlcXVpcmVkJyB8ICdwcm92aWRlZCcpID0+IHtcbiAgcmV0dXJuIChjaGVja2VkOiBib29sZWFuLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0RG9jdW1lbnRzKHByZXZEb2NzID0+IHtcbiAgICAgIGNvbnN0IG5ld0RvY3MgPSBwcmV2RG9jcy5tYXAoZG9jID0+IHtcbiAgICAgICAgaWYgKGRvYy5pZCA9PT0gZG9jdW1lbnRJZCkge1xuICAgICAgICAgIGlmIChmaWVsZCA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcmVjb3JkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBjb25zdCBoYXNDb25kaXRpb25zID0gZ2V0QWxsQ29uZGl0aW9ucyhkb2MpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zdCBpc0F1dHJlVGFiID0gc2VsZWN0ZWRUYWIgPT09ICdhdXRyZSc7XG5cbiAgICAgICAgICAgIGlmIChoYXNDb25kaXRpb25zICYmICFpc0F1dHJlVGFiKSB7XG4gICAgICAgICAgICAgIGlmIChjb25kaXRpb25zTWV0ICYmICFjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWNvbmRpdGlvbnNNZXQgJiYgY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jLCByZXF1aXJlZDogY29uZGl0aW9uc01ldCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jLCBbZmllbGRdOiBjaGVja2VkIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IC4uLmRvYywgW2ZpZWxkXTogY2hlY2tlZCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgICB9KTtcbiAgICBcbiAgICBjb25zdCBuZXdDb21wbGV0aW9uU3RhdHVzID0gY2hlY2tDb21wbGV0aW9uKG5ld0RvY3MpO1xuICAgIGNvbnN0IG5ld0Rvc3NpZXJTdGF0ZSA9IGNhbGN1bGF0ZURvc3NpZXJTdGF0ZShuZXdEb2NzKTtcbiAgICAgIHNldElzQ29tcGxldGVkKG5ld0NvbXBsZXRpb25TdGF0dXMpO1xuICAgICAgc2V0RG9zc2llclN0YXRlKG5ld0Rvc3NpZXJTdGF0ZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gY2FsY3VsYXRlTWlzc2luZ0RvY3VtZW50cyhuZXdEb2NzKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBhdXRvLXVwZGF0ZSBtaXNzaW5nX2RvYyBwcm9wZXJ0eSAoY2FsY3VsYXRlZCBmaWVsZClcbiAgICAgIC8vIERvIE5PVCBhdXRvLXVwZGF0ZSBkb2N1bWVudHNfY29tcGxldGVkIG9yIGV0YXRfZHVfZG9zc2llciB1bnRpbCB1c2VyIHNhdmVzXG4gICAgICB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHkobWlzc2luZ0RvY3MpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tcGxldGlvbkNoYW5nZWQgPSBuZXdDb21wbGV0aW9uU3RhdHVzICE9PSBpbml0aWFsQ29tcGxldGlvblN0YXR1cztcbiAgICAgIGNvbnN0IGRvc3NpZXJTdGF0ZUNoYW5nZWQgPSBuZXdEb3NzaWVyU3RhdGUgIT09IGluaXRpYWxEb3NzaWVyU3RhdGU7XG4gICAgICBjb25zdCBkb2N1bWVudHNDaGFuZ2VkID0gbmV3RG9jcy5zb21lKChjdXJyZW50RG9jLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0aWFsRG9jID0gaW5pdGlhbERvY3VtZW50c1tpbmRleF07XG4gICAgICAgIGlmICghaW5pdGlhbERvYykgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBjdXJyZW50RG9jLnJlcXVpcmVkICE9PSBpbml0aWFsRG9jLnJlcXVpcmVkIHx8IFxuICAgICAgICAgICAgICAgY3VycmVudERvYy5wcm92aWRlZCAhPT0gaW5pdGlhbERvYy5wcm92aWRlZDtcbiAgICAgIH0pO1xuICAgICAgc2V0SXNDaGFuZ2VkKGNvbXBsZXRpb25DaGFuZ2VkIHx8IGRvc3NpZXJTdGF0ZUNoYW5nZWQgfHwgZG9jdW1lbnRzQ2hhbmdlZCk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdEb2NzO1xuICAgIH0pO1xuICB9O1xufTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFueSBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIGNvbXBhcmVkIHRvIGluaXRpYWwgc3RhdGUuXG4gICAqIFVzZWQgdG8gc2hvdy9oaWRlIHNhdmUvY2FuY2VsIGJ1dHRvbnMuXG4gICAqL1xuY29uc3QgY2hlY2tGb3JDaGFuZ2VzID0gKCkgPT4ge1xuICBjb25zdCBjb21wbGV0aW9uQ2hhbmdlZCA9IGlzQ29tcGxldGVkICE9PSBpbml0aWFsQ29tcGxldGlvblN0YXR1cztcbiAgY29uc3QgZG9zc2llclN0YXRlQ2hhbmdlZCA9IGRvc3NpZXJTdGF0ZSAhPT0gaW5pdGlhbERvc3NpZXJTdGF0ZTtcbiAgY29uc3QgZG9jdW1lbnRzQ2hhbmdlZCA9IGRvY3VtZW50cy5zb21lKChjdXJyZW50RG9jLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxEb2MgPSBpbml0aWFsRG9jdW1lbnRzW2luZGV4XTtcbiAgICAgIGlmICghaW5pdGlhbERvYykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MucmVxdWlyZWQgIT09IGluaXRpYWxEb2MucmVxdWlyZWQgfHwgXG4gICAgICAgICAgIGN1cnJlbnREb2MucHJvdmlkZWQgIT09IGluaXRpYWxEb2MucHJvdmlkZWQ7XG4gIH0pO1xuICBzZXRJc0NoYW5nZWQoY29tcGxldGlvbkNoYW5nZWQgfHwgZG9zc2llclN0YXRlQ2hhbmdlZCB8fCBkb2N1bWVudHNDaGFuZ2VkKTtcbn07XG5cbiAgLyoqXG4gICAqIFNhdmVzIGRvY3VtZW50IGNoYW5nZXMgdG8gSHViU3BvdC5cbiAgICogQHBhcmFtIGRvY3NUb1NhdmUgLSBPcHRpb25hbCBkb2N1bWVudHMgdG8gc2F2ZSwgZGVmYXVsdHMgdG8gY3VycmVudCBzdGF0ZVxuICAgKiBAcGFyYW0gc2tpcFJlZmV0Y2ggLSBJZiB0cnVlLCBza2lwcyByZWZldGNoIGFmdGVyIHNhdmUgKHVzZWQgZm9yIGF1dG8tc2F2ZXMpXG4gICAqL1xuICBjb25zdCBzYXZlRG9jdW1lbnRDaGFuZ2VzID0gYXN5bmMgKGRvY3NUb1NhdmU/OiBEb2N1bWVudFtdLCBza2lwUmVmZXRjaDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gIHNldFNhdmluZyh0cnVlKTtcbiAgc2V0RXJyb3IoJycpO1xuICBcbiAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY3MgPSBkb2NzVG9TYXZlIHx8IGRvY3VtZW50cztcbiAgICBjb25zdCBkb2N1bWVudFByb3BlcnRpZXMgPSB7fTtcbiAgICBcbiAgICAvLyBHZXQgY3VycmVudGx5IHZpc2libGUgZG9jdW1lbnRzIHRvIHByaW9yaXRpemUgdGhlaXIgdmFsdWVzIHdoZW4gdGhlcmUgYXJlIGR1cGxpY2F0ZXNcbiAgICAvLyBPbmx5IGlmIHdlIGhhdmUgdGhlIG5lY2Vzc2FyeSBzdGF0ZSAocmVjb3JkUHJvcGVydGllcywgc2VsZWN0ZWRUYWIsIGV0Yy4pXG4gICAgbGV0IHZpc2libGVEb2NJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdmlzaWJsZURvY3MgPSBnZXRWaXNpYmxlRG9jdW1lbnRzKCk7XG4gICAgICB2aXNpYmxlRG9jSWRzID0gbmV3IFNldCh2aXNpYmxlRG9jcy5tYXAoZCA9PiBkLmlkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBJZiBnZXRWaXNpYmxlRG9jdW1lbnRzIGZhaWxzIChlLmcuLCBkdXJpbmcgaW5pdGlhbCBsb2FkKSwganVzdCB1c2UgYWxsIGRvY3NcbiAgICAgIGNvbnNvbGUud2FybignW3NhdmVEb2N1bWVudENoYW5nZXNdIENvdWxkIG5vdCBnZXQgdmlzaWJsZSBkb2N1bWVudHMsIHVzaW5nIGFsbCBkb2N1bWVudHM6JywgZXJyKTtcbiAgICAgIHZpc2libGVEb2NJZHMgPSBuZXcgU2V0KGRvY3MubWFwKGQgPT4gZC5pZCkpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcmFjayB3aGljaCBwcm9wZXJ0aWVzIHdlJ3ZlIHNlZW4gdG8gZGV0ZWN0IGR1cGxpY2F0ZXNcbiAgICAvLyBXaGVuIGR1cGxpY2F0ZXMgZXhpc3QsIHByZWZlciB0aGUgdmFsdWUgZnJvbSBhIHZpc2libGUgZG9jdW1lbnRcbiAgICBjb25zdCBzZWVuUHJvcGVydGllcyA9IG5ldyBNYXA8c3RyaW5nLCB7IGRvY0lkOiBzdHJpbmc7IGRvY05hbWU6IHN0cmluZzsgdmFsdWU6IGFueTsgaXNWaXNpYmxlOiBib29sZWFuIH0+KCk7XG4gICAgXG4gICAgICBkb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgY29uc3QgcmVxdWlyZWRQcm9wID0gZG9jLnJlcXVpcmVkUHJvcGVydHk7XG4gICAgICBjb25zdCBwcm92aWRlZFByb3AgPSBkb2MucHJvdmlkZWRQcm9wZXJ0eTtcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZCA9IGRvYy5yZXF1aXJlZDtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHZpc2libGVEb2NJZHMuaGFzKGRvYy5pZCk7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBkdXBsaWNhdGUgcHJvcGVydGllcyAtIHByZWZlciB2aXNpYmxlIGRvY3VtZW50c1xuICAgICAgaWYgKHNlZW5Qcm9wZXJ0aWVzLmhhcyhyZXF1aXJlZFByb3ApKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gc2VlblByb3BlcnRpZXMuZ2V0KHJlcXVpcmVkUHJvcCkhO1xuICAgICAgICAvLyBJZiBjdXJyZW50IGRvYyBpcyB2aXNpYmxlIGFuZCBwcmV2aW91cyB3YXNuJ3QsIHVzZSBjdXJyZW50XG4gICAgICAgIC8vIElmIGJvdGggYXJlIHZpc2libGUgb3IgYm90aCBhcmVuJ3QsIHVzZSB0aGUgbGFzdCBvbmVcbiAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiAhcHJldmlvdXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBEdXBsaWNhdGUgcmVxdWlyZWQgcHJvcGVydHkgXCIke3JlcXVpcmVkUHJvcH1cIiAtIHVzaW5nIFZJU0lCTEUgZG9jdW1lbnRgKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFByZXZpb3VzIChub3QgdmlzaWJsZSk6IGRvYz1cIiR7cHJldmlvdXMuZG9jTmFtZX1cIiAoJHtwcmV2aW91cy5kb2NJZH0pID0gJHtwcmV2aW91cy52YWx1ZX1gKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IE5ldyAodmlzaWJsZSk6IGRvYz1cIiR7ZG9jLm5hbWV9XCIgKCR7ZG9jLmlkfSkgPSAke2lzUmVxdWlyZWR9YCk7XG4gICAgICAgICAgc2VlblByb3BlcnRpZXMuc2V0KHJlcXVpcmVkUHJvcCwgeyBkb2NJZDogZG9jLmlkLCBkb2NOYW1lOiBkb2MubmFtZSwgdmFsdWU6IGlzUmVxdWlyZWQsIGlzVmlzaWJsZSB9KTtcbiAgICAgICAgICBkb2N1bWVudFByb3BlcnRpZXNbcmVxdWlyZWRQcm9wXSA9IGlzUmVxdWlyZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzVmlzaWJsZSAmJiBwcmV2aW91cy5pc1Zpc2libGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IER1cGxpY2F0ZSByZXF1aXJlZCBwcm9wZXJ0eSBcIiR7cmVxdWlyZWRQcm9wfVwiIC0ga2VlcGluZyBWSVNJQkxFIGRvY3VtZW50IHZhbHVlYCk7XG4gICAgICAgICAgLy8gS2VlcCBwcmV2aW91cyB2YWx1ZSwgZG9uJ3QgdXBkYXRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQm90aCBzYW1lIHZpc2liaWxpdHksIHVzZSBsYXN0IG9uZVxuICAgICAgICAgIGNvbnNvbGUud2FybihgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogRHVwbGljYXRlIHJlcXVpcmVkIHByb3BlcnR5IFwiJHtyZXF1aXJlZFByb3B9XCIgLSB1c2luZyBsYXN0IHZhbHVlYCk7XG4gICAgICAgICAgc2VlblByb3BlcnRpZXMuc2V0KHJlcXVpcmVkUHJvcCwgeyBkb2NJZDogZG9jLmlkLCBkb2NOYW1lOiBkb2MubmFtZSwgdmFsdWU6IGlzUmVxdWlyZWQsIGlzVmlzaWJsZSB9KTtcbiAgICAgICAgICBkb2N1bWVudFByb3BlcnRpZXNbcmVxdWlyZWRQcm9wXSA9IGlzUmVxdWlyZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlZW5Qcm9wZXJ0aWVzLnNldChyZXF1aXJlZFByb3AsIHsgZG9jSWQ6IGRvYy5pZCwgZG9jTmFtZTogZG9jLm5hbWUsIHZhbHVlOiBpc1JlcXVpcmVkLCBpc1Zpc2libGUgfSk7XG4gICAgICAgIGRvY3VtZW50UHJvcGVydGllc1tyZXF1aXJlZFByb3BdID0gaXNSZXF1aXJlZDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNlZW5Qcm9wZXJ0aWVzLmhhcyhwcm92aWRlZFByb3ApKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gc2VlblByb3BlcnRpZXMuZ2V0KHByb3ZpZGVkUHJvcCkhO1xuICAgICAgICAvLyBJZiBjdXJyZW50IGRvYyBpcyB2aXNpYmxlIGFuZCBwcmV2aW91cyB3YXNuJ3QsIHVzZSBjdXJyZW50XG4gICAgICAgIC8vIElmIGJvdGggYXJlIHZpc2libGUgb3IgYm90aCBhcmVuJ3QsIHVzZSB0aGUgbGFzdCBvbmVcbiAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiAhcHJldmlvdXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBEdXBsaWNhdGUgcHJvdmlkZWQgcHJvcGVydHkgXCIke3Byb3ZpZGVkUHJvcH1cIiAtIHVzaW5nIFZJU0lCTEUgZG9jdW1lbnRgKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFByZXZpb3VzIChub3QgdmlzaWJsZSk6IGRvYz1cIiR7cHJldmlvdXMuZG9jTmFtZX1cIiAoJHtwcmV2aW91cy5kb2NJZH0pID0gJHtwcmV2aW91cy52YWx1ZX1gKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IE5ldyAodmlzaWJsZSk6IGRvYz1cIiR7ZG9jLm5hbWV9XCIgKCR7ZG9jLmlkfSkgPSAke2RvYy5wcm92aWRlZH1gKTtcbiAgICAgICAgICBzZWVuUHJvcGVydGllcy5zZXQocHJvdmlkZWRQcm9wLCB7IGRvY0lkOiBkb2MuaWQsIGRvY05hbWU6IGRvYy5uYW1lLCB2YWx1ZTogZG9jLnByb3ZpZGVkLCBpc1Zpc2libGUgfSk7XG4gICAgICAgICAgZG9jdW1lbnRQcm9wZXJ0aWVzW3Byb3ZpZGVkUHJvcF0gPSBkb2MucHJvdmlkZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzVmlzaWJsZSAmJiBwcmV2aW91cy5pc1Zpc2libGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IER1cGxpY2F0ZSBwcm92aWRlZCBwcm9wZXJ0eSBcIiR7cHJvdmlkZWRQcm9wfVwiIC0ga2VlcGluZyBWSVNJQkxFIGRvY3VtZW50IHZhbHVlYCk7XG4gICAgICAgICAgLy8gS2VlcCBwcmV2aW91cyB2YWx1ZSwgZG9uJ3QgdXBkYXRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQm90aCBzYW1lIHZpc2liaWxpdHksIHVzZSBsYXN0IG9uZVxuICAgICAgICAgIGNvbnNvbGUud2FybihgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogRHVwbGljYXRlIHByb3ZpZGVkIHByb3BlcnR5IFwiJHtwcm92aWRlZFByb3B9XCIgLSB1c2luZyBsYXN0IHZhbHVlYCk7XG4gICAgICAgICAgc2VlblByb3BlcnRpZXMuc2V0KHByb3ZpZGVkUHJvcCwgeyBkb2NJZDogZG9jLmlkLCBkb2NOYW1lOiBkb2MubmFtZSwgdmFsdWU6IGRvYy5wcm92aWRlZCwgaXNWaXNpYmxlIH0pO1xuICAgICAgICAgIGRvY3VtZW50UHJvcGVydGllc1twcm92aWRlZFByb3BdID0gZG9jLnByb3ZpZGVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWVuUHJvcGVydGllcy5zZXQocHJvdmlkZWRQcm9wLCB7IGRvY0lkOiBkb2MuaWQsIGRvY05hbWU6IGRvYy5uYW1lLCB2YWx1ZTogZG9jLnByb3ZpZGVkLCBpc1Zpc2libGUgfSk7XG4gICAgICAgIGRvY3VtZW50UHJvcGVydGllc1twcm92aWRlZFByb3BdID0gZG9jLnByb3ZpZGVkO1xuICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHNwZWNpZmljIGRvY3VtZW50IGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWYgKGRvYy5pZC5pbmNsdWRlcygnZG9jdW1lbnRfanVzdGlmaWFudF9kZV9sYV9kYXRlX2V0X2R1X2xpZXVfZGVfbmFpc3NhbmNlJykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogRG9jdW1lbnQgXCIke2RvYy5uYW1lfVwiIChpZDogJHtkb2MuaWR9KWApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiByZXF1aXJlZD0ke2lzUmVxdWlyZWR9IChwcm9wZXJ0eTogJHtyZXF1aXJlZFByb3B9KSwgdmlzaWJsZT0ke2lzVmlzaWJsZX1gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogcHJvdmlkZWQ9JHtkb2MucHJvdmlkZWR9IChwcm9wZXJ0eTogJHtwcm92aWRlZFByb3B9KSwgdmlzaWJsZT0ke2lzVmlzaWJsZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIExvZyBmaW5hbCB2YWx1ZXMgZm9yIHRoZSBzcGVjaWZpYyBwcm9wZXJ0eVxuICAgICAgY29uc3QgdGFyZ2V0UHJvcCA9ICdkb2N1bWVudF9qdXN0aWZpYW50X2RlX2xhX2RhdGVfZXRfZHVfbGlldV9kZV9uYWlzc2FuY2VfZGVfdm90cmVfcGVyZV9ldF92b3RyZV9tZXJlX2V0X2RlX2xfcHJvdmlkZWQnO1xuICAgICAgaWYgKHRhcmdldFByb3AgaW4gZG9jdW1lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsSW5mbyA9IHNlZW5Qcm9wZXJ0aWVzLmdldCh0YXJnZXRQcm9wKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IEZJTkFMIHZhbHVlIGZvciAke3RhcmdldFByb3B9ID0gJHtkb2N1bWVudFByb3BlcnRpZXNbdGFyZ2V0UHJvcF19ICh0eXBlOiAke3R5cGVvZiBkb2N1bWVudFByb3BlcnRpZXNbdGFyZ2V0UHJvcF19KWApO1xuICAgICAgICBpZiAoZmluYWxJbmZvKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IEZpbmFsIHZhbHVlIGNvbWVzIGZyb20gZG9jIFwiJHtmaW5hbEluZm8uZG9jTmFtZX1cIiAoJHtmaW5hbEluZm8uZG9jSWR9KSwgdmlzaWJsZT0ke2ZpbmFsSW5mby5pc1Zpc2libGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgY29uc3Qgb2JqZWN0SWQgPSBjb250ZXh0LmNybT8ub2JqZWN0SWQ7XG4gICAgXG4gICAgaWYgKCFvYmplY3RJZCkge1xuICAgICAgc2V0RXJyb3IoJ09iamVjdCBJRCBub3QgZm91bmQgaW4gY29udGV4dCcpO1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFNlbmRpbmcgdXBkYXRlIGZvcicsIE9iamVjdC5rZXlzKGRvY3VtZW50UHJvcGVydGllcykubGVuZ3RoLCAncHJvcGVydGllcycpO1xuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBTYW1wbGUgcHJvcGVydGllczonLCBPYmplY3QuZW50cmllcyhkb2N1bWVudFByb3BlcnRpZXMpLnNsaWNlKDAsIDUpLm1hcCgoW2ssIHZdKSA9PiBgJHtrfT0ke3Z9YCkuam9pbignLCAnKSk7XG4gICAgXG4gICAgY29uc3QgZG9jUmVzcG9uc2UgPSBhd2FpdCBodWJzcG90LnNlcnZlcmxlc3MoJ3VwZGF0ZURvY3VtZW50cycsIHtcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgZG9jdW1lbnRzOiBkb2N1bWVudFByb3BlcnRpZXMsXG4gICAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBSZXNwb25zZSBzdGF0dXM6JywgZG9jUmVzcG9uc2U/LnN0YXR1cyk7XG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFJlc3BvbnNlIGRhdGE6JywgZG9jUmVzcG9uc2U/LmRhdGEgPyAnUmVjZWl2ZWQnIDogJ05vIGRhdGEnKTtcbiAgICBcbiAgICAgIGlmIChkb2NSZXNwb25zZT8uc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gZG9jUmVzcG9uc2UubWVzc2FnZSB8fCAnJztcbiAgICAgICAgaWYgKGVycm9yTXNnLmluY2x1ZGVzKCdkb2VzIG5vdCBleGlzdCcpIHx8IGVycm9yTXNnLmluY2x1ZGVzKCdQUk9QRVJUWV9ET0VTTlRfRVhJU1QnKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogU29tZSBwcm9wZXJ0aWVzIGRvIG5vdCBleGlzdCwgY29udGludWluZy4uLicpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yTXNnLmluY2x1ZGVzKCdBUEkga2V5JykgfHwgZXJyb3JNc2cuaW5jbHVkZXMoJ3NlY3JldCcpIHx8IGVycm9yTXNnLmluY2x1ZGVzKCd0b2tlbicpKSB7XG4gICAgICAgICAgaWYgKCFoYXNDb25maWdFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBDb25maWd1cmF0aW9uIGlzc3VlIGRldGVjdGVkIC0nLCBlcnJvck1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFBsZWFzZSBjaGVjayBIdWJTcG90IGFwcCBzZWNyZXRzIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICAgICAgICBzZXRIYXNDb25maWdFcnJvcih0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25maWd1cmF0aW9uIGVycm9yOiBQbGVhc2UgY2hlY2sgSHViU3BvdCBhcHAgc2VjcmV0cycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IEVSUk9SIC0nLCBlcnJvck1zZyk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRvY1Jlc3BvbnNlLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgZG9jdW1lbnRzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRvY1Jlc3BvbnNlPy5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogU1VDQ0VTUyAtIFVwZGF0ZWQnLCBPYmplY3Qua2V5cyhkb2N1bWVudFByb3BlcnRpZXMpLmxlbmd0aCwgJ2RvY3VtZW50IHByb3BlcnRpZXMnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIGNvbmZpZyBlcnJvciBmbGFnIG9uIHN1Y2Nlc3NcbiAgICAgICAgaWYgKGhhc0NvbmZpZ0Vycm9yKSB7XG4gICAgICAgICAgc2V0SGFzQ29uZmlnRXJyb3IoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFVuZXhwZWN0ZWQgcmVzcG9uc2Ugc3RhdHVzOicsIGRvY1Jlc3BvbnNlPy5zdGF0dXMpO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgbWlzc2luZ0RvY3MgPSBjYWxjdWxhdGVNaXNzaW5nRG9jdW1lbnRzKGRvY3MsIHJlY29yZFByb3BlcnRpZXMpO1xuICAgICAgY29uc3Qgc3RhdHVzVXBkYXRlZCA9IGF3YWl0IHVwZGF0ZVN0YXR1c1Byb3BlcnRpZXMoaXNDb21wbGV0ZWQsIGRvc3NpZXJTdGF0ZSwgbWlzc2luZ0RvY3MpO1xuICAgIFxuICAgIGlmIChzdGF0dXNVcGRhdGVkKSB7XG4gICAgICBzZXRJbml0aWFsQ29tcGxldGlvblN0YXR1cyhpc0NvbXBsZXRlZCk7XG4gICAgICBzZXRJbml0aWFsRG9zc2llclN0YXRlKGRvc3NpZXJTdGF0ZSk7XG4gICAgICAgIHNldEluaXRpYWxEb2N1bWVudHMoWy4uLmRvY3NdKTtcbiAgICAgIHNldElzQ2hhbmdlZChmYWxzZSk7XG4gICAgICBcbiAgICAgICAgaWYgKCFza2lwUmVmZXRjaCkge1xuICAgICAgc2V0U2hvd1N1Y2Nlc3ModHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dTdWNjZXNzKGZhbHNlKSwgMzAwMCk7XG4gICAgICAgICAgLy8gV2FpdCBhIGJpdCBsb25nZXIgdG8gZW5zdXJlIEh1YlNwb3QgaGFzIHByb2Nlc3NlZCB0aGUgdXBkYXRlXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBzYXZlRG9jdW1lbnRDaGFuZ2VzOiBSZWZldGNoaW5nIGRvY3VtZW50IHZhbHVlcyB0byB2ZXJpZnkgdXBkYXRlcy4uLicpO1xuICAgICAgXG4gICAgICAvLyBSZW1lbWJlciBpZiB3ZSB3ZXJlIGluIFwiYXV0cmVcIiB0YWIgYmVmb3JlIHJlZmV0Y2hcbiAgICAgIGNvbnN0IHdhc0luQXV0cmVUYWIgPSBzZWxlY3RlZFRhYiA9PT0gJ2F1dHJlJztcbiAgICAgIGNvbnN0IGFjdGl2ZVRhYklkQmVmb3JlUmVmZXRjaCA9IGdldEFjdGl2ZVRhYklkKCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGZldGNoRG9jdW1lbnRWYWx1ZXMoKTtcbiAgICAgIFxuICAgICAgLy8gQWZ0ZXIgcmVmZXRjaCwgY2hlY2sgaWYgZG9jdW1lbnRzIGluIFwiYXV0cmVcIiB0YWIgc2hvdWxkIG1vdmUgdG8gbWFpbiB0YWJcbiAgICAgIC8vIChpZiB0aGV5IG5vdyBtYXRjaCBjb25kaXRpb25zIGFmdGVyIGJlaW5nIG1hcmtlZCBhcyBwcm92aWRlZCBhbmQgcmVxdWlyZWQpXG4gICAgICBpZiAod2FzSW5BdXRyZVRhYiAmJiBhY3RpdmVUYWJJZEJlZm9yZVJlZmV0Y2gpIHtcbiAgICAgICAgLy8gV2FpdCBhIGJpdCBmb3Igc3RhdGUgdG8gdXBkYXRlIGFmdGVyIGZldGNoRG9jdW1lbnRWYWx1ZXNcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudERvY3MgPSBkb2N1bWVudHM7XG4gICAgICAgICAgY29uc3QgY3VycmVudFByb3BzID0gcmVjb3JkUHJvcGVydGllcztcbiAgICAgICAgICBjb25zdCBhY3RpdmVUYWJJZCA9IGdldEFjdGl2ZVRhYklkKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGFjdGl2ZVRhYklkKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbnkgZG9jdW1lbnRzIG5vdyBtYXRjaCBjb25kaXRpb25zIGFuZCBzaG91bGQgbW92ZSB0byBtYWluIHRhYlxuICAgICAgICAgICAgY29uc3QgZG9jc1RoYXROb3dNYXRjaCA9IGN1cnJlbnREb2NzLmZpbHRlcihkb2MgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50QmVsb25nc1RvVGFiKGRvYywgYWN0aXZlVGFiSWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyhkb2MsIGN1cnJlbnRQcm9wcyk7XG4gICAgICAgICAgICAgIC8vIElmIGRvY3VtZW50IGlzIGJvdGggcmVxdWlyZWQgYW5kIHByb3ZpZGVkLCBhbmQgY29uZGl0aW9ucyBhcmUgbWV0LCBtb3ZlIHRvIG1haW4gdGFiXG4gICAgICAgICAgICAgIHJldHVybiBjb25kaXRpb25zTWV0ICYmIGRvYy5yZXF1aXJlZCAmJiBkb2MucHJvdmlkZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRvY3NUaGF0Tm93TWF0Y2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogJHtkb2NzVGhhdE5vd01hdGNoLmxlbmd0aH0gZG9jdW1lbnQocykgbm93IG1hdGNoIGNvbmRpdGlvbnMgYW5kIHNob3VsZCBiZSBpbiBtYWluIHRhYmApO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogRG9jdW1lbnRzOiAke2RvY3NUaGF0Tm93TWF0Y2gubWFwKGQgPT4gZC5uYW1lKS5qb2luKCcsICcpfWApO1xuICAgICAgICAgICAgICAvLyBTd2l0Y2ggdG8gbWFpbiB0YWIgdG8gc2hvdyB0aGVzZSBkb2N1bWVudHNcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUYWIoYWN0aXZlVGFiSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IFZlcmlmaWNhdGlvbiBjb21wbGV0ZS4gQ2hlY2sgdGhlIGZldGNoZWQgdmFsdWVzIGFib3ZlLicpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEb2N1bWVudExpc3RdIHNhdmVEb2N1bWVudENoYW5nZXM6IEZhaWxlZCB0byB1cGRhdGUgc3RhdHVzIHByb3BlcnRpZXMnKTtcbiAgICAgIHNldEVycm9yKCdFcnJvciB1cGRhdGluZyBzdGF0dXMgcHJvcGVydGllcycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW0RvY3VtZW50TGlzdF0gc2F2ZURvY3VtZW50Q2hhbmdlczogRVhDRVBUSU9OIC0nLCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgJ0Vycm9yIHVwZGF0aW5nIGRvY3VtZW50cycpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldFNhdmluZyhmYWxzZSk7XG4gIH1cbn07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbGwgY2hhbmdlcyBiYWNrIHRvIGluaXRpYWwgc3RhdGUgZnJvbSBIdWJTcG90LlxuICAgKi9cbmNvbnN0IHJlc2V0Q2hhbmdlcyA9ICgpID0+IHtcbiAgICBzZXREb2N1bWVudHMoWy4uLmluaXRpYWxEb2N1bWVudHNdKTtcbiAgc2V0SXNDb21wbGV0ZWQoaW5pdGlhbENvbXBsZXRpb25TdGF0dXMpO1xuICBzZXREb3NzaWVyU3RhdGUoaW5pdGlhbERvc3NpZXJTdGF0ZSk7XG4gIHNldElzQ2hhbmdlZChmYWxzZSk7XG59O1xuXG4gIC8vIEF1dG8tdXBkYXRlIEh1YlNwb3QgcHJvcGVydGllcyB3aGVuIGRvY3VtZW50IHN0YXRlcyBjaGFuZ2VcbnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxEb2N1bWVudHMubGVuZ3RoID4gMCAmJiBkb2N1bWVudHMubGVuZ3RoID4gMCAmJiAhbG9hZGluZyAmJiBPYmplY3Qua2V5cyhyZWNvcmRQcm9wZXJ0aWVzKS5sZW5ndGggPiAwKSB7IFxuICAgIGNoZWNrRm9yQ2hhbmdlcygpO1xuICAgIFxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudHMubGVuZ3RoID4gMCAmJiBkb2N1bWVudHMuc29tZShkb2MgPT4gZG9jLm5hbWUpKSB7XG4gICAgICAgICAgY29uc3QgbWlzc2luZ0RvY3MgPSBjYWxjdWxhdGVNaXNzaW5nRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gICAgICAgICAgLy8gT25seSBhdXRvLXVwZGF0ZSBtaXNzaW5nX2RvYyBwcm9wZXJ0eSAoY2FsY3VsYXRlZCBmaWVsZClcbiAgICAgICAgICAvLyBEbyBOT1QgYXV0by11cGRhdGUgZG9jdW1lbnRzX2NvbXBsZXRlZCBvciBldGF0X2R1X2Rvc3NpZXIgdW50aWwgdXNlciBzYXZlc1xuICAgICAgICAgIHVwZGF0ZU1pc3NpbmdEb2NQcm9wZXJ0eShtaXNzaW5nRG9jcykuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9LCAyMDApO1xuICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9XG59LCBbZG9jdW1lbnRzLCBpc0NvbXBsZXRlZCwgZG9zc2llclN0YXRlXSk7XG5cbiAgLy8gVXBkYXRlIHNlbGVjdGVkIHRhYiB3aGVuIG5hdHVyZURlbWFuZGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuYXR1cmVEZW1hbmRlKSB7XG4gICAgICBjb25zdCB0YWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmF0dXJlRGVtYW5kZSk7XG4gICAgICBpZiAodGFiSWQgJiYgdGFiSWQgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIHNldFNlbGVjdGVkVGFiKHRhYklkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtuYXR1cmVEZW1hbmRlXSk7XG5cbiAgLy8gRElTQUJMRUQ6IEF1dG8tdXBkYXRlIHJlcXVpcmVkIHN0YXR1cyB3aGVuIHJlY29yZCBwcm9wZXJ0aWVzIGNoYW5nZVxuICAvLyBUaGlzIHdhcyBjYXVzaW5nIGluZmluaXRlIGxvb3BzLiBVc2VycyB3aWxsIG5lZWQgdG8gbWFudWFsbHkgc2F2ZS5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICAuLi4gZGlzYWJsZWQgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICAvLyB9LCBbcmVjb3JkUHJvcGVydGllcywgc2VsZWN0ZWRUYWJdKTtcblxuXG4gIGNvbnN0IGdldERvc3NpZXJTdGF0ZVN0eWxlID0gKHN0YXRlKSA9PiB7XG4gICAgc3dpdGNoKHN0YXRlKSB7XG4gICAgICBjYXNlIERPU1NJRVJfU1RBVEVTLkNPTVBMRVRFOlxuICAgICAgICByZXR1cm4gXCJzdWNjZXNzXCI7XG4gICAgICBjYXNlIERPU1NJRVJfU1RBVEVTLklOQ09NUExFVEU6XG4gICAgICAgIHJldHVybiBcIndhcm5pbmdcIjtcbiAgICAgIGNhc2UgRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdGVwTmFtZXMgPSBbXG4gICAgRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQsXG4gICAgRE9TU0lFUl9TVEFURVMuSU5DT01QTEVURSxcbiAgICBET1NTSUVSX1NUQVRFUy5DT01QTEVURVxuICBdO1xuXG4gIGNvbnN0IGdldEN1cnJlbnRTdGVwSW5kZXggPSAoKTogbnVtYmVyID0+IHtcbiAgICBzd2l0Y2ggKGRvc3NpZXJTdGF0ZSkge1xuICAgICAgY2FzZSBET1NTSUVSX1NUQVRFUy5UT19CVUlMRDpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICBjYXNlIERPU1NJRVJfU1RBVEVTLklOQ09NUExFVEU6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBET1NTSUVSX1NUQVRFUy5DT01QTEVURTpcbiAgICAgICAgcmV0dXJuIGlzQ29tcGxldGVkID8gc3RlcE5hbWVzLmxlbmd0aCA6IDI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlcyBhIHNpbmdsZSBjb25kaXRpb24gYWdhaW5zdCBIdWJTcG90IHJlY29yZCBwcm9wZXJ0aWVzLlxuICAgKiBTdXBwb3J0cyBtdWx0aXBsZSBvcGVyYXRvcnMgaW5jbHVkaW5nICdpbicgZm9yIG11bHRpLXNlbGVjdCBmaWVsZHMuXG4gICAqL1xuICBjb25zdCBldmFsdWF0ZUNvbmRpdGlvbiA9IChjb25kaXRpb246IERvY3VtZW50Q29uZGl0aW9uLCBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogYm9vbGVhbiA9PiB7XG4gICAgbGV0IHByb3BlcnR5VmFsdWUgPSBwcm9wZXJ0aWVzW2NvbmRpdGlvbi5wcm9wZXJ0eV07XG4gICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgZm91bmRLZXkgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5maW5kKGsgPT4gXG4gICAgICAgIGsudG9Mb3dlckNhc2UoKSA9PT0gY29uZGl0aW9uLnByb3BlcnR5LnRvTG93ZXJDYXNlKClcbiAgICAgICk7XG4gICAgICBpZiAoZm91bmRLZXkpIHtcbiAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHByb3BlcnRpZXNbZm91bmRLZXldO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm9wVmFsdWVTdHIgPSBwcm9wZXJ0eVZhbHVlID8gU3RyaW5nKHByb3BlcnR5VmFsdWUpLnRyaW0oKSA6ICcnO1xuICAgIGNvbnN0IGNvbmRpdGlvblZhbHVlID0gY29uZGl0aW9uLnZhbHVlLnRyaW0oKTtcblxuICAgIHN3aXRjaCAoY29uZGl0aW9uLm9wZXJhdG9yKSB7XG4gICAgICBjYXNlICdlcXVhbHMnOlxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlU3RyID09PSBjb25kaXRpb25WYWx1ZTtcbiAgICAgIGNhc2UgJ25vdF9lcXVhbHMnOlxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlU3RyICE9PSBjb25kaXRpb25WYWx1ZTtcbiAgICAgIGNhc2UgJ2NvbnRhaW5zJzpcbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZVN0ci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNvbmRpdGlvblZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgY2FzZSAnbm90X2NvbnRhaW5zJzpcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWVTdHIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb25kaXRpb25WYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGNhc2UgJ2luJzpcbiAgICAgICAgLy8gSGFuZGxlcyBIdWJTcG90IG11bHRpLXNlbGVjdCBmaWVsZHMgd2hpY2ggY2FuIGJlOlxuICAgICAgICAvLyAtIFNpbmdsZSBzdHJpbmc6IFwiVmFsdWVcIlxuICAgICAgICAvLyAtIFNlbWljb2xvbi1zZXBhcmF0ZWQ6IFwiVmFsdWUxO1ZhbHVlMlwiXG4gICAgICAgIC8vIC0gQXJyYXk6IFtcIlZhbHVlMVwiLCBcIlZhbHVlMlwiXVxuICAgICAgICBpZiAoIXByb3BlcnR5VmFsdWUgfHwgcHJvcFZhbHVlU3RyID09PSAnJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZENvbmRpdGlvblZhbHVlID0gY29uZGl0aW9uVmFsdWUudHJpbSgpO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkUHJvcGVydHlWYWx1ZSA9IHByb3BWYWx1ZVN0ci50cmltKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwcm9wZXJ0eVZhbHVlLnNvbWUodmFsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWwgPSBTdHJpbmcodmFsKS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZFZhbCA9PT0gbm9ybWFsaXplZENvbmRpdGlvblZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBub3JtYWxpemVGb3JDb21wYXJpc29uID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICByZXR1cm4gc3RyLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBub3JtYWxpemVkQ29uZGl0aW9uID0gbm9ybWFsaXplRm9yQ29tcGFyaXNvbihub3JtYWxpemVkQ29uZGl0aW9uVmFsdWUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wZXJ0eVZhbHVlLmluY2x1ZGVzKCc7JykpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBub3JtYWxpemVkUHJvcGVydHlWYWx1ZS5zcGxpdCgnOycpLm1hcCh2ID0+IG5vcm1hbGl6ZUZvckNvbXBhcmlzb24odikpLmZpbHRlcih2ID0+IHYgIT09ICcnKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzLnNvbWUodmFsID0+IHZhbCA9PT0gbm9ybWFsaXplZENvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChub3JtYWxpemVkUHJvcGVydHlWYWx1ZS5pbmNsdWRlcygnLCcpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gbm9ybWFsaXplZFByb3BlcnR5VmFsdWUuc3BsaXQoJywnKS5tYXAodiA9PiBub3JtYWxpemVGb3JDb21wYXJpc29uKHYpKS5maWx0ZXIodiA9PiB2ICE9PSAnJyk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKHZhbCA9PiB2YWwgPT09IG5vcm1hbGl6ZWRDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBub3JtYWxpemVkUHJvcGVydHkgPSBub3JtYWxpemVGb3JDb21wYXJpc29uKG5vcm1hbGl6ZWRQcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm9wZXJ0eSA9PT0gbm9ybWFsaXplZENvbmRpdGlvbjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFsbCBjb25kaXRpb25zIGZvciBhIGRvY3VtZW50IGFyZSBtZXQuXG4gICAqIExvZ2ljOiBDb25kaXRpb25zIG9uIHRoZSBzYW1lIHByb3BlcnR5IHVzZSBPUiAoYW55IG1hdGNoKSxcbiAgICogY29uZGl0aW9ucyBvbiBkaWZmZXJlbnQgcHJvcGVydGllcyB1c2UgQU5EIChhbGwgZ3JvdXBzIG11c3QgbWF0Y2gpLlxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gVGhlIGRvY3VtZW50IHRvIGNoZWNrXG4gICAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gVGhlIEh1YlNwb3QgcmVjb3JkIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHRhYklkIC0gT3B0aW9uYWw6IHNwZWNpZmljIHRhYiB0byBjaGVjayBjb25kaXRpb25zIGZvci4gSWYgbm90IHByb3ZpZGVkLCBjaGVja3MgYWxsIHRhYnMuXG4gICAqL1xuICBjb25zdCBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyA9IChkb2M6IERvY3VtZW50LCBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCB0YWJJZD86IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIC8vIEdldCBjb25kaXRpb25zIGJhc2VkIG9uIHdoZXRoZXIgYSBzcGVjaWZpYyB0YWIgaXMgcmVxdWVzdGVkXG4gICAgbGV0IGNvbmRpdGlvbnM6IERvY3VtZW50Q29uZGl0aW9uW107XG5cbiAgICBpZiAodGFiSWQpIHtcbiAgICAgIC8vIENoZWNrIGNvbmRpdGlvbnMgZm9yIHNwZWNpZmljIHRhYlxuICAgICAgY29uZGl0aW9ucyA9IGdldENvbmRpdGlvbnNGb3JUYWIoZG9jLCB0YWJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENoZWNrIGNvbmRpdGlvbnMgYWNyb3NzIGFsbCB0YWJzIChhbnkgdGFiJ3MgY29uZGl0aW9ucyBtYXRjaGluZyBpcyBlbm91Z2gpXG4gICAgICBjb25kaXRpb25zID0gZ2V0QWxsQ29uZGl0aW9ucyhkb2MpO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9ucyB8fCBjb25kaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY29uZGl0aW9uc0J5UHJvcGVydHkgPSBuZXcgTWFwPHN0cmluZywgRG9jdW1lbnRDb25kaXRpb25bXT4oKTtcblxuICAgIGNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgaWYgKCFjb25kaXRpb25zQnlQcm9wZXJ0eS5oYXMoY29uZGl0aW9uLnByb3BlcnR5KSkge1xuICAgICAgICBjb25kaXRpb25zQnlQcm9wZXJ0eS5zZXQoY29uZGl0aW9uLnByb3BlcnR5LCBbXSk7XG4gICAgICB9XG4gICAgICBjb25kaXRpb25zQnlQcm9wZXJ0eS5nZXQoY29uZGl0aW9uLnByb3BlcnR5KSEucHVzaChjb25kaXRpb24pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWxsUHJvcGVydHlHcm91cHNNYXRjaCA9IEFycmF5LmZyb20oY29uZGl0aW9uc0J5UHJvcGVydHkuZW50cmllcygpKS5ldmVyeSgoW3Byb3BlcnR5LCBwcm9wQ29uZGl0aW9uc10pID0+IHtcbiAgICAgIHJldHVybiBwcm9wQ29uZGl0aW9ucy5zb21lKGNvbmRpdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiBldmFsdWF0ZUNvbmRpdGlvbihjb25kaXRpb24sIHByb3BlcnRpZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsUHJvcGVydHlHcm91cHNNYXRjaDtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGljaCB0YWIgc2hvdWxkIGJlIHNob3duIGJhc2VkIG9uIHNvdXNfY2F0ZWdvcmllIHZhbHVlLlxuICAgKiBVc2VzIHRoZSBuZXcgdGFiQ29uZmlnIHN0cnVjdHVyZSB0byBmaW5kIG1hdGNoaW5nIHRhYnMuXG4gICAqL1xuICBjb25zdCBnZXRUYWJGb3JOYXR1cmVEZW1hbmRlID0gKG5hdHVyZURlbWFuZGVWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgaWYgKCFuYXR1cmVEZW1hbmRlVmFsdWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgdmFsdWUgZm9yIGNvbXBhcmlzb24gKHRyaW0sIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlKVxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemUobmF0dXJlRGVtYW5kZVZhbHVlKTtcblxuICAgIC8vIFNlYXJjaCB0aHJvdWdoIGFsbCBkb2N1bWVudHMgYW5kIHRoZWlyIHRhYkNvbmZpZ3MgdG8gZmluZCBtYXRjaGluZyBzb3VzX2NhdGVnb3JpZVxuICAgIGZvciAoY29uc3QgZG9jIG9mIERPQ1VNRU5UU19DT05GSUcpIHtcbiAgICAgIGlmICghZG9jLnRhYkNvbmZpZykgY29udGludWU7XG5cbiAgICAgIC8vIENoZWNrIGVhY2ggdGFiJ3MgY29uZGl0aW9uc1xuICAgICAgZm9yIChjb25zdCBbdGFiSWQsIHRhYkNvbmZpZ10gb2YgT2JqZWN0LmVudHJpZXMoZG9jLnRhYkNvbmZpZykpIHtcbiAgICAgICAgaWYgKCF0YWJDb25maWcuY29uZGl0aW9ucykgY29udGludWU7XG5cbiAgICAgICAgLy8gTG9vayBmb3IgYSBzb3VzX2NhdGVnb3JpZSBjb25kaXRpb24gdGhhdCBtYXRjaGVzXG4gICAgICAgIGNvbnN0IGhhc01hdGNoID0gdGFiQ29uZmlnLmNvbmRpdGlvbnMuc29tZShjb25kaXRpb24gPT4ge1xuICAgICAgICAgIHJldHVybiBjb25kaXRpb24ucHJvcGVydHkgPT09ICdzb3VzX2NhdGVnb3JpZScgJiZcbiAgICAgICAgICAgIGNvbmRpdGlvbi5vcGVyYXRvciA9PT0gJ2VxdWFscycgJiZcbiAgICAgICAgICAgIG5vcm1hbGl6ZShjb25kaXRpb24udmFsdWUpID09PSBub3JtYWxpemVkVmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChoYXNNYXRjaCkge1xuICAgICAgICAgIHJldHVybiB0YWJJZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhY3RpdmUgdGFiIElEIGJhc2VkIG9uIGN1cnJlbnQgc291c19jYXRlZ29yaWUuXG4gICAqIFJldHVybnMgdGhlIHRhYiB0aGF0IHNob3VsZCBiZSBzaG93biAobm90IFwiYXV0cmVcIikuXG4gICAqL1xuICBjb25zdCBnZXRBY3RpdmVUYWJJZCA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoIW5hdHVyZURlbWFuZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0YWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmF0dXJlRGVtYW5kZSk7XG4gICAgcmV0dXJuIHRhYklkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIGFuZCBzb3J0cyBkb2N1bWVudHMgdmlzaWJsZSBpbiB0aGUgY3VycmVudCB0YWIuXG4gICAqIEZpcnN0IHRhYiBpcyBkZXRlcm1pbmVkIGJ5IHNvdXNfY2F0ZWdvcmllIChmaW5kcyBkb2N1bWVudHMgbWF0Y2hpbmcgdGhhdCB2YWx1ZSBhbmQgdXNlcyB0aGVpciB0YWIgcHJvcGVydHkpLlxuICAgKiBcIkF1dHJlXCIgdGFiIHNob3dzIGRvY3VtZW50cyBmcm9tIHRoZSBmaXJzdCB0YWIgdGhhdCBkb24ndCBtYXRjaCBjb25kaXRpb25zLlxuICAgKi9cbiAgY29uc3QgZ2V0VmlzaWJsZURvY3VtZW50cyA9ICgpOiBEb2N1bWVudFtdID0+IHtcbiAgICAvLyBTYWZldHkgY2hlY2s6IGVuc3VyZSB3ZSBoYXZlIHRoZSBuZWNlc3Nhcnkgc3RhdGVcbiAgICBpZiAoIWRvY3VtZW50cyB8fCBkb2N1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFjdGl2ZVRhYklkID0gZ2V0QWN0aXZlVGFiSWQoKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgc291c19jYXRlZ29yaWUgaXMgaW4gcmVjb3JkUHJvcGVydGllcyBmb3IgY29uZGl0aW9uIGNoZWNraW5nXG4gICAgY29uc3QgcHJvcHNGb3JDb25kaXRpb25zID0gcmVjb3JkUHJvcGVydGllcyA/IHsgLi4ucmVjb3JkUHJvcGVydGllcyB9IDoge307XG4gICAgaWYgKG5hdHVyZURlbWFuZGUgJiYgIXByb3BzRm9yQ29uZGl0aW9uc1snc291c19jYXRlZ29yaWUnXSkge1xuICAgICAgcHJvcHNGb3JDb25kaXRpb25zWydzb3VzX2NhdGVnb3JpZSddID0gbmF0dXJlRGVtYW5kZTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdmlzaWJsZSA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IHtcbiAgICAgIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyhkb2MsIHByb3BzRm9yQ29uZGl0aW9ucyk7XG4gICAgICBcbiAgICAgIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHNwZWNpZmljIGRvY3VtZW50XG4gICAgICBpZiAoZG9jLmlkLmluY2x1ZGVzKCdkb2N1bWVudF9qdXN0aWZpYW50X2RlX2xhX2RhdGVfZXRfZHVfbGlldV9kZV9uYWlzc2FuY2UnKSAmJiBcbiAgICAgICAgICAhZG9jLmlkLmluY2x1ZGVzKCdmcmF0ZXJpZScpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VmlzaWJsZURvY3VtZW50c10gRG9jdW1lbnQ6IFwiJHtkb2MubmFtZX1cImApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW2dldFZpc2libGVEb2N1bWVudHNdIFRhYjogJHtzZWxlY3RlZFRhYn0sIEFjdGl2ZVRhYklkOiAke2FjdGl2ZVRhYklkfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW2dldFZpc2libGVEb2N1bWVudHNdIEJlbG9uZ3MgdG8gYWN0aXZlIHRhYjogJHthY3RpdmVUYWJJZCA/IGRvY3VtZW50QmVsb25nc1RvVGFiKGRvYywgYWN0aXZlVGFiSWQpIDogJ04vQSd9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VmlzaWJsZURvY3VtZW50c10gQ29uZGl0aW9ucyBtZXQ6ICR7Y29uZGl0aW9uc01ldH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtnZXRWaXNpYmxlRG9jdW1lbnRzXSBSZXF1aXJlZDogJHtkb2MucmVxdWlyZWR9LCBQcm92aWRlZDogJHtkb2MucHJvdmlkZWR9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VmlzaWJsZURvY3VtZW50c10gc291c19jYXRlZ29yaWU6ICR7cHJvcHNGb3JDb25kaXRpb25zWydzb3VzX2NhdGVnb3JpZSddIHx8IG5hdHVyZURlbWFuZGUgfHwgJ05PVCBTRVQnfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoc2VsZWN0ZWRUYWIgPT09ICdhdXRyZScpIHtcbiAgICAgICAgLy8gXCJBdXRyZVwiIHRhYiBzaG93czpcbiAgICAgICAgLy8gMS4gRG9jdW1lbnRzIGZyb20gYWN0aXZlIHRhYiB0aGF0IGRvbid0IG1hdGNoIGNvbmRpdGlvbnNcbiAgICAgICAgLy8gMi4gRG9jdW1lbnRzIGZyb20gQU5ZIHRhYiB0aGF0IGFyZSByZXF1aXJlZCBPUiBwcm92aWRlZCAobWF5IGJlIGZyb20gZGlmZmVyZW50IHNvdXNfY2F0ZWdvcmllKVxuXG4gICAgICAgIC8vIENhc2UgMTogRG9jdW1lbnQgaXMgcmVxdWlyZWQgb3IgcHJvdmlkZWQgKGZyb20gYW55IHRhYilcbiAgICAgICAgaWYgKGRvYy5yZXF1aXJlZCB8fCBkb2MucHJvdmlkZWQpIHtcbiAgICAgICAgICAvLyBEb24ndCBzaG93IGlmIGNvbmRpdGlvbnMgYXJlIG1ldCBBTkQgZG9jdW1lbnQgYmVsb25ncyB0byBhY3RpdmUgdGFiXG4gICAgICAgICAgLy8gKGl0IHdpbGwgc2hvdyBpbiB0aGUgbWFpbiB0YWIgaW5zdGVhZClcbiAgICAgICAgICBpZiAoY29uZGl0aW9uc01ldCAmJiBhY3RpdmVUYWJJZCAmJiBkb2N1bWVudEJlbG9uZ3NUb1RhYihkb2MsIGFjdGl2ZVRhYklkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTaG93IGluIEF1dHJlIGlmIGl0J3MgbWFya2VkIGJ1dCBkb2Vzbid0IGJlbG9uZyB0byBjdXJyZW50IHRhYiBvciBjb25kaXRpb25zIG5vdCBtZXRcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhc2UgMjogRG9jdW1lbnQgYmVsb25ncyB0byBhY3RpdmUgdGFiIGJ1dCBjb25kaXRpb25zIG5vdCBtZXRcbiAgICAgICAgaWYgKCFhY3RpdmVUYWJJZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZG9jdW1lbnRCZWxvbmdzVG9UYWIoZG9jLCBhY3RpdmVUYWJJZCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIWNvbmRpdGlvbnNNZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciB0aGUgYWN0aXZlIHRhYjogc2hvdyBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGVpciBjb25kaXRpb25zXG4gICAgICAvLyBPUiBkb2N1bWVudHMgdGhhdCBhcmUgcmVxdWlyZWQgQU5EIHByb3ZpZGVkIChjb21wbGV0ZWQgZG9jdW1lbnRzKVxuICAgICAgY29uc3QgdGFiVG9DaGVjayA9IChhY3RpdmVUYWJJZCAmJiBzZWxlY3RlZFRhYiA9PT0gYWN0aXZlVGFiSWQpID8gYWN0aXZlVGFiSWQgOiBzZWxlY3RlZFRhYjtcblxuICAgICAgaWYgKCFkb2N1bWVudEJlbG9uZ3NUb1RhYihkb2MsIHRhYlRvQ2hlY2spKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBpZiBjb25kaXRpb25zIGFyZSBtZXQgT1IgaWYgZG9jdW1lbnQgaXMgcmVxdWlyZWQgQU5EIHByb3ZpZGVkXG4gICAgICByZXR1cm4gY29uZGl0aW9uc01ldCB8fCAoZG9jLnJlcXVpcmVkICYmIGRvYy5wcm92aWRlZCk7XG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgZmlsdGVyZWQgPSBzZWFyY2hUZXJtLnRyaW0oKSBcbiAgICAgID8gdmlzaWJsZS5maWx0ZXIoZG9jID0+IFxuICAgICAgICAgIGRvYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApXG4gICAgICA6IHZpc2libGU7XG4gICAgXG4gICAgcmV0dXJuIGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyQSA9IGdldE9yZGVyRm9yVGFiKGEsIHNlbGVjdGVkVGFiKTtcbiAgICAgIGNvbnN0IG9yZGVyQiA9IGdldE9yZGVyRm9yVGFiKGIsIHNlbGVjdGVkVGFiKTtcbiAgICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgcHJvZ3Jlc3MgYmFzZWQgb24gYWxsIHJlcXVpcmVkIGRvY3VtZW50cyBhY3Jvc3MgYWxsIHRhYnMuXG4gICAqIEEgZG9jdW1lbnQgaXMgcmVxdWlyZWQgaWYgY29uZGl0aW9ucyBhcmUgbWV0IE9SIG1hbnVhbGx5IHNldCB0byByZXF1aXJlZC5cbiAgICovXG4gIGNvbnN0IGNhbGN1bGF0ZVByb2dyZXNzID0gKGRvY3M6IERvY3VtZW50W10pOiB7IHByb3ZpZGVkOiBudW1iZXI7IHJlcXVpcmVkOiBudW1iZXI7IHBlcmNlbnRhZ2U6IG51bWJlciB9ID0+IHtcbiAgICBjb25zdCByZXF1aXJlZERvY3MgPSBkb2NzLmZpbHRlcihkb2MgPT4ge1xuICAgICAgaWYgKGRvYy5yZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhhc0NvbmRpdGlvbnMgPSBnZXRBbGxDb25kaXRpb25zKGRvYykubGVuZ3RoID4gMDtcbiAgICAgIGlmIChoYXNDb25kaXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyhkb2MsIHJlY29yZFByb3BlcnRpZXMpO1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uc01ldDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBwcm92aWRlZERvY3MgPSByZXF1aXJlZERvY3MuZmlsdGVyKGRvYyA9PiBkb2MucHJvdmlkZWQpO1xuICAgIGNvbnN0IHJlcXVpcmVkQ291bnQgPSByZXF1aXJlZERvY3MubGVuZ3RoO1xuICAgIGNvbnN0IHByb3ZpZGVkQ291bnQgPSBwcm92aWRlZERvY3MubGVuZ3RoO1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSByZXF1aXJlZENvdW50ID4gMCA/IE1hdGgucm91bmQoKHByb3ZpZGVkQ291bnQgLyByZXF1aXJlZENvdW50KSAqIDEwMCkgOiAxMDA7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3ZpZGVkOiBwcm92aWRlZENvdW50LFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkQ291bnQsXG4gICAgICBwZXJjZW50YWdlXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJEb2N1bWVudHNUYWJsZSA9ICgpID0+IHtcbiAgICBjb25zdCB2aXNpYmxlID0gZ2V0VmlzaWJsZURvY3VtZW50cygpIHx8IFtdO1xuICAgIGNvbnN0IHByb2dyZXNzID0gY2FsY3VsYXRlUHJvZ3Jlc3ModmlzaWJsZSk7XG4gICAgXG4gICAgaWYgKHZpc2libGUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RW1wdHlTdGF0ZSBcbiAgICAgICAgICB0aXRsZT17c2VhcmNoVGVybS50cmltKCkgPyBcIkF1Y3VuIGRvY3VtZW50IHRyb3V2w6lcIiA6IFwiQXVjdW4gZG9jdW1lbnQgZGFucyBjZXQgb25nbGV0XCJ9XG4gICAgICAgICAgbGF5b3V0PVwidmVydGljYWxcIlxuICAgICAgICA+XG4gICAgICAgICAge3NlYXJjaFRlcm0udHJpbSgpICYmIChcbiAgICAgICAgICAgIDxUZXh0PkVzc2F5ZXogZGUgbW9kaWZpZXIgdm90cmUgcmVjaGVyY2hlIG91IGRlIHbDqXJpZmllciBsZXMgZmlsdHJlcy48L1RleHQ+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9FbXB0eVN0YXRlPlxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxGbGV4IGRpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cIm1kXCI+XG4gICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cInJvd1wiIGdhcD1cInNtXCIgYWxpZ249XCJlbmRcIiBqdXN0aWZ5PVwiYmV0d2VlblwiPlxuICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cInJvd1wiIGdhcD1cInNtXCIgYWxpZ249XCJlbmRcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBuYW1lPVwiZG9jdW1lbnQtc2VhcmNoXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJSZWNoZXJjaGVyIHVuIGRvY3VtZW50XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUYXBleiBsZSBub20gZHUgZG9jdW1lbnQuLi5cIlxuICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFRlcm0odmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtzZWFyY2hUZXJtICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFRlcm0oJycpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFZmZhY2VyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb3ZlcmxheT17XG4gICAgICAgICAgICAgIDxNb2RhbCBpZD1cInNlbmQtZW1haWwtbW9kYWxcIiB0aXRsZT1cIkVudm95ZXIgdW4gZW1haWxcIiB3aWR0aD1cIm1kXCI+XG4gICAgICAgICAgICAgICAgPE1vZGFsQm9keT5cbiAgICAgICAgICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cIm1kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvcm1hdD17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnRzIG1hbnF1YW50cyDDoCBlbnZveWVyIDpcbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nRG9jcyA9IGdldE1pc3NpbmdEb2N1bWVudHNMaXN0KGRvY3VtZW50cywgcmVjb3JkUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG1pc3NpbmdEb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0IHRpdGxlPVwiQXVjdW4gZG9jdW1lbnQgbWFucXVhbnRcIiB2YXJpYW50PVwic3VjY2Vzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvdXMgbGVzIGRvY3VtZW50cyByZXF1aXMgb250IMOpdMOpIGZvdXJuaXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwieHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWlzc2luZ0RvY3MubWFwKChkb2NOYW1lLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJyb3dcIiBnYXA9XCJzbVwiIGFsaWduPVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBmb3JtYXQ9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICsgMX0uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0Pntkb2NOYW1lfTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggPCBtaXNzaW5nRG9jcy5sZW5ndGggLSAxICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGl2aWRlciBkaXN0YW5jZT1cInhzXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwic21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGl2aWRlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvcm1hdD17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb3RhbCA6IHttaXNzaW5nRG9jcy5sZW5ndGh9IGRvY3VtZW50e21pc3NpbmdEb2NzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gbWFucXVhbnR7bWlzc2luZ0RvY3MubGVuZ3RoID4gMSA/ICdzJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgICAgICA8L01vZGFsQm9keT5cbiAgICAgICAgICAgICAgICA8TW9kYWxGb290ZXI+XG4gICAgICAgICAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiZW5kXCIgZ2FwPVwic21cIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFjdGlvbnMuY2xvc2VPdmVybGF5KCdzZW5kLWVtYWlsLW1vZGFsJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBBbm51bGVyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB1cGRhdGVTZW5kTWFpbFByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLmNsb3NlT3ZlcmxheSgnc2VuZC1lbWFpbC1tb2RhbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93RW1haWxTdWNjZXNzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dFbWFpbFN1Y2Nlc3MoZmFsc2UpLCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgRW52b3llclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgICAgICA8L01vZGFsRm9vdGVyPlxuICAgICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgRW52b3llciB1biBlbWFpbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0ZsZXg+XG4gICAgICAgIFxuICAgICAgICB7cHJvZ3Jlc3MucmVxdWlyZWQgPiAwICYmIChcbiAgICAgICAgICA8UHJvZ3Jlc3NCYXJcbiAgICAgICAgICAgIHRpdGxlPVwiUHJvZ3Jlc3Npb24gZGVzIGRvY3VtZW50c1wiXG4gICAgICAgICAgICB2YWx1ZT17cHJvZ3Jlc3MucHJvdmlkZWR9XG4gICAgICAgICAgICBtYXhWYWx1ZT17cHJvZ3Jlc3MucmVxdWlyZWR9XG4gICAgICAgICAgICBzaG93UGVyY2VudGFnZT17dHJ1ZX1cbiAgICAgICAgICAgIHZhbHVlRGVzY3JpcHRpb249e2Ake3Byb2dyZXNzLnByb3ZpZGVkfSBzdXIgJHtwcm9ncmVzcy5yZXF1aXJlZH0gZG9jdW1lbnRzIGZvdXJuaXNgfVxuICAgICAgICAgICAgdmFyaWFudD17cHJvZ3Jlc3MucGVyY2VudGFnZSA9PT0gMTAwID8gJ3N1Y2Nlc3MnIDogcHJvZ3Jlc3MucGVyY2VudGFnZSA+PSA1MCA/ICd3YXJuaW5nJyA6ICdkYW5nZXInfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7aXNDaGFuZ2VkICYmIChcbiAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCIgZ2FwPVwic21cIiBhbGlnbj1cImNlbnRlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtyZXNldENoYW5nZXN9IHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiPlxuICAgICAgICAgICAgICBBbm51bGVyXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2F2ZURvY3VtZW50Q2hhbmdlcygpfSB2YXJpYW50PVwicHJpbWFyeVwiIGRpc2FibGVkPXtzYXZpbmd9PlxuICAgICAgICAgICAgICB7c2F2aW5nID8gJ0VucmVnaXN0cmVtZW50Li4uJyA6ICdFbnJlZ2lzdHJlciBsZXMgbW9kaWZpY2F0aW9ucyd9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJyb3dcIiBnYXA9XCJsZ1wiIGFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgICAgPEZsZXg+XG4gICAgICAgICAgICA8VGV4dCBmb3JtYXQ9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19Pk5vbSBkdSBkb2N1bWVudDwvVGV4dD5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPEZsZXgganVzdGlmeT1cImNlbnRlclwiPlxuICAgICAgICAgICAgPFRleHQgZm9ybWF0PXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5SZXF1aXM8L1RleHQ+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgIDxGbGV4IGp1c3RpZnk9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgIDxUZXh0IGZvcm1hdD17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+Rm91cm5pczwvVGV4dD5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgIDwvRmxleD5cbiAgICAgICAgPERpdmlkZXIgLz5cbiAgICBcbiAgICAgICAgeyh2aXNpYmxlIHx8IFtdKVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWEgfHwgIWIpIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKGEucmVxdWlyZWQgJiYgIWIucmVxdWlyZWQpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmICghYS5yZXF1aXJlZCAmJiBiLnJlcXVpcmVkKSByZXR1cm4gMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb3JkZXJBID0gZ2V0T3JkZXJGb3JUYWIoYSwgc2VsZWN0ZWRUYWIpO1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJCID0gZ2V0T3JkZXJGb3JUYWIoYiwgc2VsZWN0ZWRUYWIpO1xuICAgICAgICAgICAgaWYgKG9yZGVyQSAhPT0gb3JkZXJCKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcigoZG9jKSA9PiBkb2MgIT0gbnVsbCAmJiBkb2MuaWQpIC8vIEZpbHRlciBvdXQgYW55IG51bGwvdW5kZWZpbmVkIGRvY3NcbiAgICAgICAgICAubWFwKChkb2MpID0+IHtcbiAgICAgICAgICBpZiAoIWRvYyB8fCAhZG9jLmlkKSByZXR1cm4gbnVsbDsgLy8gU2FmZXR5IGNoZWNrXG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyhkb2MsIHJlY29yZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgY29uc3QgaGFzQ29uZGl0aW9ucyA9IGdldEFsbENvbmRpdGlvbnMoZG9jKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBsZXQgcmVxdWlyZWRWYWx1ZTtcbiAgICAgICAgICAgIGxldCBpc1JlcXVpcmVkQnlDb25kaXRpb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGhhc0NvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbnNNZXQpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpc1JlcXVpcmVkQnlDb25kaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSBkb2MucmVxdWlyZWQ7XG4gICAgICAgICAgICAgICAgaXNSZXF1aXJlZEJ5Q29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSBkb2MucmVxdWlyZWQ7XG4gICAgICAgICAgICAgIGlzUmVxdWlyZWRCeUNvbmRpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17ZG9jLmlkfT5cbiAgICAgICAgICAgIDxGbGV4XG4gICAgICAgICAgICAgIGRpcmVjdGlvbj1cInJvd1wiXG4gICAgICAgICAgICAgIGFsaWduPVwiY2VudGVyXCJcbiAgICAgICAgICAgICAgICBnYXA9XCJsZ1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgICAgIDxUZXh0Pntkb2MubmFtZSB8fCAnVW5uYW1lZCBEb2N1bWVudCd9PC9UZXh0PlxuICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgIDxGbGV4IGp1c3RpZnk9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgIGtleT17YHJlcS0ke2RvYy5pZH0tJHtyZXF1aXJlZFZhbHVlfWB9XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtyZXF1aXJlZFZhbHVlID09PSB0cnVlfVxuICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9e2lzUmVxdWlyZWRCeUNvbmRpdGlvbn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtpc1JlcXVpcmVkQnlDb25kaXRpb24gPyAoKSA9PiB7fSA6IGhhbmRsZUNoZWNrYm94VG9nZ2xlKGRvYy5pZCwgJ3JlcXVpcmVkJyl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICBrZXk9e2Bwcm92LSR7ZG9jLmlkfS0ke2RvYy5wcm92aWRlZH1gfVxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZG9jLnByb3ZpZGVkID09PSB0cnVlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoZWNrYm94VG9nZ2xlKGRvYy5pZCwgJ3Byb3ZpZGVkJyl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICA8RGl2aWRlciAvPlxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW3JlbmRlckRvY3VtZW50c1RhYmxlXSBFcnJvciByZW5kZXJpbmcgZG9jdW1lbnQgJHtkb2M/LmlkfTpgLCBlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9IG51bGwpfSB7LyogRmlsdGVyIG91dCBhbnkgbnVsbCByZXR1cm5zICovfVxuICAgICAgPC9GbGV4PlxuICAgICk7XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZsZXgganVzdGlmeT1cImNlbnRlclwiPlxuICAgICAgICA8TG9hZGluZ1NwaW5uZXIgbGFiZWw9XCJMb2FkaW5nIGRvY3VtZW50IGNoZWNrbGlzdC4uLlwiIC8+XG4gICAgICA8L0ZsZXg+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEJveD5cbiAgICAgIDxGbGV4IGRpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cIm1kXCI+XG4gICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cInJvd1wiIGdhcD1cInNtXCIgYWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICAgIDxUYWcgdmFyaWFudD17Z2V0RG9zc2llclN0YXRlU3R5bGUoZG9zc2llclN0YXRlKX0+e2Rvc3NpZXJTdGF0ZX08L1RhZz5cbiAgICAgICAgICAgIHtpc0NvbXBsZXRlZCA/XG4gICAgICAgICAgICAgPFRhZyB2YXJpYW50PVwic3VjY2Vzc1wiPuKckyBDb21wbGV0ZWQ8L1RhZz4gOiA8VGFnIHZhcmlhbnQ9XCJlcnJvclwiPsOXIEluY29tcGxldGU8L1RhZz59XG4gICAgICAgIDwvRmxleD5cbiAgICBcbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8QWxlcnRcbiAgICAgICAgICAgIHRpdGxlPVwiRXJyb3JcIlxuICAgICAgICAgICAgdmFyaWFudD1cImVycm9yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgKX1cbiAgICBcbiAgICAgICAge3Nob3dTdWNjZXNzICYmIChcbiAgICAgICAgIDxBbGVydFxuICAgICAgICAgICB0aXRsZT1cIlN1Y2PDqHNcIlxuICAgICAgICAgICB2YXJpYW50PVwic3VjY2Vzc1wiXG4gICAgICAgICA+XG4gICAgICAgICAgIERvY3VtZW50cyBtaXMgw6Agam91ciBhdmVjIHN1Y2PDqHNcbiAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7c2hvd0VtYWlsU3VjY2VzcyAmJiAoXG4gICAgICAgICA8QWxlcnRcbiAgICAgICAgICAgdGl0bGU9XCJTdWNjw6hzXCJcbiAgICAgICAgICAgdmFyaWFudD1cInN1Y2Nlc3NcIlxuICAgICAgICAgPlxuICAgICAgICAgICBFbWFpbCBlbnZvecOpIGF2ZWMgc3VjY8Ooc1xuICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxTdGVwSW5kaWNhdG9yXG4gICAgICAgICAgY3VycmVudFN0ZXA9e2dldEN1cnJlbnRTdGVwSW5kZXgoKX1cbiAgICAgICAgICBzdGVwTmFtZXM9e3N0ZXBOYW1lc31cbiAgICAgICAgICBkaXJlY3Rpb249XCJob3Jpem9udGFsXCJcbiAgICAgICAgICBjaXJjbGVTaXplPVwibWRcIlxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgXG4gICAgICAgIDxCb3g+XG4gICAgICAgIDxUYWJzXG4gICAgICAgICAgdmFyaWFudD1cImVuY2xvc2VkXCJcbiAgICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWRUYWJ9XG4gICAgICAgICAgICBvblNlbGVjdGVkQ2hhbmdlPXsoaWQpID0+IHtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUYWIoaWQgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgc2V0U2VhcmNoVGVybSgnJyk7IC8vIENsZWFyIHNlYXJjaCB3aGVuIHN3aXRjaGluZyB0YWJzXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIGZpbGw9e2ZhbHNlfVxuICAgICAgICA+XG4gICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IHNob3cgdGhlIGFjdGl2ZSB0YWIgKGJhc2VkIG9uIHNvdXNfY2F0ZWdvcmllKSArIFwiYXV0cmVcIiB0YWJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRhYklkID0gZ2V0QWN0aXZlVGFiSWQoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlsdGVyIHRhYnM6IG9ubHkgc2hvdyBhY3RpdmUgdGFiICsgXCJhdXRyZVwiXG4gICAgICAgICAgICAvLyBJZiBubyBhY3RpdmUgdGFiIGZvdW5kIGJ1dCBuYXR1cmVEZW1hbmRlIGlzIHNldCwgdHJ5IHRvIGZpbmQgaXQgZnJvbSByZWNvcmRQcm9wZXJ0aWVzXG4gICAgICAgICAgICBsZXQgZmluYWxBY3RpdmVUYWJJZCA9IGFjdGl2ZVRhYklkO1xuICAgICAgICAgICAgaWYgKCFmaW5hbEFjdGl2ZVRhYklkICYmIG5hdHVyZURlbWFuZGUpIHtcbiAgICAgICAgICAgICAgZmluYWxBY3RpdmVUYWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmF0dXJlRGVtYW5kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBzdGlsbCBubyBhY3RpdmUgdGFiIGFuZCB3ZSBoYXZlIHJlY29yZFByb3BlcnRpZXMsIHRyeSB0byBnZXQgc291c19jYXRlZ29yaWUgZnJvbSB0aGVyZVxuICAgICAgICAgICAgaWYgKCFmaW5hbEFjdGl2ZVRhYklkICYmIHJlY29yZFByb3BlcnRpZXNbJ3NvdXNfY2F0ZWdvcmllJ10pIHtcbiAgICAgICAgICAgICAgZmluYWxBY3RpdmVUYWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUocmVjb3JkUHJvcGVydGllc1snc291c19jYXRlZ29yaWUnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCB0YWJzVG9TaG93O1xuICAgICAgICAgICAgaWYgKGZpbmFsQWN0aXZlVGFiSWQpIHtcbiAgICAgICAgICAgICAgdGFic1RvU2hvdyA9IFRBQlNfQ09ORklHLmZpbHRlcih0YWIgPT4gXG4gICAgICAgICAgICAgICAgdGFiLmlkID09PSAnYXV0cmUnIHx8IHRhYi5pZCA9PT0gZmluYWxBY3RpdmVUYWJJZFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHNob3cgYWxsIHRhYnMgaWYgd2UgY2FuJ3QgZGV0ZXJtaW5lIHRoZSBhY3RpdmUgdGFiXG4gICAgICAgICAgICAgIHRhYnNUb1Nob3cgPSBUQUJTX0NPTkZJRztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRhYnNUb1Nob3cubWFwKHRhYiA9PiAoXG4gICAgICAgICAgICAgIDxUYWIga2V5PXt0YWIuaWR9IHRhYklkPXt0YWIuaWR9IHRpdGxlPXt0YWIudGl0bGV9PlxuICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICB7cmVuZGVyRG9jdW1lbnRzVGFibGUoKX1cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPC9UYWI+XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSgpfVxuICAgICAgICA8L1RhYnM+XG4gICAgICAgIDwvQm94PlxuICAgICAgPC9GbGV4PlxuICAgIDwvQm94PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRXh0ZW5zaW9uO1xuIl0sIm5hbWVzIjpbImNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50IiwiU2VydmVybGVzc0V4ZWN1dGlvblN0YXR1cyIsIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJfYSIsImRvc3NpZXJTdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sV0FBUyxVQUFVLHlCQUF5QjtBQUMvQyxXQUFPLEtBQUssVUFBVSx1QkFBdUI7QUFBQSxFQUNqRDtBQUNPLFdBQVMsV0FBVyxNQUFNLFNBQVM7QUFDdEMsV0FBTyxLQUFLLFdBQVcsTUFBTSxPQUFPO0FBQUEsRUFDeEM7QUFDTyxXQUFTLE1BQU0sS0FBSyxTQUFTO0FBQ2hDLFdBQU8sS0FBSyxRQUFRLEtBQUssT0FBTztBQUFB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QUEsTUFBQztBQUFBLE1BQUE7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLFNBQVE7QUFBQSxNQUFBO0FBQUEsTUFFUDtBQUFBLElBQUEsR0FJSixlQUNBLGdCQUFBQSxPQUFBO0FBQUEsTUFBQztBQUFBLE1BQUE7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLFNBQVE7QUFBQSxNQUFBO0FBQUEsTUFDVDtBQUFBLElBQUEsR0FLRCxvQkFDQSxnQkFBQUEsT0FBQTtBQUFBLE1BQUM7QUFBQSxNQUFBO0FBQUEsUUFDQyxPQUFNO0FBQUEsUUFDTixTQUFRO0FBQUEsTUFBQTtBQUFBLE1BQ1Q7QUFBQSxJQUFBLEdBS0YsZ0JBQUFBLE9BQUE7QUFBQSxNQUFDO0FBQUEsTUFBQTtBQUFBLFFBQ0MsYUFBYSxvQkFBQTtBQUFBLFFBQ2I7QUFBQSxRQUNBLFdBQVU7QUFBQSxRQUNWLFlBQVc7QUFBQSxNQUFBO0FBQUEsSUFBQSxHQUdiLGdCQUFBQSxPQUFBLGNBQUMsU0FBQSxJQUFRLHdDQUVSLEtBQUEsTUFDRCxnQkFBQUEsT0FBQTtBQUFBLE1BQUM7QUFBQSxNQUFBO0FBQUEsUUFDQyxTQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDUixrQkFBa0IsQ0FBQyxPQUFPO0FBQ3hCLHlCQUFlLEVBQVk7QUFDM0Isd0JBQWMsRUFBRTtBQUFBLFFBQ2xCO0FBQUEsUUFDRixNQUFNO0FBQUEsTUFBQTtBQUFBLE9BRUosTUFBTTtBQUVOLGNBQU0sY0FBYyxlQUFBO0FBSXBCLFlBQUksbUJBQW1CO0FBQ3ZCLFlBQUksQ0FBQyxvQkFBb0IsZUFBZTtBQUN0Qyw2QkFBbUIsdUJBQXVCLGFBQWE7QUFBQSxRQUN6RDtBQUVBLFlBQUksQ0FBQyxvQkFBb0IsaUJBQWlCLGdCQUFnQixHQUFHO0FBQzNELDZCQUFtQix1QkFBdUIsaUJBQWlCLGdCQUFnQixDQUFDO0FBQUEsUUFDOUU7QUFFQSxZQUFJO0FBQ0osWUFBSSxrQkFBa0I7QUFDcEIsdUJBQWEsWUFBWTtBQUFBLFlBQU8sQ0FBQSxRQUM5QixJQUFJLE9BQU8sV0FBVyxJQUFJLE9BQU87QUFBQSxVQUFBO0FBQUEsUUFFckMsT0FBTztBQUVMLHVCQUFhO0FBQUEsUUFDZjtBQUVBLGVBQU8sV0FBVyxJQUFJLENBQUEsNkNBQ25CLEtBQUEsRUFBSSxLQUFLLElBQUksSUFBSSxPQUFPLElBQUksSUFBSSxPQUFPLElBQUksU0FDMUMsZ0JBQUFBLE9BQUEsY0FBQyxXQUNFLHFCQUFBLENBQ0gsQ0FDRixDQUNEO0FBQUEsTUFDSCxHQUFBO0FBQUEsSUFBRyxDQUVMLENBQ0YsQ0FDRjtBQUFBLEVBRUo7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDJdfQ==
