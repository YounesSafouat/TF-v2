this.DocumentList = this.DocumentList || {};
this.DocumentList.js = (function(React2, react) {
  "use strict";
  function extend_V2(renderExtensionCallback) {
    return self.extend_V2(renderExtensionCallback);
  }
  function serverless(name, options) {
    return self.serverless(name, options);
  }
  function fetch(url, options) {
    return self.hsFetch(url, options);
  }
  const hubspot = {
    extend: extend_V2,
    serverless,
    fetch
  };
  const Alert = react.createRemoteReactComponent("Alert");
  const Button = react.createRemoteReactComponent("Button", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("ButtonRow");
  react.createRemoteReactComponent("Card");
  react.createRemoteReactComponent("DescriptionList");
  react.createRemoteReactComponent("DescriptionListItem");
  const Divider = react.createRemoteReactComponent("Divider");
  const EmptyState = react.createRemoteReactComponent("EmptyState");
  react.createRemoteReactComponent("ErrorState");
  react.createRemoteReactComponent("Form");
  react.createRemoteReactComponent("Heading");
  react.createRemoteReactComponent("Image", {
    fragmentProps: ["overlay"]
  });
  const Input = react.createRemoteReactComponent("Input");
  react.createRemoteReactComponent("Link", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("TextArea");
  react.createRemoteReactComponent("Textarea");
  const LoadingSpinner = react.createRemoteReactComponent("LoadingSpinner");
  const ProgressBar = react.createRemoteReactComponent("ProgressBar");
  react.createRemoteReactComponent("Select");
  const Tag = react.createRemoteReactComponent("Tag", {
    fragmentProps: ["overlay"]
  });
  const Text = react.createRemoteReactComponent("Text");
  react.createRemoteReactComponent("Tile");
  react.createRemoteReactComponent("Stack");
  react.createRemoteReactComponent("ToggleGroup");
  react.createRemoteReactComponent("StatisticsItem");
  react.createRemoteReactComponent("Statistics");
  react.createRemoteReactComponent("StatisticsTrend");
  react.createRemoteReactComponent("Table");
  react.createRemoteReactComponent("TableFooter");
  react.createRemoteReactComponent("TableCell");
  react.createRemoteReactComponent("TableRow");
  react.createRemoteReactComponent("TableBody");
  react.createRemoteReactComponent("TableHeader");
  react.createRemoteReactComponent("TableHead");
  react.createRemoteReactComponent("NumberInput");
  const Box = react.createRemoteReactComponent("Box");
  const StepIndicator = react.createRemoteReactComponent("StepIndicator");
  react.createRemoteReactComponent("Accordion");
  react.createRemoteReactComponent("MultiSelect");
  const Flex = react.createRemoteReactComponent("Flex");
  react.createRemoteReactComponent("DateInput");
  const Checkbox = react.createRemoteReactComponent("Checkbox");
  react.createRemoteReactComponent("RadioButton");
  react.createRemoteReactComponent("List");
  react.createRemoteReactComponent("Toggle");
  react.createRemoteReactComponent("Dropdown");
  react.createRemoteReactComponent("Panel");
  react.createRemoteReactComponent("PanelFooter");
  react.createRemoteReactComponent("PanelBody");
  react.createRemoteReactComponent("PanelSection");
  react.createRemoteReactComponent("StepperInput");
  const Modal = react.createRemoteReactComponent("Modal");
  const ModalBody = react.createRemoteReactComponent("ModalBody");
  const ModalFooter = react.createRemoteReactComponent("ModalFooter");
  react.createRemoteReactComponent("Icon");
  react.createRemoteReactComponent("StatusTag");
  react.createRemoteReactComponent("LoadingButton", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("BarChart");
  react.createRemoteReactComponent("LineChart");
  const Tabs = react.createRemoteReactComponent("Tabs");
  const Tab = react.createRemoteReactComponent("Tab");
  react.createRemoteReactComponent("Illustration");
  var ServerlessExecutionStatus;
  (function(ServerlessExecutionStatus2) {
    ServerlessExecutionStatus2["Success"] = "SUCCESS";
    ServerlessExecutionStatus2["Error"] = "ERROR";
  })(ServerlessExecutionStatus || (ServerlessExecutionStatus = {}));
  const documentsConfig = /* @__PURE__ */ JSON.parse(`[{"id":"timbre_fiscal_de_55","name":"Timbre fiscal de 55 €","requiredProperty":"timbre_fiscal_de_55_required","providedProperty":"timbre_fiscal_de_55_provided","tab":["decret","fraterie"],"order":[1,2],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pre_et_votre_mre_et_de_leur_mariage_sils_sont_maris","name":"Document justifiant de la date et du lieu de naissance de votre père et votre mère et de leur mariage s'ils sont mariés","requiredProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_de_l_required","providedProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_de_l_provided","tab":"decret","order":2,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pre_et_votre_mre_et_de_leur_mariage_sils_sont_maris_fraterie","name":"Document justifiant de la date et du lieu de naissance de votre père et votre mère et de leur mariage s'ils sont mariés","requiredProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_de_l_required","providedProperty":"document_justifiant_de_la_date_et_du_lieu_de_naissance_de_votre_pere_et_votre_mere_et_de_l_provided","tab":"fraterie","order":13,"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"},{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"equals","value":"false"}]},{"id":"copie_rectoverso_du_titre_de_sjour_en_cours_de_validit","name":"Copie recto-verso du titre de séjour en cours de validité","requiredProperty":"copie_rectoverso_du_titre_de_sejour_en_cours_de_validite_required","providedProperty":"copie_rectoverso_du_titre_de_sejour_en_cours_de_validite_provided","tab":["decret","fraterie"],"order":[3,4],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"copie_intgrale_de_toutes_les_pages_du_passeport","name":"Copie intégrale de toutes les pages du passeport","requiredProperty":"copie_integrale_de_toutes_les_pages_du_passeport_required","providedProperty":"copie_integrale_de_toutes_les_pages_du_passeport_provided","tab":["decret"],"order":[4],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"original_et_copie_dun_diplme_brevet_ou_test_de_franais_niveau_b1tcf_ou_delf_ou_dispense_de_moins_de_2_ans","name":"Original et copie d'un diplôme (>= Brevet) ou test de français niveau B1(TCF ou DELF) ou dispense de moins de 2 ans","requiredProperty":"original_et_copie_dun_diplome_brevet_ou_test_de_francais_niveau_b1tcf_ou_delf_ou_dispense__required","providedProperty":"original_et_copie_dun_diplome_brevet_ou_test_de_francais_niveau_b1tcf_ou_delf_ou_dispense__provided","tab":["decret","naturalisation_mariage"],"order":[5,7],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"bordereau_de_situation_fiscale_modle_p237_original_et_rcent","name":"Bordereau de situation fiscale (modèle P237) original et récent","requiredProperty":"bordereau_de_situation_fiscale_modele_p237_original_et_recent_required","providedProperty":"bordereau_de_situation_fiscale_modele_p237_original_et_recent_provided","tab":["decret"],"order":[6],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"copies_de_toutes_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition","name":"Copies de toutes les pages des 3 derniers avis d'imposition ou de non-imposition.","requiredProperty":"copies_de_toutes_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition_required","providedProperty":"copies_de_toutes_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition_provided","tab":["decret"],"order":[7],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"casier_judiciaire_du_pays_dorigine_traduit_via_traducteur_asserment","name":"Casier judiciaire du pays d'origine (traduit via traducteur assermenté)","requiredProperty":"casier_judiciaire_du_pays_dorigine_traduit_via_traducteur_assermente_required","providedProperty":"casier_judiciaire_du_pays_dorigine_traduit_via_traducteur_assermente_provided","tab":["decret"],"order":[9],"conditions":[{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"equals","value":"false"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"copie_intgrale_en_original_de_votre_acte_de_naissance","name":"Copie intégrale en original de votre acte de naissance.","requiredProperty":"copie_integrale_en_original_de_votre_acte_de_naissance_required","providedProperty":"copie_integrale_en_original_de_votre_acte_de_naissance_provided","tab":["decret"],"order":[10],"conditions":[{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"equals","value":"false"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_rmunration_la_date_de_prise_de_fonction_et_lemploi_occup","name":"Contrat de travail en cours mentionnant le montant de la rémunération, la date de prise de fonction et l'emploi occupé","requiredProperty":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_remuneration_la_date_de_prise_de__required","providedProperty":"contrat_de_travail_en_cours_mentionnant_le_montant_de_la_remuneration_la_date_de_prise_de__provided","tab":["decret"],"order":[11],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"les_3_derniers_bulletins_de_salaire","name":"Les 3 derniers bulletins de salaire","requiredProperty":"les_3_derniers_bulletins_de_salaire_required","providedProperty":"les_3_derniers_bulletins_de_salaire_provided","tab":["decret"],"order":[12],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"certificats_originaux_de_lofpra_tenant_lieu_dtat_civil_3_mois","name":"Certificats originaux de l'OFPRA (tenant lieu d'état civil, < 3 mois)","requiredProperty":"certificats_originaux_de_lofpra_tenant_lieu_detat_civil_3_mois_required","providedProperty":"certificats_originaux_de_lofpra_tenant_lieu_detat_civil_3_mois_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[12,12,10],"conditions":[{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"equals","value":"true"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"les_certificats_de_travail_concernant_si_possible_les_3_dernires_annes_ou_le_relev_de_carrire","name":"Les certificats de travail, concernant si possible les 3 dernières années ou le Relevé de Carrière","requiredProperty":"les_certificats_de_travail_concernant_si_possible_les_3_dernieres_annees_ou_le_releve_de_c_required","providedProperty":"les_certificats_de_travail_concernant_si_possible_les_3_dernieres_annees_ou_le_releve_de_c_provided","tab":["decret"],"order":[13],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"fiches_de_paie_de_novembre_dcembre_des_trois_dernires_annes_si_possible","name":"Fiches de paie de novembre & décembre des trois dernières années (si possible).","requiredProperty":"fiches_de_paie_de_novembre_decembre_des_trois_dernieres_annees_si_possible_required","providedProperty":"fiches_de_paie_de_novembre_decembre_des_trois_dernieres_annees_si_possible_provided","tab":["decret"],"order":[14],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Salarié(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_droits_lallocation_daide_au_retour_lemploi","name":"Attestation de droits à l'allocation d'aide au retour à l'emploi","requiredProperty":"attestation_de_droits_a_lallocation_daide_au_retour_a_lemploi_required","providedProperty":"attestation_de_droits_a_lallocation_daide_au_retour_a_lemploi_provided","tab":["decret"],"order":[15],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"les_3_derniers_bordereaux_de_versement_des_indemnits","name":"Les 3 derniers bordereaux de versement des indemnités","requiredProperty":"les_3_derniers_bordereaux_de_versement_des_indemnites_required","providedProperty":"les_3_derniers_bordereaux_de_versement_des_indemnites_provided","tab":["decret"],"order":[16],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"relev_de_carrire","name":"Relevé de carrière.","requiredProperty":"releve_de_carriere_required","providedProperty":"releve_de_carriere_provided","tab":["decret"],"order":[17],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_releve_de_carriere","name":"Autres justificatifs de votre activité professionnelle des 3 dernières années ou le Relevé de Carrière","requiredProperty":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_releve_required","providedProperty":"autres_justificatifs_de_votre_activite_professionnelle_des_3_dernieres_annees_ou_le_releve_provided","tab":["decret"],"order":[18],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Sans emploi (inscrit(e) ou non à Pôle emploi)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"le_dernier_bordereau_de_versement_retraite","name":"Le dernier bordereau de versement retraite","requiredProperty":"le_dernier_bordereau_de_versement_retraite_required","providedProperty":"le_dernier_bordereau_de_versement_retraite_provided","tab":["decret"],"order":[19],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Retraité(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"titre_de_pension_ou_decret_justificatif_de_versement_de_retraite_avec_mention_du_montant_peru_pension","name":"Titre de pension (ou decret justificatif de versement de retraite) avec mention du montant perçu pension","requiredProperty":"titre_de_pension_ou_autre_justificatif_de_versement_de_retraite_avec_mention_du_montant_pe_required","providedProperty":"titre_de_pension_ou_autre_justificatif_de_versement_de_retraite_avec_mention_du_montant_pe_provided","tab":["decret"],"order":[20],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Retraité(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_proprit_acte_de_proprit_du_notaire","name":"Attestation de propriété (acte de propriété du notaire)","requiredProperty":"attestation_de_propriete_acte_de_propriete_du_notaire_required","providedProperty":"attestation_de_propriete_acte_de_propriete_du_notaire_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[20,20,66],"conditions":[{"property":"domicile__","operator":"equals","value":"Propriétaire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"bilan_financier_synthtique_des_3_derniers_exercices_ou_le_relev_de_carrire","name":"Bilan financier synthétique des 3 derniers exercices ou le Relevé de Carrière","requiredProperty":"bilan_financier_synthetique_des_3_derniers_exercices_ou_le_releve_de_carriere_required","providedProperty":"bilan_financier_synthetique_des_3_derniers_exercices_ou_le_releve_de_carriere_provided","tab":["decret"],"order":[21],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernires_factures_de_gaz_lectricit_ou_tlphone_fixe","name":"Justificatif de domicile datant de moins de 6 mois (3 dernières factures de gaz, électricité ou téléphone fixe)","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electricite_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_3_dernieres_factures_de_gaz_electricite_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[21,21,67],"conditions":[{"property":"domicile__","operator":"equals","value":"Propriétaire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"extrait_dimmatriculation_au_registre_du_commerce_ou_des_mtiers","name":"Extrait d’immatriculation au registre du commerce ou des métiers","requiredProperty":"extrait_dimmatriculation_au_registre_du_commerce_ou_des_metiers_required","providedProperty":"extrait_dimmatriculation_au_registre_du_commerce_ou_des_metiers_provided","tab":["decret"],"order":[22],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_de_domicile_datant_de_moins_de_6_mois","name":"Justificatif de domicile datant de moins de 6 mois","requiredProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_required","providedProperty":"justificatif_de_domicile_datant_de_moins_de_6_mois_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[22,22,73],"conditions":[{"property":"domicile__","operator":"equals","value":"Locataire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"statuts_de_la_socit_pour_les_dirigeants_ou_associs","name":"Statuts de la société, pour les dirigeants ou associés","requiredProperty":"statuts_de_la_societe_pour_les_dirigeants_ou_associes_required","providedProperty":"statuts_de_la_societe_pour_les_dirigeants_ou_associes_provided","tab":["decret"],"order":[23],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Artisan / commerçant / gérant / exploitant agricole"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"trois_dernires_quittances_de_loyer","name":"Trois dernières quittances de loyer","requiredProperty":"trois_dernieres_quittances_de_loyer_required","providedProperty":"trois_dernieres_quittances_de_loyer_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[23,23,69],"conditions":[{"property":"domicile__","operator":"equals","value":"Locataire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"certificat_de_scolarit_ou_carte_dinscription_dans_letablissement_denseignement_suprieur_pour_lanne_en_cours","name":"Certificat de scolarité ou carte d’inscription dans l’etablissement d’enseignement supérieur pour l’année en cours","requiredProperty":"certificat_de_scolarite_ou_carte_dinscription_dans_letablissement_denseignement_superieur__required","providedProperty":"certificat_de_scolarite_ou_carte_dinscription_dans_letablissement_denseignement_superieur__provided","tab":["decret"],"order":[24],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Lycéen(ne) / Étudiant(e)"},{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Étudiant(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"contrat_de_location","name":"Contrat de location","requiredProperty":"contrat_de_location_required","providedProperty":"contrat_de_location_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[24,24,70],"conditions":[{"property":"domicile__","operator":"equals","value":"Locataire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"diplme_prcdents_prendre_si_obtenu","name":"Diplôme précédents à prendre (si obtenu)","requiredProperty":"diplome_precedents_a_prendre_si_obtenu_required","providedProperty":"diplome_precedents_a_prendre_si_obtenu_provided","tab":["decret"],"order":[25],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Lycéen(ne) / Étudiant(e)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_dhbergement","name":"Attestation d'hébergement","requiredProperty":"attestation_dhebergement_required","providedProperty":"attestation_dhebergement_provided","tab":["decret","naturalisation_mariage","fraterie"],"order":[25,25,71],"conditions":[{"property":"domicile__","operator":"equals","value":"Je suis hébergé à l'hôtel."},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"pice_didentit_de_lhbergent","name":"Pièce d'identité de l'hébergent","requiredProperty":"piece_didentite_de_lhebergent_required","providedProperty":"piece_didentite_de_lhebergent_provided","tab":["decret","naturalisation_mariage"],"order":[26,26],"conditions":[{"property":"domicile__","operator":"equals","value":"Je suis hébergé à l'hôtel."},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"inscription_lordre","name":"Inscription à l'ordre","requiredProperty":"inscription_a_lordre_required","providedProperty":"inscription_a_lordre_provided","tab":["decret"],"order":[27],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"3_dernires_dclarations_dactivit_trimestrielles","name":"3 dernières déclarations d'activité trimestrielles","requiredProperty":"doc_3_dernieres_declarations_dactivite_trimestrielles_required","providedProperty":"doc_3_dernieres_declarations_dactivite_trimestrielles_provided","tab":["decret"],"order":[28],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_fiscale_des_trois_dernires_annes","name":"Attestation fiscale des trois dernières années.","requiredProperty":"attestation_fiscale_des_trois_dernieres_annees_required","providedProperty":"attestation_fiscale_des_trois_dernieres_annees_provided","tab":["decret"],"order":[29],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Profession libérale"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"contrat_alternance_ou_de_stage_3_dernires_fiches_de_paie","name":"Contrat alternance ou de stage & 3 dernières fiches de paie","requiredProperty":"contrat_alternance_ou_de_stage_3_dernieres_fiches_de_paie_required","providedProperty":"contrat_alternance_ou_de_stage_3_dernieres_fiches_de_paie_provided","tab":["decret"],"order":[30],"conditions":[{"property":"quelle_est_votre_situation_professionnel__","operator":"in","value":"Stagiaire de la formation professionnelle"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"copie_intgrale_de_lacte_de_mariage_et_sa_traduction_par_traducteur_asserment_ou_le_consulat_sil_sagit_dun_acte_tranger_de_moins_de_3mois","name":"Copie intégrale de l'acte de mariage (et sa traduction par traducteur assermenté ou le consulat s'il s'agit d'un acte étranger) de moins de 3mois","requiredProperty":"copie_integrale_de_lacte_de_mariage_et_sa_traduction_par_traducteur_assermente_ou_le_consu_required","providedProperty":"copie_integrale_de_lacte_de_mariage_et_sa_traduction_par_traducteur_assermente_ou_le_consu_provided","tab":["decret","fraterie"],"order":[31,13],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"document_didentit_du_conjoint_attestant_la_ou_les_nationalits_dorigine","name":"Document d'identité du conjoint attestant la (ou les) nationalité(s) d'origine","requiredProperty":"document_didentite_du_conjoint_attestant_la_ou_les_nationalites_dorigine_required","providedProperty":"document_didentite_du_conjoint_attestant_la_ou_les_nationalites_dorigine_provided","tab":["decret","fraterie"],"order":[32,14],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"titre_de_sjour_du_conjointe_ou_concubine","name":"Titre de séjour du conjoint(e) ou concubin(e)","requiredProperty":"titre_de_sejour_du_conjointe_ou_concubine_required","providedProperty":"titre_de_sejour_du_conjointe_ou_concubine_provided","tab":["decret"],"order":[33],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"avis_dimposition_ou_de_nonimposition_du_conjointconcubin_des_3_dernires_annes","name":"Avis d’imposition (ou de non-imposition) du conjoint/concubin des 3 dernières années","requiredProperty":"avis_dimposition_ou_de_nonimposition_du_conjointconcubin_des_3_dernieres_annees_required","providedProperty":"avis_dimposition_ou_de_nonimposition_du_conjointconcubin_des_3_dernieres_annees_provided","tab":["decret"],"order":[34],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_sur_lhonneur_de_vie_commune","name":"Attestation sur l'honneur de vie commune","requiredProperty":"attestation_sur_lhonneur_de_vie_commune_required","providedProperty":"attestation_sur_lhonneur_de_vie_commune_provided","tab":["decret","fraterie"],"order":[35,18],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"preuves_de_communaut_de_vie","name":"Preuves de communauté de vie","requiredProperty":"preuves_de_communaute_de_vie_required","providedProperty":"preuves_de_communaute_de_vie_provided","tab":["decret","fraterie"],"order":[36,18],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"id_du_concubin_ou_titre_de_sjourvisa_si_tranger","name":"ID du concubin OU Titre de séjour/visa (si étranger)","requiredProperty":"id_du_concubin_ou_titre_de_sejourvisa_si_etranger_required","providedProperty":"id_du_concubin_ou_titre_de_sejourvisa_si_etranger_provided","tab":["decret","fraterie"],"order":[37,19],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"3_dernires_fiches_de_paie_du_concucin_3_derniers_avis_dimpts_contrat_de_travail","name":"3 dernières fiches de paie du concucin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"doc_3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_dimpots_contrat_de_travail_required","providedProperty":"doc_3_dernieres_fiches_de_paie_du_concucin_3_derniers_avis_dimpots_contrat_de_travail_provided","tab":["decret"],"order":[38],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"conventionattestation_de_pacs","name":"Convention/attestation de PACS","requiredProperty":"conventionattestation_de_pacs_required","providedProperty":"conventionattestation_de_pacs_provided","tab":["decret","fraterie"],"order":[39,21],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"justificatifs_de_vie_commune","name":"Justificatifs de vie commune","requiredProperty":"justificatifs_de_vie_commune_required","providedProperty":"justificatifs_de_vie_commune_provided","tab":["decret","fraterie"],"order":[40,22],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"id_du_partenaire","name":"ID du partenaire","requiredProperty":"id_du_partenaire_required","providedProperty":"id_du_partenaire_provided","tab":["decret","fraterie"],"order":[41,23],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"d1_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D1 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d1_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"d1_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[43,26],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"d1_dcision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D1 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d1_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_required","providedProperty":"d1_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_provided","tab":["decret"],"order":[44],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 1er mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"d2_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D2 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d2_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"d2_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[45,27],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"d2_dcision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D2 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d2_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_required","providedProperty":"d2_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_provided","tab":["decret","fraterie"],"order":[46,28],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 2e mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"d3_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D3 Acte attestant l’union - acte de mariage (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d3_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"d3_acte_attestant_lunion_acte_de_mariage_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[47,29],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"d3_dcision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"D3 Décision de dissolution de l’union - acte de divorce (et sa traduction s’il s’agit d’un acte étranger)","requiredProperty":"d3_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_required","providedProperty":"d3_decision_de_dissolution_de_lunion_acte_de_divorce_et_sa_traduction_sil_sagit_dun_acte_e_provided","tab":["decret","fraterie"],"order":[48,30],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Divorcé(e) – 3e mariage"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"ordonnancejuge_sparation_de_corps","name":"Ordonnance/juge – séparation de corps","requiredProperty":"ordonnancejuge_separation_de_corps_required","providedProperty":"ordonnancejuge_separation_de_corps_provided","tab":["decret","fraterie"],"order":[49,31],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"mesures_accessoires_pension_logement","name":"Mesures accessoires (pension, logement…)","requiredProperty":"mesures_accessoires_pension_logement_required","providedProperty":"mesures_accessoires_pension_logement_provided","tab":["decret","fraterie"],"order":[50,32],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Séparé(e) légalement"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"acte_de_dcs_du_conjoint","name":"Acte de décès du conjoint","requiredProperty":"acte_de_deces_du_conjoint_required","providedProperty":"acte_de_deces_du_conjoint_provided","tab":["decret","fraterie"],"order":[51,33],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"acte_de_mariage","name":"Acte de mariage","requiredProperty":"acte_de_mariage_required","providedProperty":"acte_de_mariage_provided","tab":["decret","fraterie"],"order":[52,34],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Veuf(ve)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em1_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM1 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em1_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em1_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[54,38],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em1_passeport_ou_pice_didentit","name":"EM1 Passeport ou Pièce d'identité","requiredProperty":"em1_passeport_ou_piece_didentite_required","providedProperty":"em1_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[54,37],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em1_justificatif_de_rsidence_en_france","name":"EM1 Justificatif de résidence en France","requiredProperty":"em1_justificatif_de_residence_en_france_required","providedProperty":"em1_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[56,39],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°1"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em2_passeport_ou_pice_didentit","name":"EM2 Passeport ou Pièce d'identité","requiredProperty":"em2_passeport_ou_piece_didentite_required","providedProperty":"em2_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[57,40],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em2_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM2 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em2_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em2_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[58,41],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em2_justificatif_de_rsidence_en_france","name":"EM2 Justificatif de résidence en France","requiredProperty":"em2_justificatif_de_residence_en_france_required","providedProperty":"em2_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[59,45],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°2"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em3_passeport_ou_pice_didentit","name":"EM3 Passeport ou Pièce d'identité","requiredProperty":"em3_passeport_ou_piece_didentite_required","providedProperty":"em3_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[60,43],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em3_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM3 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em3_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em3_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[61,44],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em3_justificatif_de_rsidence_en_france","name":"EM3 Justificatif de résidence en France","requiredProperty":"em3_justificatif_de_residence_en_france_required","providedProperty":"em3_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[62,48],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°3"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em4_passeport_ou_pice_didentit","name":"EM4 Passeport ou Pièce d'identité","requiredProperty":"em4_passeport_ou_piece_didentite_required","providedProperty":"em4_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[63,46],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em4_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM4 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em4_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em4_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[64,47],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em4_justificatif_de_rsidence_en_france","name":"EM4 Justificatif de résidence en France","requiredProperty":"em4_justificatif_de_residence_en_france_required","providedProperty":"em4_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[65,51],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°4"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em5_passeport_ou_pice_didentit","name":"EM5 Passeport ou Pièce d'identité","requiredProperty":"em5_passeport_ou_piece_didentite_required","providedProperty":"em5_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[66,49],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em5_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM5 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em5_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em5_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[67,50],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em5_justificatif_de_rsidence_en_france","name":"EM5 Justificatif de résidence en France","requiredProperty":"em5_justificatif_de_residence_en_france_required","providedProperty":"em5_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[68,54],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°5"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em6_passeport_ou_pice_didentit","name":"EM6 Passeport ou Pièce d'identité","requiredProperty":"em6_passeport_ou_piece_didentite_required","providedProperty":"em6_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[69,52],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em6_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM6 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em6_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em6_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[70,53],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em6_justificatif_de_rsidence_en_france","name":"EM6 Justificatif de résidence en France","requiredProperty":"em6_justificatif_de_residence_en_france_required","providedProperty":"em6_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[71,57],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°6"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em7_passeport_ou_pice_didentit","name":"EM7 Passeport ou Pièce d'identité","requiredProperty":"em7_passeport_ou_piece_didentite_required","providedProperty":"em7_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[72,55],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em7_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM7 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em7_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em7_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[73,56],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em7_justificatif_de_rsidence_en_france","name":"EM7 Justificatif de résidence en France","requiredProperty":"em7_justificatif_de_residence_en_france_required","providedProperty":"em7_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[74,60],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°7"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em8_passeport_ou_pice_didentit","name":"EM8 Passeport ou Pièce d'identité","requiredProperty":"em8_passeport_ou_piece_didentite_required","providedProperty":"em8_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[75,58],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em8_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM8 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em8_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em8_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[76,59],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em8_justificatif_de_rsidence_en_france","name":"EM8 Justificatif de résidence en France","requiredProperty":"em8_justificatif_de_residence_en_france_required","providedProperty":"em8_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[77,63],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°8"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em9_passeport_ou_pice_didentit","name":"EM9 Passeport ou Pièce d'identité","requiredProperty":"em9_passeport_ou_piece_didentite_required","providedProperty":"em9_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[78,61],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em9_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM9 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em9_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em9_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[79,62],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em9_justificatif_de_rsidence_en_france","name":"EM9 Justificatif de résidence en France","requiredProperty":"em9_justificatif_de_residence_en_france_required","providedProperty":"em9_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[80,66],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°9"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em10_passeport_ou_pice_didentit","name":"EM10 Passeport ou Pièce d'identité","requiredProperty":"em10_passeport_ou_piece_didentite_required","providedProperty":"em10_passeport_ou_piece_didentite_provided","tab":["decret","fraterie"],"order":[81,64],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em10_copie_intgrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_tranger","name":"EM10 Copie intégrale de l'acte de naissance (et sa traduction s'il s'agit d'un acte étranger)","requiredProperty":"em10_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_required","providedProperty":"em10_copie_integrale_de_lacte_de_naissance_et_sa_traduction_sil_sagit_dun_acte_etranger_provided","tab":["decret","fraterie"],"order":[82,65],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"em10_justificatif_de_rsidence_en_france","name":"EM10 Justificatif de résidence en France","requiredProperty":"em10_justificatif_de_residence_en_france_required","providedProperty":"em10_justificatif_de_residence_en_france_provided","tab":["decret","fraterie"],"order":[83,69],"conditions":[{"property":"avez_vous_des_enfant_mineur__","operator":"in","value":"Enfant mineur n°10"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"attestation_caf_rsa_apl_af_etc","name":"Attestation CAF (RSA, APL, AF, etc.)","requiredProperty":"attestation_caf_rsa_apl_af_etc_required","providedProperty":"attestation_caf_rsa_apl_af_etc_provided","tab":["decret"],"order":[92],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Prestations CAF"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"dernier_bordereau_de_paiement_caf","name":"Dernier bordereau de paiement CAF","requiredProperty":"dernier_bordereau_de_paiement_caf_required","providedProperty":"dernier_bordereau_de_paiement_caf_provided","tab":["decret"],"order":[93],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Prestations CAF"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_lorganisme_msacpample_emploiretraite","name":"Attestation de l’organisme MSA/CPAM/Pôle emploi/retraite","requiredProperty":"attestation_de_lorganisme_msacpampole_emploiretraite_required","providedProperty":"attestation_de_lorganisme_msacpampole_emploiretraite_provided","tab":["decret"],"order":[94],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Prestations d’autres organismes (MSA/CPAM/Pôle emploi/retraite)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_du_dernier_versement_msacpample_emploiretraite","name":"Justificatif du dernier versement MSA/CPAM/Pôle emploi/retraite","requiredProperty":"justificatif_du_dernier_versement_msacpampole_emploiretraite_required","providedProperty":"justificatif_du_dernier_versement_msacpampole_emploiretraite_provided","tab":["decret"],"order":[95],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Prestations d’autres organismes (MSA/CPAM/Pôle emploi/retraite)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"dernier_avis_dimposition","name":"Dernier avis d’imposition","requiredProperty":"dernier_avis_dimposition_required","providedProperty":"dernier_avis_dimposition_provided","tab":["decret"],"order":[96],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"relevs_fonciers_2044_le_cas_chant","name":"Relevés fonciers 2044 le cas échéant","requiredProperty":"releves_fonciers_2044_le_cas_echeant_required","providedProperty":"releves_fonciers_2044_le_cas_echeant_provided","tab":["decret"],"order":[97],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"bauxattestations_de_loyers","name":"Baux/attestations de loyers","requiredProperty":"bauxattestations_de_loyers_required","providedProperty":"bauxattestations_de_loyers_provided","tab":["decret"],"order":[98],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"reus_de_loyers_relevs_bancaires_dividendes_intrts","name":"Reçus de loyers / relevés bancaires (dividendes, intérêts)","requiredProperty":"recus_de_loyers_releves_bancaires_dividendes_interets_required","providedProperty":"recus_de_loyers_releves_bancaires_dividendes_interets_provided","tab":["decret"],"order":[99],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de France"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestations_fiscalesrelevs_trangers","name":"Attestations fiscales/relevés étrangers","requiredProperty":"attestations_fiscalesreleves_etrangers_required","providedProperty":"attestations_fiscalesreleves_etrangers_provided","tab":["decret"],"order":[100],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"traduction_assermente_attestations_fiscalesrelevs_trangers","name":"Traduction assermentée Attestations fiscales/relevés étrangers","requiredProperty":"traduction_assermentee_attestations_fiscalesreleves_etrangers_required","providedProperty":"traduction_assermentee_attestations_fiscalesreleves_etrangers_provided","tab":["decret"],"order":[101],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"lgalisationapostille_des_attestations_fiscalesrelevs_trangers_si_requis","name":"Légalisation/apostille des Attestations fiscales/relevés étrangers si requis","requiredProperty":"legalisationapostille_des_attestations_fiscalesreleves_etrangers_si_requis_required","providedProperty":"legalisationapostille_des_attestations_fiscalesreleves_etrangers_si_requis_provided","tab":["decret"],"order":[102],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Revenus mobiliers/immobiliers de l’étranger"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"jugementaccord_fixant_la_pension","name":"Jugement/accord fixant la pension","requiredProperty":"jugementaccord_fixant_la_pension_required","providedProperty":"jugementaccord_fixant_la_pension_provided","tab":["decret"],"order":[103],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension alimentaire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"preuves_de_versement_de_la_pension_alimentaire_relevs_bancairesattestations","name":"Preuves de versement de la pension alimentaire (relevés bancaires/attestations)","requiredProperty":"preuves_de_versement_de_la_pension_alimentaire_releves_bancairesattestations_required","providedProperty":"preuves_de_versement_de_la_pension_alimentaire_releves_bancairesattestations_provided","tab":["decret"],"order":[104],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension alimentaire"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_pension_cpamorganisme","name":"Attestation de pension (CPAM/organisme)","requiredProperty":"attestation_de_pension_cpamorganisme_required","providedProperty":"attestation_de_pension_cpamorganisme_provided","tab":["decret"],"order":[105],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension d’invalidité"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"dernier_bordereau_de_paiement_cpamorganisme","name":"Dernier bordereau de paiement (CPAM/Organisme)","requiredProperty":"dernier_bordereau_de_paiement_cpamorganisme_required","providedProperty":"dernier_bordereau_de_paiement_cpamorganisme_provided","tab":["decret"],"order":[106],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension d’invalidité"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_rversion_caisse_de_retraite","name":"Attestation de réversion (caisse de retraite)","requiredProperty":"attestation_de_reversion_caisse_de_retraite_required","providedProperty":"attestation_de_reversion_caisse_de_retraite_provided","tab":["decret"],"order":[107],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension de réversion"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_du_dernier_versement_pension_de_rversion","name":"Justificatif du dernier versement Pension de réversion","requiredProperty":"justificatif_du_dernier_versement_pension_de_reversion_required","providedProperty":"justificatif_du_dernier_versement_pension_de_reversion_provided","tab":["decret"],"order":[108],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pension de réversion"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_dautres_organisme_payeur","name":"Attestation d'autres organisme payeur","requiredProperty":"attestation_dautres_organisme_payeur_required","providedProperty":"attestation_dautres_organisme_payeur_provided","tab":["decret"],"order":[109],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Autre pension"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_du_dernier_versement_dautre_pension","name":"Justificatif du dernier versement d'autre pension","requiredProperty":"justificatif_du_dernier_versement_dautre_pension_required","providedProperty":"justificatif_du_dernier_versement_dautre_pension_provided","tab":["decret"],"order":[110],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Autre pension"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"attestation_de_prise_en_charge_signe","name":"Attestation de prise en charge signée","requiredProperty":"attestation_de_prise_en_charge_signee_required","providedProperty":"attestation_de_prise_en_charge_signee_provided","tab":["decret"],"order":[111],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"pice_didentit_du_garant","name":"Pièce d’identité du garant","requiredProperty":"piece_didentite_du_garant_required","providedProperty":"piece_didentite_du_garant_provided","tab":["decret"],"order":[112],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_indpendant_avis_dimpt","name":"Justificatifs de ressources du garant (contrat + 3 bulletins / bilan si indépendant + avis d’impôt)","requiredProperty":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_independant_avis_dimpot_required","providedProperty":"justificatifs_de_ressources_du_garant_contrat_3_bulletins_bilan_si_independant_avis_dimpot_provided","tab":["decret"],"order":[113],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"justificatif_de_domicile_du_garant","name":"Justificatif de domicile du garant","requiredProperty":"justificatif_de_domicile_du_garant_required","providedProperty":"justificatif_de_domicile_du_garant_provided","tab":["decret"],"order":[114],"conditions":[{"property":"percevez_vous_","operator":"in","value":"Pris(e) en charge par un tiers (garant)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par décret"}]},{"id":"formulaire_de_demande_cerfa_n1556203_2_exemplaires_renseignes","name":"Formulaire de demande CERFA N°15562*03 (2 exemplaires, renseignés)","requiredProperty":"formulaire_de_demande_cerfa_n1556203_2_exemplaires_renseignes_required","providedProperty":"formulaire_de_demande_cerfa_n1556203_2_exemplaires_renseignes_provided","tab":["fraterie"],"order":[1],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"photos_didentite_2_pour_le_demandeur","name":"Photos d'identité (2 pour le demandeur)","requiredProperty":"photos_didentite_2_pour_le_demandeur_required","providedProperty":"photos_didentite_2_pour_le_demandeur_provided","tab":["fraterie"],"order":[3],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans","name":"Certificats de scolarité ou radiation (couvrant la période de 6 à 16 ans)","requiredProperty":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans_required","providedProperty":"certificats_de_scolarite_ou_radiation_couvrant_la_periode_de_6_a_16_ans_provided","tab":["fraterie"],"order":[5],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"tout_document_justifiant_la_residence_continue_en_france_depuis_lage_de_16_ans_contrats_po","name":"Tout document justifiant la résidence continue en France depuis l'âge de 16 ans (contrats, Pôle emploi, relevé de carrière...)","requiredProperty":"tout_document_justifiant_la_residence_continue_en_france_depuis_lage_de_16_ans_contrats_po_required","providedProperty":"tout_document_justifiant_la_residence_continue_en_france_depuis_lage_de_16_ans_contrats_po_provided","tab":["fraterie"],"order":[6],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"carte_nationale_didentite_2_photocopies_rv_du_frere_ou_de_la_sur","name":"Carte nationale d'identité (2 photocopies R/V) du frère ou de la sœur","requiredProperty":"carte_nationale_didentite_2_photocopies_rv_du_frere_ou_de_la_sur_required","providedProperty":"carte_nationale_didentite_2_photocopies_rv_du_frere_ou_de_la_sur_provided","tab":["fraterie"],"order":[7],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"copie_integrale_originale_de_lacte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la_sur","name":"Copie intégrale originale de l'acte de naissance de moins de 3 mois du frère ou de la sœur","requiredProperty":"copie_integrale_originale_de_lacte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la_sur_required","providedProperty":"copie_integrale_originale_de_lacte_de_naissance_de_moins_de_3_mois_du_frere_ou_de_la_sur_provided","tab":["fraterie"],"order":[8],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"certificat_de_nationalite_francaise_du_frere_ou_de_la_sur_original_et_copie","name":"Certificat de nationalité française du frère ou de la sœur (Original et copie)","requiredProperty":"certificat_de_nationalite_francaise_du_frere_ou_de_la_sur_original_et_copie_required","providedProperty":"certificat_de_nationalite_francaise_du_frere_ou_de_la_sur_original_et_copie_provided","tab":["fraterie"],"order":[9],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"copie_integrale_originale_de_votre_acte_de_naissance","name":"Copie intégrale originale de votre acte de naissance","requiredProperty":"copie_integrale_originale_de_votre_acte_de_naissance_required","providedProperty":"copie_integrale_originale_de_votre_acte_de_naissance_provided","tab":["fraterie"],"order":[11],"conditions":[{"property":"avez_vous_un_statut_refugie_ou_apatride__","operator":"equals","value":"false"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"copie_rectoverso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin","name":"Copie recto-verso du titre de séjour en cours de validité du conjoint (ou concubin)","requiredProperty":"copie_rectoverso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin_required","providedProperty":"copie_rectoverso_du_titre_de_sejour_en_cours_de_validite_du_conjoint_ou_concubin_provided","tab":["fraterie"],"order":[15],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"copie_de_tous_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition","name":"Copie de tous les pages des 3 derniers avis d'imposition ou de non-imposition","requiredProperty":"copie_de_tous_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition_required","providedProperty":"copie_de_tous_les_pages_des_3_derniers_avis_dimposition_ou_de_nonimposition_provided","tab":["fraterie"],"order":[16],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Marié(e) (situation actuelle)"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"doc_3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_dimpots_contrat_de_travail","name":"3 dernières fiches de paie du concubin + 3 derniers avis d'impôts + contrat de travail","requiredProperty":"doc_3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_dimpots_contrat_de_travail_required","providedProperty":"doc_3_dernieres_fiches_de_paie_du_concubin_3_derniers_avis_dimpots_contrat_de_travail_provided","tab":["fraterie"],"order":[24],"conditions":[{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"Concubinage (vie commune)"},{"property":"quelle_est_votre_situation_familliale","operator":"in","value":"PACS"},{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"piece_didentite_de_lhebergeant","name":"Pièce d'identité de l'hébergeant","requiredProperty":"piece_didentite_de_lhebergeant_required","providedProperty":"piece_didentite_de_lhebergeant_provided","tab":["fraterie"],"order":[72],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par fratrie"}]},{"id":"formulaire_de_demande_cerfa_n1527704_2_exemplaires_signes_par_les_deux_epoux","name":"Formulaire de demande Cerfa n°1527704 (2 exemplaires, signés par les deux époux)","requiredProperty":"formulaire_de_demande_cerfa_n1527704_2_exemplaires_signes_par_les_deux_epoux_required","providedProperty":"formulaire_de_demande_cerfa_n1527704_2_exemplaires_signes_par_les_deux_epoux_provided","tab":["naturalisation_mariage"],"order":[1],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"timbre_fiscal_electronique_55_euros","name":"Timbre fiscal électronique (55 euros)","requiredProperty":"timbre_fiscal_electronique_55_euros_required","providedProperty":"timbre_fiscal_electronique_55_euros_provided","tab":["naturalisation_mariage"],"order":[2],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"photos_didentite_2_pour_le_demandeur_2_pour_le_conjoint","name":"Photos d'identité (2 pour le demandeur, 2 pour le conjoint)","requiredProperty":"photos_didentite_2_pour_le_demandeur_2_pour_le_conjoint_required","providedProperty":"photos_didentite_2_pour_le_demandeur_2_pour_le_conjoint_provided","tab":["naturalisation_mariage"],"order":[3],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"titre_de_sejour_2_photocopies_rv_en_cours_de_validite","name":"Titre de séjour (2 photocopies R/V en cours de validité)","requiredProperty":"titre_de_sejour_2_photocopies_rv_en_cours_de_validite_required","providedProperty":"titre_de_sejour_2_photocopies_rv_en_cours_de_validite_provided","tab":["naturalisation_mariage"],"order":[4],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"documents_etat_civil_des_parents_photocopie_acte_naissancemariagedeces_ou_livret","name":"Documents état civil des parents (Photocopie acte naissance/mariage/décès ou livret)","requiredProperty":"documents_etat_civil_des_parents_photocopie_acte_naissancemariagedeces_ou_livret_required","providedProperty":"documents_etat_civil_des_parents_photocopie_acte_naissancemariagedeces_ou_livret_provided","tab":["naturalisation_mariage"],"order":[5],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"acte_de_mariage_2_copies_integrales_originales_3_mois","name":"Acte de mariage (2 copies intégrales originales, < 3 mois)","requiredProperty":"acte_de_mariage_2_copies_integrales_originales_3_mois_required","providedProperty":"acte_de_mariage_2_copies_integrales_originales_3_mois_provided","tab":["naturalisation_mariage"],"order":[6],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"carte_nationale_didentite_2_photocopies_rv_du_conjoint","name":"Carte nationale d'identité (2 photocopies R/V) du conjoint","requiredProperty":"carte_nationale_didentite_2_photocopies_rv_du_conjoint_required","providedProperty":"carte_nationale_didentite_2_photocopies_rv_du_conjoint_provided","tab":["naturalisation_mariage"],"order":[8],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"documents_etat_civil_des_parents_copie_acte_naissancedeces_ou_livret_du_conjoint","name":"Documents état civil des parents (Copie acte naissance/décès ou livret) du conjoint","requiredProperty":"documents_etat_civil_des_parents_copie_acte_naissancedeces_ou_livret_du_conjoint_required","providedProperty":"documents_etat_civil_des_parents_copie_acte_naissancedeces_ou_livret_du_conjoint_provided","tab":["naturalisation_mariage"],"order":[9],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"avis_dimposition_2_copies_rv_4_dernieres_annees","name":"Avis d'imposition (2 copies R/V, 4 dernières années)","requiredProperty":"avis_dimposition_2_copies_rv_4_dernieres_annees_required","providedProperty":"avis_dimposition_2_copies_rv_4_dernieres_annees_provided","tab":["naturalisation_mariage"],"order":[10],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"preuves_de_vie_commune","name":"Preuves de vie commune","requiredProperty":"preuves_de_vie_commune_required","providedProperty":"preuves_de_vie_commune_provided","tab":["naturalisation_mariage"],"order":[11],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"copie_integrale_originale_de_lacte_de_naissance_du_lieu_de_naissance","name":"Copie intégrale originale de l'acte de naissance (du lieu de naissance)","requiredProperty":"copie_integrale_originale_de_lacte_de_naissance_du_lieu_de_naissance_required","providedProperty":"copie_integrale_originale_de_lacte_de_naissance_du_lieu_de_naissance_provided","tab":["naturalisation_mariage"],"order":[13],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_dinscription_","name":"Justificatif de 3 ans de résidence en France (depuis le mariage) OU Certificat d'inscription du conjoint (registre des Français établis hors de France)","requiredProperty":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_dinscription__required","providedProperty":"justificatif_de_3_ans_de_residence_en_france_depuis_le_mariage_ou_certificat_dinscription__provided","tab":["naturalisation_mariage"],"order":[14],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois","name":"Copie de la transcription (délivrée par les autorités françaises, < 3 mois)","requiredProperty":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois_required","providedProperty":"copie_de_la_transcription_delivree_par_les_autorites_francaises_3_mois_provided","tab":["naturalisation_mariage"],"order":[15],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"copies_integrales_originales_des_actes_de_mariage_et_documents_prouvant_la_dissolution_jug","name":"Copies intégrales originales des actes de mariage ET Documents prouvant la dissolution (jugement divorce, acte de décès)","requiredProperty":"copies_integrales_originales_des_actes_de_mariage_et_documents_prouvant_la_dissolution_jug_required","providedProperty":"copies_integrales_originales_des_actes_de_mariage_et_documents_prouvant_la_dissolution_jug_provided","tab":["naturalisation_mariage"],"order":[16],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"doc_2_copies_integrales_des_actes_de_naissance_pour_tous_les_enfants","name":"2 copies intégrales des actes de naissance (pour tous les enfants)","requiredProperty":"doc_2_copies_integrales_des_actes_de_naissance_pour_tous_les_enfants_required","providedProperty":"doc_2_copies_integrales_des_actes_de_naissance_pour_tous_les_enfants_provided","tab":["naturalisation_mariage"],"order":[17],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"en_plus_de_lacte_de_naissance_justificatifs_de_residence_habituelle_certificat_scolarite_c","name":"(En plus de l'acte de naissance) Justificatifs de résidence habituelle (certificat scolarité, crèche, jugement de garde, etc.)","requiredProperty":"en_plus_de_lacte_de_naissance_justificatifs_de_residence_habituelle_certificat_scolarite_c_required","providedProperty":"en_plus_de_lacte_de_naissance_justificatifs_de_residence_habituelle_certificat_scolarite_c_provided","tab":["naturalisation_mariage"],"order":[18],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]},{"id":"original_de_lextrait_du_casier_judiciaire_etranger_des_pays_de_residence_des_10_dernieres_","name":"Original de l'extrait du casier judiciaire étranger (des pays de résidence des 10 dernières années) + traduction + légalisation/apostille","requiredProperty":"original_de_lextrait_du_casier_judiciaire_etranger_des_pays_de_residence_des_10_dernieres__required","providedProperty":"original_de_lextrait_du_casier_judiciaire_etranger_des_pays_de_residence_des_10_dernieres__provided","tab":["naturalisation_mariage"],"order":[19],"conditions":[{"property":"sous_categorie","operator":"equals","value":"Naturalisation par mariage"}]}]`);
  const tabsConfig = [
    {
      id: "decret",
      title: "Décret",
      description: "Documents liés au décret"
    },
    {
      id: "naturalisation_mariage",
      title: "Naturalisation Mariage",
      description: "Documents liés à la naturalisation par mariage"
    },
    {
      id: "autre",
      title: "Autre",
      description: "Autres documents"
    },
    {
      id: "fraterie",
      title: "Naturalisation par fratrie",
      description: "Documents liés à la naturalisation par fratrie"
    }
  ];
  const conditionalPropertiesConfig = [
    "sous_categorie",
    "avez_vous_un_statut_refugie_ou_apatride__",
    "quelle_est_votre_situation_professionnel__",
    "quelle_est_votre_situation_familliale",
    "avez_vous_des_enfant_mineur__",
    "domicile__",
    "percevez_vous_"
  ];
  hubspot.extend(({ context, actions }) => /* @__PURE__ */ React2.createElement(Extension, { context, actions }));
  const DOCUMENTS_CONFIG = documentsConfig;
  const TABS_CONFIG = tabsConfig;
  const INITIAL_DOCUMENTS = DOCUMENTS_CONFIG.map((config) => ({
    id: config.id,
    name: config.name,
    required: false,
    provided: false,
    requiredProperty: config.requiredProperty,
    providedProperty: config.providedProperty,
    tab: config.tab,
    order: config.order,
    conditions: config.conditions
  }));
  const COMPLETION_PROPERTY = "documents_completed";
  const DOSSIER_STATE_PROPERTY = "etat_du_dossier";
  const DOSSIER_STATES = {
    TO_BUILD: "À construire",
    INCOMPLETE: "En construction",
    COMPLETE: "Complet"
  };
  const getTabValue = (tab) => {
    return Array.isArray(tab) ? tab[0] : tab;
  };
  const documentBelongsToTab = (doc, tabId) => {
    if (Array.isArray(doc.tab)) {
      return doc.tab.includes(tabId);
    }
    return doc.tab === tabId;
  };
  const getOrderForTab = (doc, tabId) => {
    if (Array.isArray(doc.order)) {
      const tabArray = Array.isArray(doc.tab) ? doc.tab : [doc.tab];
      const tabIndex = tabArray.indexOf(tabId);
      if (tabIndex >= 0 && tabIndex < doc.order.length) {
        return doc.order[tabIndex];
      }
      return doc.order[0] ?? 9999;
    }
    return doc.order ?? 9999;
  };
  const toBool = (value) => {
    if (typeof value === "boolean") {
      return value;
    }
    if (value === null || value === void 0 || value === "") {
      return false;
    }
    if (typeof value === "string") {
      const lower = value.toLowerCase().trim();
      if (lower === "true" || lower === "1" || lower === "yes" || lower === "oui") {
        return true;
      }
      if (lower === "false" || lower === "0" || lower === "no" || lower === "non" || lower === "--") {
        return false;
      }
      return false;
    }
    if (typeof value === "number") {
      return value !== 0;
    }
    return Boolean(value);
  };
  const Extension = ({ context, actions }) => {
    var _a;
    const [documents, setDocuments] = React2.useState(INITIAL_DOCUMENTS);
    const [recordProperties, setRecordProperties] = React2.useState({});
    const [loading, setLoading] = React2.useState(true);
    const [saving, setSaving] = React2.useState(false);
    const [error, setError] = React2.useState("");
    const [isChanged, setIsChanged] = React2.useState(false);
    const [isCompleted, setIsCompleted] = React2.useState(false);
    const [existingProperties, setExistingProperties] = React2.useState(/* @__PURE__ */ new Set());
    const [dossierState, setDossierState] = React2.useState(DOSSIER_STATES.TO_BUILD);
    const [initialCompletionStatus, setInitialCompletionStatus] = React2.useState(false);
    const [initialDossierState, setInitialDossierState] = React2.useState(DOSSIER_STATES.TO_BUILD);
    const [showSuccess, setShowSuccess] = React2.useState(false);
    const [showEmailSuccess, setShowEmailSuccess] = React2.useState(false);
    const [selectedTab, setSelectedTab] = React2.useState(((_a = TABS_CONFIG[0]) == null ? void 0 : _a.id) || "autre");
    const [searchTerm, setSearchTerm] = React2.useState("");
    const [natureDemande, setNatureDemande] = React2.useState("");
    const [isRefugieApatride, setIsRefugieApatride] = React2.useState(false);
    const [refugieRaw, setRefugieRaw] = React2.useState("");
    const checkCompletion = (docs) => {
      const incompleteRequired = docs.find((doc) => doc.required && !doc.provided);
      const hasRequiredDocs = docs.some((doc) => doc.required);
      return !incompleteRequired && hasRequiredDocs;
    };
    const calculateDossierState = (docs) => {
      const hasRequiredDocs = docs.some((doc) => doc.required);
      if (!hasRequiredDocs) {
        return DOSSIER_STATES.TO_BUILD;
      }
      const anyProvided = docs.some((doc) => doc.provided);
      if (anyProvided) {
        const allRequiredProvided = !docs.some((doc) => doc.required && !doc.provided);
        return allRequiredProvided ? DOSSIER_STATES.COMPLETE : DOSSIER_STATES.INCOMPLETE;
      }
      return DOSSIER_STATES.TO_BUILD;
    };
    React2.useEffect(() => {
      fetchDocumentValues();
      if (typeof window !== "undefined") {
        const handleFocus = () => {
          fetchDocumentValues();
        };
        window.addEventListener("focus", handleFocus);
        return () => window.removeEventListener("focus", handleFocus);
      }
    }, []);
    const calculateMissingDocuments = (docs, properties) => {
      const propsToUse = properties || recordProperties;
      const missingDocs = docs.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsToUse);
        const isRequired = doc.required || (doc.conditions && doc.conditions.length > 0 ? conditionsMet : false);
        return isRequired && !doc.provided;
      }).map((doc) => doc.name).filter((name) => name.trim() !== "");
      if (missingDocs.length === 0) {
        return "";
      }
      const listItems = missingDocs.map((docName) => `<li>${docName}</li>`).join("");
      return `<ul>${listItems}</ul>`;
    };
    const getMissingDocumentsList = (docs, properties) => {
      const propsToUse = properties || recordProperties;
      const missingDocs = docs.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsToUse);
        const isRequired = doc.required || (doc.conditions && doc.conditions.length > 0 ? conditionsMet : false);
        return isRequired && !doc.provided;
      }).map((doc) => doc.name).filter((name) => name.trim() !== "");
      return missingDocs;
    };
    const updateSendMailProperty = async () => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        return false;
      }
      try {
        await hubspot.serverless("updateDocuments", {
          parameters: {
            hs_object_id: objectId.toString(),
            documents: {
              send_mail: true
            }
          }
        });
        return true;
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Erreur lors de l'envoi de l'email");
        return false;
      }
    };
    const updateMissingDocProperty = async (missingDocs) => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        return false;
      }
      try {
        await hubspot.serverless("updateCompletionStatus", {
          parameters: {
            missingDoc: missingDocs,
            hs_object_id: objectId.toString()
          }
        });
        return true;
      } catch (err) {
        return false;
      }
    };
    const updateStatusProperties = async (completionStatus, dossierState2, missingDocs) => {
      var _a2;
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      if (!objectId) {
        return false;
      }
      try {
        await hubspot.serverless("updateCompletionStatus", {
          parameters: {
            completionStatus,
            dossierState: dossierState2,
            missingDoc: missingDocs,
            hs_object_id: objectId.toString()
          }
        });
        return true;
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Error updating status properties");
        return false;
      }
    };
    const [initialDocuments, setInitialDocuments] = React2.useState([]);
    const fetchDocumentValues = async () => {
      var _a2;
      setLoading(true);
      setError("");
      const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
      const propertyNames = [];
      propertyNames.push("sous_categorie");
      if (Array.isArray(conditionalPropertiesConfig)) {
        conditionalPropertiesConfig.forEach((prop) => {
          if (!propertyNames.includes(prop)) {
            propertyNames.push(prop);
          }
        });
      }
      INITIAL_DOCUMENTS.forEach((doc) => {
        if (doc.requiredProperty) {
          propertyNames.push(doc.requiredProperty);
        }
        if (doc.providedProperty) {
          propertyNames.push(doc.providedProperty);
        }
      });
      if (!objectId) {
        setError("Object ID not found in context");
        setLoading(false);
        return;
      }
      try {
        const response = await hubspot.serverless("getDocumentValues", {
          propertiesToSend: ["hs_object_id"],
          parameters: {
            propertyNames,
            includeCompletion: true,
            hs_object_id: objectId.toString()
          }
        });
        const properties = response || {};
        console.log("[DocumentList] fetchDocumentValues: received properties keys:", Object.keys(properties));
        console.log("[DocumentList] fetchDocumentValues: sous_categorie direct access:", properties["sous_categorie"]);
        console.log(
          "[DocumentList] fetchDocumentValues: all sous_categorie variations:",
          Object.keys(properties).filter((k) => k.toLowerCase().includes("sous"))
        );
        const getPropValue = (obj, needle) => {
          if (!obj) return void 0;
          const lower = needle.toLowerCase();
          const hitKey = Object.keys(obj).find((k) => k.toLowerCase() === lower || k.toLowerCase().includes(lower));
          const value = hitKey ? obj[hitKey] : void 0;
          console.log("[DocumentList] getPropValue: searching for", needle, "found key:", hitKey, "value:", value);
          return value;
        };
        const completionStatus = toBool(properties[COMPLETION_PROPERTY]);
        setIsCompleted(completionStatus);
        setInitialCompletionStatus(completionStatus);
        const currentDossierState = properties[DOSSIER_STATE_PROPERTY] || DOSSIER_STATES.TO_BUILD;
        setDossierState(currentDossierState);
        setInitialDossierState(currentDossierState);
        let nd = properties["sous_categorie"];
        console.log("[DocumentList] fetchDocumentValues: direct property access:", nd, "type:", typeof nd);
        if (!nd || nd === "" || nd === null || nd === void 0) {
          nd = getPropValue(properties, "sous_categorie");
        }
        if (!nd || nd === "" || nd === null || nd === void 0) {
          const sousKeys = Object.keys(properties).filter(
            (k) => k.toLowerCase().includes("sous") && k.toLowerCase().includes("categorie")
          );
          if (sousKeys.length > 0) {
            nd = properties[sousKeys[0]];
            console.log("[DocumentList] fetchDocumentValues: found sous_categorie via variation:", sousKeys[0], "value:", nd);
          }
        }
        console.log(
          "[DocumentList] fetchDocumentValues: All property values (first 20):",
          Object.entries(properties).slice(0, 20).map(([k, v]) => `${k}: ${v}`)
        );
        nd = (nd || "").toString().trim();
        console.log("[DocumentList] fetchDocumentValues: sous_categorie final value:", nd, "length:", nd.length);
        if (!nd && true) {
          console.warn("[DocumentList] sous_categorie is empty - property may not be set in HubSpot");
        }
        setNatureDemande(nd);
        if (nd) {
          properties["sous_categorie"] = nd;
        }
        if (nd) {
          const tabId = getTabForNatureDemande(nd);
          if (tabId) {
            setSelectedTab(tabId);
          }
        }
        const refugieVal = getPropValue(properties, "avez_vous_un_statut_refugie_ou_apatride");
        const refugieStr = refugieVal === void 0 || refugieVal === null ? "" : String(refugieVal);
        setRefugieRaw(refugieStr);
        setIsRefugieApatride(toBool(refugieStr));
        setRecordProperties(properties);
        const propertiesSet = /* @__PURE__ */ new Set();
        Object.keys(properties).forEach((key) => {
          if (key.includes("_required") || key.includes("_provided")) {
            propertiesSet.add(key);
          }
        });
        setExistingProperties(propertiesSet);
        let updatedDocuments = INITIAL_DOCUMENTS.map((doc) => {
          const requiredProp = doc.requiredProperty;
          const providedProp = doc.providedProperty;
          const requiredRaw = properties[requiredProp];
          const providedRaw = properties[providedProp];
          const requiredFromHubSpot = toBool(requiredRaw);
          const provided = toBool(providedRaw);
          const conditionsMet = checkDocumentConditions(doc, properties);
          let required;
          if (doc.conditions && doc.conditions.length > 0) {
            if (conditionsMet) {
              required = true;
            } else {
              required = requiredFromHubSpot;
            }
          } else {
            required = requiredFromHubSpot;
          }
          return {
            ...doc,
            required,
            provided,
            _requiredFromHubSpot: requiredFromHubSpot,
            _shouldBeRequired: doc.conditions && doc.conditions.length > 0 ? conditionsMet ? true : requiredFromHubSpot : requiredFromHubSpot
          };
        });
        setDocuments(updatedDocuments);
        setInitialDocuments([...updatedDocuments]);
        const calculatedCompletion = checkCompletion(updatedDocuments);
        const calculatedDossierState = calculateDossierState(updatedDocuments);
        if (calculatedCompletion !== completionStatus || calculatedDossierState !== currentDossierState) {
          setIsCompleted(calculatedCompletion);
          setDossierState(calculatedDossierState);
          setInitialCompletionStatus(calculatedCompletion);
          setInitialDossierState(calculatedDossierState);
        }
        let needsSave = false;
        const docsNeedingUpdate = updatedDocuments.filter((doc) => {
          if (doc.conditions && doc.conditions.length > 0) {
            const conditionsMet = checkDocumentConditions(doc, properties);
            if (!conditionsMet) {
              return false;
            }
            const requiredFromHubSpot = doc._requiredFromHubSpot ?? false;
            const shouldBeRequired = doc._shouldBeRequired ?? false;
            if (requiredFromHubSpot !== shouldBeRequired) {
              needsSave = true;
              return true;
            }
          }
          return false;
        });
        if (needsSave && docsNeedingUpdate.length > 0) {
          const correctedDocs = updatedDocuments;
          setDocuments(correctedDocs);
          setInitialDocuments([...correctedDocs]);
          (async () => {
            try {
              await saveDocumentChanges(correctedDocs, true);
            } catch (err) {
            }
          })();
          updatedDocuments = correctedDocs;
        }
        const missingDocs = calculateMissingDocuments(updatedDocuments, properties);
        updateMissingDocProperty(missingDocs).catch(() => {
        });
        setIsChanged(false);
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Unknown error fetching document values");
      } finally {
        setLoading(false);
      }
    };
    const handleCheckboxToggle = (documentId, field) => {
      return (checked, value) => {
        setDocuments((prevDocs) => {
          const newDocs = prevDocs.map((doc) => {
            if (doc.id === documentId) {
              if (field === "required") {
                const conditionsMet = checkDocumentConditions(doc, recordProperties);
                const isAutreTab = selectedTab === "autre";
                if (doc.conditions && doc.conditions.length > 0 && !isAutreTab) {
                  if (conditionsMet && !checked) {
                    return doc;
                  }
                  if (!conditionsMet && checked) {
                    return doc;
                  }
                  return { ...doc, required: conditionsMet };
                }
                return { ...doc, [field]: checked };
              }
              return { ...doc, [field]: checked };
            }
            return doc;
          });
          const newCompletionStatus = checkCompletion(newDocs);
          const newDossierState = calculateDossierState(newDocs);
          setIsCompleted(newCompletionStatus);
          setDossierState(newDossierState);
          const missingDocs = calculateMissingDocuments(newDocs);
          updateMissingDocProperty(missingDocs).catch(() => {
          });
          const completionChanged = newCompletionStatus !== initialCompletionStatus;
          const dossierStateChanged = newDossierState !== initialDossierState;
          const documentsChanged = newDocs.some((currentDoc, index) => {
            const initialDoc = initialDocuments[index];
            if (!initialDoc) return true;
            return currentDoc.required !== initialDoc.required || currentDoc.provided !== initialDoc.provided;
          });
          setIsChanged(completionChanged || dossierStateChanged || documentsChanged);
          return newDocs;
        });
      };
    };
    const checkForChanges = () => {
      const completionChanged = isCompleted !== initialCompletionStatus;
      const dossierStateChanged = dossierState !== initialDossierState;
      const documentsChanged = documents.some((currentDoc, index) => {
        const initialDoc = initialDocuments[index];
        if (!initialDoc) return true;
        return currentDoc.required !== initialDoc.required || currentDoc.provided !== initialDoc.provided;
      });
      setIsChanged(completionChanged || dossierStateChanged || documentsChanged);
    };
    const saveDocumentChanges = async (docsToSave, skipRefetch = false) => {
      var _a2;
      setSaving(true);
      setError("");
      try {
        const docs = docsToSave || documents;
        const documentProperties = {};
        docs.forEach((doc) => {
          const requiredProp = doc.requiredProperty;
          const providedProp = doc.providedProperty;
          const isRequired = doc.required;
          documentProperties[requiredProp] = isRequired;
          documentProperties[providedProp] = doc.provided;
        });
        const objectId = (_a2 = context.crm) == null ? void 0 : _a2.objectId;
        if (!objectId) {
          setError("Object ID not found in context");
          setSaving(false);
          return;
        }
        const docResponse = await hubspot.serverless("updateDocuments", {
          parameters: {
            documents: documentProperties,
            hs_object_id: objectId.toString()
          }
        });
        if ((docResponse == null ? void 0 : docResponse.status) === "error") {
          const errorMsg = docResponse.message || "";
          if (errorMsg.includes("does not exist") || errorMsg.includes("PROPERTY_DOESNT_EXIST")) {
          } else {
            throw new Error(docResponse.message || "Failed to update documents");
          }
        }
        const missingDocs = calculateMissingDocuments(docs, recordProperties);
        const statusUpdated = await updateStatusProperties(isCompleted, dossierState, missingDocs);
        if (statusUpdated) {
          setInitialCompletionStatus(isCompleted);
          setInitialDossierState(dossierState);
          setInitialDocuments([...docs]);
          setIsChanged(false);
          if (!skipRefetch) {
            setShowSuccess(true);
            setTimeout(() => setShowSuccess(false), 3e3);
            await new Promise((resolve) => setTimeout(resolve, 3e3));
            await fetchDocumentValues();
          }
        } else {
          setError("Error updating status properties");
        }
      } catch (err) {
        setError((err == null ? void 0 : err.message) || "Error updating documents");
      } finally {
        setSaving(false);
      }
    };
    const resetChanges = () => {
      setDocuments([...initialDocuments]);
      setIsCompleted(initialCompletionStatus);
      setDossierState(initialDossierState);
      setIsChanged(false);
    };
    React2.useEffect(() => {
      if (initialDocuments.length > 0 && documents.length > 0 && !loading && Object.keys(recordProperties).length > 0) {
        checkForChanges();
        const timeoutId = setTimeout(() => {
          if (documents.length > 0 && documents.some((doc) => doc.name)) {
            const missingDocs = calculateMissingDocuments(documents);
            updateMissingDocProperty(missingDocs).catch(() => {
            });
          }
        }, 200);
        return () => clearTimeout(timeoutId);
      }
    }, [documents, isCompleted, dossierState]);
    React2.useEffect(() => {
      if (natureDemande) {
        const tabId = getTabForNatureDemande(natureDemande);
        if (tabId && tabId !== selectedTab) {
          setSelectedTab(tabId);
        }
      }
    }, [natureDemande]);
    React2.useEffect(() => {
      if (Object.keys(recordProperties).length > 0 && initialDocuments.length > 0) {
        setDocuments((prevDocs) => {
          let hasChanges = false;
          const updatedDocs = prevDocs.map((doc) => {
            if (doc.conditions && doc.conditions.length > 0) {
              const conditionsMet = checkDocumentConditions(doc, recordProperties);
              if (conditionsMet) {
                if (!doc.required) {
                  hasChanges = true;
                  return { ...doc, required: true };
                }
              } else {
                return doc;
              }
            }
            return doc;
          });
          if (hasChanges) {
            const newCompletionStatus = checkCompletion(updatedDocs);
            const newDossierState = calculateDossierState(updatedDocs);
            setIsCompleted(newCompletionStatus);
            setDossierState(newDossierState);
            setTimeout(async () => {
              try {
                await saveDocumentChanges(updatedDocs, true);
              } catch (err) {
              }
            }, 500);
            setIsChanged(true);
            return updatedDocs;
          }
          return updatedDocs;
        });
      }
    }, [recordProperties, selectedTab]);
    const getDossierStateStyle = (state) => {
      switch (state) {
        case DOSSIER_STATES.COMPLETE:
          return "success";
        case DOSSIER_STATES.INCOMPLETE:
          return "warning";
        case DOSSIER_STATES.TO_BUILD:
        default:
          return "error";
      }
    };
    const stepNames = [
      DOSSIER_STATES.TO_BUILD,
      DOSSIER_STATES.INCOMPLETE,
      DOSSIER_STATES.COMPLETE
    ];
    const getCurrentStepIndex = () => {
      switch (dossierState) {
        case DOSSIER_STATES.TO_BUILD:
          return 0;
        case DOSSIER_STATES.INCOMPLETE:
          return 1;
        case DOSSIER_STATES.COMPLETE:
          return isCompleted ? stepNames.length : 2;
        default:
          return 0;
      }
    };
    const evaluateCondition = (condition, properties) => {
      let propertyValue = properties[condition.property];
      if (propertyValue === void 0) {
        const foundKey = Object.keys(properties).find(
          (k) => k.toLowerCase() === condition.property.toLowerCase()
        );
        if (foundKey) {
          propertyValue = properties[foundKey];
        }
      }
      const propValueStr = propertyValue ? String(propertyValue).trim() : "";
      const conditionValue = condition.value.trim();
      if (condition.property === "domicile__") {
        console.log("[DocumentList] evaluateCondition - domicile__:", {
          property: condition.property,
          operator: condition.operator,
          conditionValue,
          propValueStr,
          matches: propValueStr === conditionValue
        });
      }
      switch (condition.operator) {
        case "equals":
          return propValueStr === conditionValue;
        case "not_equals":
          return propValueStr !== conditionValue;
        case "contains":
          return propValueStr.toLowerCase().includes(conditionValue.toLowerCase());
        case "not_contains":
          return !propValueStr.toLowerCase().includes(conditionValue.toLowerCase());
        case "in":
          if (!propertyValue || propValueStr === "") {
            return false;
          }
          const normalizedConditionValue = conditionValue.trim();
          const normalizedPropertyValue = propValueStr.trim();
          if (Array.isArray(propertyValue)) {
            return propertyValue.some((val) => {
              const normalizedVal = String(val).trim();
              return normalizedVal === normalizedConditionValue;
            });
          }
          const normalizeForComparison = (str) => {
            return str.trim().replace(/\s+/g, " ");
          };
          const normalizedCondition = normalizeForComparison(normalizedConditionValue);
          if (normalizedPropertyValue.includes(";")) {
            const values = normalizedPropertyValue.split(";").map((v) => normalizeForComparison(v)).filter((v) => v !== "");
            return values.some((val) => val === normalizedCondition);
          }
          if (normalizedPropertyValue.includes(",")) {
            const values = normalizedPropertyValue.split(",").map((v) => normalizeForComparison(v)).filter((v) => v !== "");
            return values.some((val) => val === normalizedCondition);
          }
          const normalizedProperty = normalizeForComparison(normalizedPropertyValue);
          return normalizedProperty === normalizedCondition;
        default:
          return true;
      }
    };
    const checkDocumentConditions = (doc, properties) => {
      if (!doc.conditions || doc.conditions.length === 0) {
        return true;
      }
      const conditionsByProperty = /* @__PURE__ */ new Map();
      doc.conditions.forEach((condition) => {
        if (!conditionsByProperty.has(condition.property)) {
          conditionsByProperty.set(condition.property, []);
        }
        conditionsByProperty.get(condition.property).push(condition);
      });
      const hasMultipleProperties = conditionsByProperty.size > 1;
      const hasDomicileCondition = conditionsByProperty.has("domicile__");
      if (hasMultipleProperties || hasDomicileCondition) {
        console.log("[DocumentList] checkDocumentConditions - Document:", doc.name);
        console.log(
          "[DocumentList] checkDocumentConditions - Conditions by property:",
          Array.from(conditionsByProperty.entries()).map(([prop, conds]) => ({
            property: prop,
            conditions: conds.map((c) => `${c.operator} ${c.value}`),
            propertyValue: properties[prop]
          }))
        );
      }
      const allPropertyGroupsMatch = Array.from(conditionsByProperty.entries()).every(([property, conditions]) => {
        const anyMatches = conditions.some((condition) => {
          return evaluateCondition(condition, properties);
        });
        if (property === "domicile__" && hasMultipleProperties) {
          console.log("[DocumentList] checkDocumentConditions - domicile__ group:", {
            property,
            propertyValue: properties[property],
            conditions: conditions.map((c) => c.value),
            anyMatches
          });
        }
        return anyMatches;
      });
      if (hasMultipleProperties || hasDomicileCondition) {
        console.log("[DocumentList] checkDocumentConditions - Result for", doc.name, ":", allPropertyGroupsMatch);
      }
      return allPropertyGroupsMatch;
    };
    const getTabForNatureDemande = (natureDemandeValue) => {
      if (!natureDemandeValue) {
        console.log("[DocumentList] getTabForNatureDemande: no value provided");
        return null;
      }
      const normalize = (str) => {
        return str.trim().replace(/\s+/g, " ");
      };
      const normalizedValue = normalize(natureDemandeValue);
      console.log("[DocumentList] getTabForNatureDemande: searching for tab with value:", normalizedValue);
      const matchingDocs = DOCUMENTS_CONFIG.filter((doc) => {
        if (!doc.conditions || doc.conditions.length === 0) {
          return false;
        }
        return doc.conditions.some((condition) => {
          return condition.property === "sous_categorie" && condition.operator === "equals" && normalize(condition.value) === normalizedValue;
        });
      });
      if (matchingDocs.length > 0) {
        const docWithSingleCondition = matchingDocs.find((doc) => {
          const sousConditions = doc.conditions.filter(
            (c) => c.property === "sous_categorie" && c.operator === "equals"
          );
          return sousConditions.length === 1;
        });
        const docToUse = docWithSingleCondition || matchingDocs[0];
        console.log("[DocumentList] Found matching document:", docToUse.name, "with tab:", docToUse.tab);
        if (Array.isArray(docToUse.tab) && docToUse.tab.length > 1) {
          const naturalisationDoc = matchingDocs.find((doc) => {
            const tabs = Array.isArray(doc.tab) ? doc.tab : [doc.tab];
            return tabs.includes("naturalisation_mariage") && !tabs.includes("decret");
          });
          if (naturalisationDoc && normalizedValue.toLowerCase().includes("naturalisation")) {
            console.log("[DocumentList] getTabForNatureDemande: using naturalisation_mariage tab for naturalisation condition");
            return "naturalisation_mariage";
          }
          if (normalizedValue.toLowerCase().includes("décret") || normalizedValue.toLowerCase().includes("decret")) {
            console.log("[DocumentList] getTabForNatureDemande: using decret tab for décret condition");
            return "decret";
          }
          const tab2 = getTabValue(docToUse.tab);
          console.log("[DocumentList] getTabForNatureDemande: returning first tab:", tab2);
          return tab2;
        }
        const tab = getTabValue(docToUse.tab);
        console.log("[DocumentList] getTabForNatureDemande: returning tab:", tab);
        return tab;
      }
      console.log("[DocumentList] getTabForNatureDemande: no matching document found");
      return null;
    };
    const getActiveTabId = () => {
      if (!natureDemande) {
        return null;
      }
      const tabId = getTabForNatureDemande(natureDemande);
      return tabId;
    };
    const getVisibleDocuments = () => {
      const activeTabId = getActiveTabId();
      console.log("[DocumentList] getVisibleDocuments: activeTabId:", activeTabId, "selectedTab:", selectedTab, "natureDemande:", natureDemande);
      const propsForConditions = { ...recordProperties };
      if (natureDemande && !propsForConditions["sous_categorie"]) {
        propsForConditions["sous_categorie"] = natureDemande;
      }
      console.log("[DocumentList] getVisibleDocuments: recordProperties keys:", Object.keys(recordProperties));
      console.log("[DocumentList] getVisibleDocuments: propsForConditions domicile__:", propsForConditions["domicile__"]);
      console.log("[DocumentList] getVisibleDocuments: propsForConditions sous_categorie:", propsForConditions["sous_categorie"]);
      console.log("[DocumentList] getVisibleDocuments: total documents:", documents.length);
      const visible = documents.filter((doc) => {
        const conditionsMet = checkDocumentConditions(doc, propsForConditions);
        if (selectedTab === "autre") {
          if (!activeTabId) {
            return false;
          }
          if (!documentBelongsToTab(doc, activeTabId)) {
            return false;
          }
          const shouldShow2 = !conditionsMet;
          if (shouldShow2) {
            console.log("[DocumentList] Document in autre tab:", doc.name, "conditionsMet:", conditionsMet, "required:", doc.required);
          }
          return shouldShow2;
        }
        const tabToCheck = activeTabId && selectedTab === activeTabId ? activeTabId : selectedTab;
        if (!documentBelongsToTab(doc, tabToCheck)) {
          return false;
        }
        const shouldShow = conditionsMet;
        if (shouldShow) {
          console.log("[DocumentList] Document visible:", doc.name, "tab:", doc.tab, "tabToCheck:", tabToCheck, "conditionsMet:", conditionsMet, "required:", doc.required);
        } else if (documentBelongsToTab(doc, tabToCheck)) {
          console.log("[DocumentList] Document NOT visible (conditions not met, should be in autre):", doc.name, "conditions:", doc.conditions);
        }
        return shouldShow;
      });
      const filtered = searchTerm.trim() ? visible.filter(
        (doc) => doc.name.toLowerCase().includes(searchTerm.toLowerCase())
      ) : visible;
      return filtered.sort((a, b) => {
        const orderA = getOrderForTab(a, selectedTab);
        const orderB = getOrderForTab(b, selectedTab);
        return orderA - orderB;
      });
    };
    const calculateProgress = (docs) => {
      const requiredDocs = docs.filter((doc) => {
        if (doc.required) {
          return true;
        }
        if (doc.conditions && doc.conditions.length > 0) {
          const conditionsMet = checkDocumentConditions(doc, recordProperties);
          return conditionsMet;
        }
        return false;
      });
      const providedDocs = requiredDocs.filter((doc) => doc.provided);
      const requiredCount = requiredDocs.length;
      const providedCount = providedDocs.length;
      const percentage = requiredCount > 0 ? Math.round(providedCount / requiredCount * 100) : 100;
      return {
        provided: providedCount,
        required: requiredCount,
        percentage
      };
    };
    const renderDocumentsTable = () => {
      const visible = getVisibleDocuments();
      const progress = calculateProgress(visible);
      if (visible.length === 0) {
        return /* @__PURE__ */ React2.createElement(
          EmptyState,
          {
            title: searchTerm.trim() ? "Aucun document trouvé" : "Aucun document dans cet onglet",
            layout: "vertical"
          },
          searchTerm.trim() && /* @__PURE__ */ React2.createElement(Text, null, "Essayez de modifier votre recherche ou de vérifier les filtres.")
        );
      }
      return /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "end", justify: "between" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "end" }, /* @__PURE__ */ React2.createElement(
        Input,
        {
          name: "document-search",
          label: "Rechercher un document",
          placeholder: "Tapez le nom du document...",
          value: searchTerm,
          onChange: (value) => {
            setSearchTerm(value || "");
          }
        }
      ), searchTerm && /* @__PURE__ */ React2.createElement(
        Button,
        {
          variant: "secondary",
          onClick: () => {
            setSearchTerm("");
          }
        },
        "Effacer"
      )), /* @__PURE__ */ React2.createElement(
        Button,
        {
          overlay: /* @__PURE__ */ React2.createElement(Modal, { id: "send-email-modal", title: "Envoyer un email", width: "md" }, /* @__PURE__ */ React2.createElement(ModalBody, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Documents manquants à envoyer :"), (() => {
            const missingDocs = getMissingDocumentsList(documents, recordProperties);
            if (missingDocs.length === 0) {
              return /* @__PURE__ */ React2.createElement(Alert, { title: "Aucun document manquant", variant: "success" }, "Tous les documents requis ont été fournis.");
            }
            return /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "xs" }, missingDocs.map((docName, index) => /* @__PURE__ */ React2.createElement(React2.Fragment, { key: index }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "start" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, index + 1, "."), /* @__PURE__ */ React2.createElement(Text, null, docName)), index < missingDocs.length - 1 && /* @__PURE__ */ React2.createElement(Divider, { distance: "xs" })))), /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "sm" }, /* @__PURE__ */ React2.createElement(Divider, null), /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Total : ", missingDocs.length, " document", missingDocs.length > 1 ? "s" : "", " manquant", missingDocs.length > 1 ? "s" : "")));
          })())), /* @__PURE__ */ React2.createElement(ModalFooter, null, /* @__PURE__ */ React2.createElement(Flex, { justify: "end", gap: "sm" }, /* @__PURE__ */ React2.createElement(
            Button,
            {
              variant: "secondary",
              onClick: () => actions.closeOverlay("send-email-modal")
            },
            "Annuler"
          ), /* @__PURE__ */ React2.createElement(
            Button,
            {
              variant: "primary",
              onClick: async () => {
                const success = await updateSendMailProperty();
                if (success) {
                  actions.closeOverlay("send-email-modal");
                  setShowEmailSuccess(true);
                  setTimeout(() => setShowEmailSuccess(false), 3e3);
                }
              }
            },
            "Envoyer"
          )))),
          variant: "secondary"
        },
        "Envoyer un email"
      )), progress.required > 0 && /* @__PURE__ */ React2.createElement(
        ProgressBar,
        {
          title: "Progression des documents",
          value: progress.provided,
          maxValue: progress.required,
          showPercentage: true,
          valueDescription: `${progress.provided} sur ${progress.required} documents fournis`,
          variant: progress.percentage === 100 ? "success" : progress.percentage >= 50 ? "warning" : "danger"
        }
      ), isChanged && /* @__PURE__ */ React2.createElement(Flex, { justify: "center", gap: "sm", align: "center" }, /* @__PURE__ */ React2.createElement(Button, { onClick: resetChanges, variant: "destructive" }, "Annuler"), /* @__PURE__ */ React2.createElement(Button, { onClick: () => saveDocumentChanges(), variant: "primary", disabled: saving }, saving ? "Enregistrement..." : "Enregistrer les modifications")), /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "lg", align: "center" }, /* @__PURE__ */ React2.createElement(Flex, null, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Nom du document")), /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Requis")), /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(Text, { format: { fontWeight: "bold" } }, "Fournis"))), /* @__PURE__ */ React2.createElement(Divider, null), visible.sort((a, b) => {
        if (a.required && !b.required) return -1;
        if (!a.required && b.required) return 1;
        const orderA = getOrderForTab(a, selectedTab);
        const orderB = getOrderForTab(b, selectedTab);
        if (orderA !== orderB) {
          return orderA - orderB;
        }
        return a.name.localeCompare(b.name);
      }).map((doc) => {
        const conditionsMet = checkDocumentConditions(doc, recordProperties);
        let requiredValue;
        let isRequiredByCondition = false;
        if (doc.conditions && doc.conditions.length > 0) {
          if (conditionsMet) {
            requiredValue = true;
            isRequiredByCondition = true;
          } else {
            requiredValue = doc.required;
            isRequiredByCondition = false;
          }
        } else {
          requiredValue = doc.required;
          isRequiredByCondition = false;
        }
        return /* @__PURE__ */ React2.createElement(React2.Fragment, { key: doc.id }, /* @__PURE__ */ React2.createElement(
          Flex,
          {
            direction: "row",
            align: "center",
            gap: "lg"
          },
          /* @__PURE__ */ React2.createElement(Flex, null, /* @__PURE__ */ React2.createElement(Text, null, doc.name)),
          /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(
            Checkbox,
            {
              key: `req-${doc.id}-${requiredValue}`,
              checked: requiredValue === true,
              readOnly: isRequiredByCondition,
              onChange: isRequiredByCondition ? () => {
              } : handleCheckboxToggle(doc.id, "required")
            }
          )),
          /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(
            Checkbox,
            {
              key: `prov-${doc.id}-${doc.provided}`,
              checked: doc.provided === true,
              onChange: handleCheckboxToggle(doc.id, "provided")
            }
          ))
        ), /* @__PURE__ */ React2.createElement(Divider, null));
      }));
    };
    if (loading) {
      return /* @__PURE__ */ React2.createElement(Flex, { justify: "center" }, /* @__PURE__ */ React2.createElement(LoadingSpinner, { label: "Loading document checklist..." }));
    }
    return /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(Flex, { direction: "column", gap: "md" }, /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "sm", align: "center" }, /* @__PURE__ */ React2.createElement(Tag, { variant: getDossierStateStyle(dossierState) }, dossierState), isCompleted ? /* @__PURE__ */ React2.createElement(Tag, { variant: "success" }, "✓ Completed") : /* @__PURE__ */ React2.createElement(Tag, { variant: "error" }, "× Incomplete")), error && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Error",
        variant: "error"
      },
      error
    ), showSuccess && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Succès",
        variant: "success"
      },
      "Documents mis à jour avec succès"
    ), showEmailSuccess && /* @__PURE__ */ React2.createElement(
      Alert,
      {
        title: "Succès",
        variant: "success"
      },
      "Email envoyé avec succès"
    ), /* @__PURE__ */ React2.createElement(
      StepIndicator,
      {
        currentStep: getCurrentStepIndex(),
        stepNames,
        direction: "horizontal",
        circleSize: "md"
      }
    ), /* @__PURE__ */ React2.createElement(Divider, null), /* @__PURE__ */ React2.createElement(Box, null, /* @__PURE__ */ React2.createElement(
      Tabs,
      {
        variant: "enclosed",
        selected: selectedTab,
        onSelectedChange: (id) => {
          setSelectedTab(id);
          setSearchTerm("");
        },
        fill: false
      },
      (() => {
        const activeTabId = getActiveTabId();
        let finalActiveTabId = activeTabId;
        if (!finalActiveTabId && natureDemande) {
          finalActiveTabId = getTabForNatureDemande(natureDemande);
        }
        if (!finalActiveTabId && recordProperties["sous_categorie"]) {
          finalActiveTabId = getTabForNatureDemande(recordProperties["sous_categorie"]);
        }
        let tabsToShow;
        if (finalActiveTabId) {
          tabsToShow = TABS_CONFIG.filter(
            (tab) => tab.id === "autre" || tab.id === finalActiveTabId
          );
        } else {
          tabsToShow = TABS_CONFIG;
        }
        return tabsToShow.map((tab) => /* @__PURE__ */ React2.createElement(Tab, { key: tab.id, tabId: tab.id, title: tab.title }, /* @__PURE__ */ React2.createElement(Box, null, renderDocumentsTable())));
      })()
    ))));
  };
  return Extension;
})(React, RemoteUI);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jdW1lbnRMaXN0LmpzIiwic291cmNlcyI6WyIuLi9leHRlbnNpb25zL25vZGVfbW9kdWxlcy9AaHVic3BvdC91aS1leHRlbnNpb25zL2Rpc3QvaHVic3BvdC5qcyIsIi4uL2V4dGVuc2lvbnMvbm9kZV9tb2R1bGVzL0BodWJzcG90L3VpLWV4dGVuc2lvbnMvZGlzdC9jb3JlQ29tcG9uZW50cy5qcyIsIi4uL2V4dGVuc2lvbnMvbm9kZV9tb2R1bGVzL0BodWJzcG90L3VpLWV4dGVuc2lvbnMvZGlzdC90eXBlcy5qcyIsIi4uL2V4dGVuc2lvbnMvRG9jdW1lbnRMaXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXh0ZW5kX1YyKHJlbmRlckV4dGVuc2lvbkNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNlbGYuZXh0ZW5kX1YyKHJlbmRlckV4dGVuc2lvbkNhbGxiYWNrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJsZXNzKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2VsZi5zZXJ2ZXJsZXNzKG5hbWUsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZWxmLmhzRmV0Y2godXJsLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBjb25zdCBodWJzcG90ID0ge1xuICAgIGV4dGVuZDogZXh0ZW5kX1YyLFxuICAgIHNlcnZlcmxlc3MsXG4gICAgZmV0Y2gsXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQgfSBmcm9tICdAcmVtb3RlLXVpL3JlYWN0Jztcbi8qKlxuICogVGhlIGBBbGVydGAgY29tcG9uZW50IHJlbmRlcnMgYW4gYWxlcnQgd2l0aGluIGEgY2FyZC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGdpdmUgdXNhZ2UgZ3VpZGFuY2UsIG5vdGlmeSB1c2VycyBvZiBhY3Rpb24gcmVzdWx0cywgb3Igd2FybiB0aGVtIGFib3V0IHBvdGVudGlhbCBpc3N1ZXMgb3IgZmFpbHVyZXMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvYWxlcnQgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vYXBwLmh1YnNwb3QuY29tL2RvY3MvNDgwMDg5MTYvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9hbGVydCN2YXJpYW50cyBWYXJpYW50c31cbiAqL1xuZXhwb3J0IGNvbnN0IEFsZXJ0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0FsZXJ0Jyk7XG4vKipcbiAqIFRoZSBgQnV0dG9uYCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSBidXR0b24uIFVzZSB0aGlzIGNvbXBvbmVudCB0byBlbmFibGUgdXNlcnMgdG8gcGVyZm9ybSBhY3Rpb25zLCBzdWNoIGFzIHN1Ym1pdHRpbmcgYSBmb3JtLCBzZW5kaW5nIGRhdGEgdG8gYW4gZXh0ZXJuYWwgc3lzdGVtLCBvciBkZWxldGluZyBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2J1dHRvbiBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9idXR0b24jdXNhZ2UtZXhhbXBsZXMgRXhhbXBsZXN9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjYnV0dG9uIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0J1dHRvbicsIHtcbiAgICBmcmFnbWVudFByb3BzOiBbJ292ZXJsYXknXSxcbn0pO1xuLyoqXG4gKiBUaGUgYEJ1dHRvblJvd2AgY29tcG9uZW50IHJlbmRlcnMgYSByb3cgb2Ygc3BlY2lmaWVkIGBCdXR0b25gIGNvbXBvbmVudHMuIFVzZSB0aGlzIGNvbXBvbmVudCB3aGVuIHlvdSB3YW50IHRvIGluY2x1ZGUgbXVsdGlwbGUgYnV0dG9ucyBpbiBhIHJvdy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9idXR0b24tcm93IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBCdXR0b25Sb3cgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQnV0dG9uUm93Jyk7XG5leHBvcnQgY29uc3QgQ2FyZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdDYXJkJyk7XG4vKipcbiAqIFRoZSBgRGVzY3JpcHRpb25MaXN0YCBjb21wb25lbnQgcmVuZGVycyBwYWlycyBvZiBsYWJlbHMgYW5kIHZhbHVlcy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgcGFpcnMgb2YgbGFiZWxzIGFuZCB2YWx1ZXMgaW4gYSB3YXkgdGhhdCdzIGVhc3kgdG8gcmVhZCBhdCBhIGdsYW5jZS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9kZXNjcmlwdGlvbi1saXN0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdGlvbkxpc3QgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGVzY3JpcHRpb25MaXN0Jyk7XG4vKipcbiAqIFRoZSBgRGVzY3JpcHRpb25MaXN0SXRlbWAgY29tcG9uZW50IHJlbmRlcnMgYSBzaW5nbGUgc2V0IG9mIGEgbGFiZWwgYW5kIHZhbHVlLiBVc2UgdGhpcyBjb21wb25lbnQgd2l0aGluIGEgYERlc2NyaXB0aW9uTGlzdGAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Rlc2NyaXB0aW9uLWxpc3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uTGlzdEl0ZW0gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGVzY3JpcHRpb25MaXN0SXRlbScpO1xuLyoqXG4gKiBUaGUgYERpdmlkZXJgIGNvbXBvbmVudCByZW5kZXJzIGEgZ3JleSwgaG9yaXpvbnRhbCBsaW5lIGZvciBzcGFjaW5nIG91dCBjb21wb25lbnRzIHZlcnRpY2FsbHkgb3IgY3JlYXRpbmcgc2VjdGlvbnMgaW4gYW4gZXh0ZW5zaW9uLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gc3BhY2Ugb3V0IG90aGVyIGNvbXBvbmVudHMgd2hlbiB0aGUgY29udGVudCBuZWVkcyBtb3JlIHNlcGFyYXRpb24gdGhhbiB3aGl0ZSBzcGFjZS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9kaXZpZGVyIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEaXZpZGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0RpdmlkZXInKTtcbi8qKlxuICogVGhlIGBFbXB0eVN0YXRlYCBjb21wb25lbnQgc2V0cyB0aGUgY29udGVudCB0aGF0IGFwcGVhcnMgd2hlbiB0aGUgZXh0ZW5zaW9uIGlzIGluIGFuIGVtcHR5IHN0YXRlLiBVc2UgdGhpcyBjb21wb25lbnQgd2hlbiB0aGVyZSdzIG5vIGNvbnRlbnQgb3IgZGF0YSB0byBoZWxwIGd1aWRlIHVzZXJzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2VtcHR5LXN0YXRlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBFbXB0eVN0YXRlID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0VtcHR5U3RhdGUnKTtcbi8qKlxuICogVGhlIGBFcnJvclN0YXRlYCBjb21wb25lbnQgc2V0cyB0aGUgY29udGVudCBvZiBhbiBlcnJvcmluZyBleHRlbnNpb24uIFVzZSB0aGlzIGNvbXBvbmVudCB0byBndWlkZSB1c2VycyB0aHJvdWdoIHJlc29sdmluZyBlcnJvcnMgdGhhdCB5b3VyIGV4dGVuc2lvbiBtaWdodCBlbmNvdW50ZXIuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZXJyb3Itc3RhdGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEVycm9yU3RhdGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRXJyb3JTdGF0ZScpO1xuLyoqXG4gKiBUaGUgYEZvcm1gIGNvbXBvbmVudCByZW5kZXJzIGEgZm9ybSB0aGF0IGNhbiBjb250YWluIG90aGVyIHN1YmNvbXBvbmVudHMsIHN1Y2ggYXMgYElucHV0YCwgYFNlbGVjdGAsIGFuZCBgQnV0dG9uYC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGVuYWJsZSB1c2VycyB0byBzdWJtaXQgZGF0YSB0byBIdWJTcG90IG9yIGFuIGV4dGVybmFsIHN5c3RlbS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9mb3JtIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjZm9ybSBEZXNpZ24gUGF0dGVybiBFeGFtcGxlc31cbiAqL1xuZXhwb3J0IGNvbnN0IEZvcm0gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRm9ybScpO1xuLyoqXG4gKiBUaGUgYEhlYWRpbmdgIGNvbXBvbmVudCByZW5kZXJzIGxhcmdlIGhlYWRpbmcgdGV4dC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGludHJvZHVjZSBvciBkaWZmZXJlbnRpYXRlIHNlY3Rpb25zIG9mIHlvdXIgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2hlYWRpbmcgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWRpbmcgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnSGVhZGluZycpO1xuLyoqXG4gKiBUaGUgYEltYWdlYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbWFnZS4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGFkZCBhIGxvZ28gb3Igb3RoZXIgdmlzdWFsIGJyYW5kIGlkZW50aXR5IGFzc2V0LCBvciB0byBhY2NlbnR1YXRlIG90aGVyIGNvbnRlbnQgaW4gdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9pbWFnZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSW1hZ2UgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnSW1hZ2UnLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYSB0ZXh0IGlucHV0IGZpZWxkIHdoZXJlIGEgdXNlciBjYW4gZW50ZXIgYSBjdXN0b20gdGV4dCB2YWx1ZS4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaW5wdXQgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0lucHV0Jyk7XG4vKipcbiAqIFRoZSBgTGlua2AgY29tcG9uZW50IHJlbmRlcnMgYSBjbGlja2FibGUgaHlwZXJsaW5rLiBVc2UgbGlua3MgdG8gZGlyZWN0IHVzZXJzIHRvIGFuIGV4dGVybmFsIHdlYiBwYWdlIG9yIGFub3RoZXIgcGFydCBvZiB0aGUgSHViU3BvdCBhcHAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbGluayBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTGluayA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdMaW5rJywge1xuICAgIGZyYWdtZW50UHJvcHM6IFsnb3ZlcmxheSddLFxufSk7XG4vKipcbiAqIFRoZSBgVGV4dEFyZWFgIGNvbXBvbmVudCByZW5kZXJzIGEgZmlsbGFibGUgdGV4dCBmaWVsZC4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGV4dC1hcmVhIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0QXJlYSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUZXh0QXJlYScpO1xuLy8gVGV4dGFyZWEgd2FzIGNoYW5nZWQgdG8gVGV4dEFyZWFcbi8vIEV4cG9ydGluZyBib3RoIGZvciBiYWNrd2FyZHMgY29tcGF0XG4vKiogQGRlcHJlY2F0ZWQgdXNlIFRleHRBcmVhIGluc3RlYWQuIFdpdGggYSBjYXBpdGFsIEEuKi9cbmV4cG9ydCBjb25zdCBUZXh0YXJlYSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUZXh0YXJlYScpO1xuLyoqXG4gKiBUaGUgYExvYWRpbmdTcGlubmVyYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBpbmRpY2F0b3IgZm9yIHdoZW4gYW4gZXh0ZW5zaW9uIGlzIGxvYWRpbmcgb3IgcHJvY2Vzc2luZyBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xvYWRpbmctc3Bpbm5lciBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTG9hZGluZ1NwaW5uZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTG9hZGluZ1NwaW5uZXInKTtcbi8qKlxuICogVGhlIGBQcm9ncmVzc0JhcmAgY29tcG9uZW50IHJlbmRlcnMgYSB2aXN1YWwgaW5kaWNhdG9yIHNob3dpbmcgYSBudW1lcmljIGFuZC9vciBwZXJjZW50YWdlLWJhc2VkIHJlcHJlc2VudGF0aW9uIG9mIHByb2dyZXNzLiBUaGUgcGVyY2VudGFnZSBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlIHNwZWNpZmllZCBpbiB0aGUgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3Byb2dyZXNzLWJhciBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NCYXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUHJvZ3Jlc3NCYXInKTtcbi8qKlxuICogVGhlIGBTZWxlY3RgIGNvbXBvbmVudCByZW5kZXJzIGEgZHJvcGRvd24gbWVudSBzZWxlY3QgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBzZWxlY3QgYSBzaW5nbGUgdmFsdWUuIEEgc2VhcmNoIGJhciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5jbHVkZWQgd2hlbiB0aGVyZSBhcmUgbW9yZSB0aGFuIHNldmVuIG9wdGlvbnMuIExpa2Ugb3RoZXIgaW5wdXRzLCB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYSBgRm9ybWAgdGhhdCBoYXMgYSBzdWJtaXQgYnV0dG9uLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3NlbGVjdCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgU2VsZWN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1NlbGVjdCcpO1xuLyoqXG4gKiBUaGUgYFRhZ2AgY29tcG9uZW50IHJlbmRlcnMgYSB0YWcgdG8gbGFiZWwgb3IgY2F0ZWdvcml6ZSBpbmZvcm1hdGlvbiBvciBvdGhlciBjb21wb25lbnRzLiBUYWdzIGNhbiBiZSBzdGF0aWMgb3IgY2xpY2thYmxlIGZvciBpbnZva2luZyBmdW5jdGlvbnMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFnIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWcgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFnJywge1xuICAgIGZyYWdtZW50UHJvcHM6IFsnb3ZlcmxheSddLFxufSk7XG4vKipcbiAqIFRoZSBgVGV4dGAgY29tcG9uZW50IHJlbmRlcnMgdGV4dCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90ZXh0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RleHQnKTtcbi8qKlxuICogVGhlIGBUaWxlYCBjb21wb25lbnQgcmVuZGVycyBhIHNxdWFyZSB0aWxlIHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29tcG9uZW50cy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGNyZWF0ZSBncm91cHMgb2YgcmVsYXRlZCBjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RpbGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRpbGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGlsZScpO1xuLyoqIEBkZXByZWNhdGVkIHVzZSBGbGV4IGluc3RlYWQuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCByZWxlYXNlLiAqL1xuZXhwb3J0IGNvbnN0IFN0YWNrID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YWNrJyk7XG4vKipcbiAqIFRoZSBgVG9nZ2xlR3JvdXBgIGNvbXBvbmVudCByZW5kZXJzIGEgbGlzdCBvZiBzZWxlY3RhYmxlIG9wdGlvbnMsIGVpdGhlciBpbiByYWRpbyBidXR0b24gb3IgY2hlY2tib3ggZm9ybS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90b2dnbGUtZ3JvdXAgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRvZ2dsZUdyb3VwID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RvZ2dsZUdyb3VwJyk7XG4vKipcbiAqIFRoZSBgU3RhdGlzdGljc0l0ZW1gIGNvbXBvbmVudCByZW5kZXJzIGEgc2luZ2xlIGRhdGEgcG9pbnQgd2l0aGluIGEgYFN0YXRpc3RpY3NgIGNvbXBvbmVudC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgYSBzaW5nbGUgZGF0YSBwb2ludCwgc3VjaCBhcyBhIG51bWJlciBvciBwZXJjZW50YWdlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXRpc3RpY3MgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpY3NJdGVtID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXRpc3RpY3NJdGVtJyk7XG4vKipcbiAqIFRoZSBgU3RhdGlzdGljc2AgY29tcG9uZW50IHJlbmRlcnMgYSB2aXN1YWwgc3BvdGxpZ2h0IG9mIG9uZSBvciBtb3JlIGRhdGEgcG9pbnRzLiBJbmNsdWRlcyB0aGUgYFN0YXRpc3RpY3NJdGVtYCBhbmQgYFN0YXRpc3RpY3NUcmVuZGAgc3ViY29tcG9uZW50cy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGF0aXN0aWNzIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0aXN0aWNzID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXRpc3RpY3MnKTtcbi8qKlxuICogVGhlIGBTdGF0aXN0aWNzVHJlbmRgIGNvbXBvbmVudCByZW5kZXJzIGEgcGVyY2VudGFnZSB0cmVuZCB2YWx1ZSBhbmQgZGlyZWN0aW9uIGFsb25zaWRlIGEgYFN0YXRpc3RpY3NJdGVtYCBjb21wb25lbnQuIFVzZSB0aGlzIGNvbXBvbmVudCB3aXRoaW4gdGhlIGBTdGF0aXN0aWNzSXRlbWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXRpc3RpY3MgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpY3NUcmVuZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdTdGF0aXN0aWNzVHJlbmQnKTtcbi8qKlxuICogVGhlIGBUYWJsZWAgY29tcG9uZW50IHJlbmRlcnMgYSB0YWJsZS4gVG8gZm9ybWF0IHRoZSB0YWJsZSwgdXNlIHRoZSBzdWJjb21wb25lbnRzIGBUYWJsZUhlYWRgLCBgVGFibGVSb3dgLCBgVGFibGVIZWFkZXJgLCBgVGFibGVCb2R5YCwgYFRhYmxlQ2VsbGBhbmQgYFRhYmxlRm9vdGVyYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZGVzaWduLXBhdHRlcm5zI3RhYmxlIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZScpO1xuLyoqXG4gKiBUaGUgYFRhYmxlRm9vdGVyYCBjb21wb25lbnQgcmVuZGVycyBhIGZvb3RlciB3aXRoaW4gYSBgVGFibGVgIGNvbXBvbmVudC4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGRpc3BsYXkgdG90YWxzIG9yIG90aGVyIHN1bW1hcnkgaW5mb3JtYXRpb24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlRm9vdGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlRm9vdGVyJyk7XG4vKipcbiAqIFRoZSBgVGFibGVDZWxsYCBjb21wb25lbnQgcmVuZGVycyBpbmRpdmlkdWFsIGNlbGxzIHdpdGhpbiB0aGUgYFRhYmxlQm9keWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYmxlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZUNlbGwgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFibGVDZWxsJyk7XG4vKipcbiAqIFRoZSBgVGFibGVSb3dgIGNvbXBvbmVudCByZW5kZXJzIGEgcm93IHdpdGhpbiB0aGUgYFRhYmxlQm9keWAgb3IgYFRhYmxlSGVhZGAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYmxlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWJsZVJvdyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZVJvdycpO1xuLyoqXG4gKiBUaGUgYFRhYmxlQm9keWAgY29tcG9uZW50IHJlbmRlcnMgdGhlIGJvZHkgKHJvd3MgYW5kIGNlbGxzKSBvZiBhIHRhYmxlIHdpdGhpbiB0aGUgYFRhYmxlYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZUJvZHknKTtcbi8qKlxuICogVGhlIGBUYWJsZUhlYWRlcmAgY29tcG9uZW50IHJlbmRlcnMgaW5kaXZpZHVhbCBjZWxscyBjb250YWluaW5nIGJvbGRlZCBjb2x1bW4gbGFiZWxzLCB3aXRoaW4gYFRhYmxlSGVhZGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlSGVhZGVyID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlSGVhZGVyJyk7XG4vKipcbiAqIFRoZSBgVGFibGVIZWFkYCBjb21wb25lbnQgcmVuZGVycyB0aGUgaGVhZGVyIHNlY3Rpb24gb2YgdGhlIGBUYWJsZWAgY29tcG9uZW50LCBjb250YWluaW5nIGNvbHVtbiBsYWJlbHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlSGVhZCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZUhlYWQnKTtcbi8qKlxuICogVGhlIGBOdW1iZXJJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYSBudW1iZXIgaW5wdXQgZmllbGQuIExpa2Ugb3RoZXIgaW5wdXRzLCB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYSBgRm9ybWAgdGhhdCBoYXMgYSBzdWJtaXQgYnV0dG9uLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL251bWJlci1pbnB1dCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTnVtYmVySW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTnVtYmVySW5wdXQnKTtcbi8qKlxuICogVGhlIGBCb3hgIGNvbXBvbmVudCByZW5kZXJzIGFuIGVtcHR5IGRpdiBjb250YWluZXIgZm9yIGZpbmUgdHVuaW5nIHRoZSBzcGFjaW5nIG9mIGNvbXBvbmVudHMuIENvbW1vbmx5IHVzZWQgd2l0aCB0aGUgYEZsZXhgIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9ib3ggRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2ZsZXgtYW5kLWJveCBGbGV4IGFuZCBCb3ggRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IEJveCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdCb3gnKTtcbi8qKlxuICogVGhlIGBTdGVwSW5kaWNhdG9yYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbmRpY2F0b3IgdG8gc2hvdyB0aGUgY3VycmVudCBzdGVwIG9mIGEgbXVsdGktc3RlcCBwcm9jZXNzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0ZXAtaW5kaWNhdG9yIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGVwSW5kaWNhdG9yID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0ZXBJbmRpY2F0b3InKTtcbi8qKlxuICogVGhlIGBBY2NvcmRpb25gIGNvbXBvbmVudCByZW5kZXJzIGFuIGV4cGFuZGFibGUgYW5kIGNvbGxhcHNhYmxlIHNlY3Rpb24gdGhhdCBjYW4gY29udGFpbiBvdGhlciBjb21wb25lbnRzLiBUaGlzIGNvbXBvbmVudCBjYW4gYmUgaGVscGZ1bCBmb3Igc2F2aW5nIHNwYWNlIGFuZCBicmVha2luZyB1cCBleHRlbnNpb24gY29udGVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9hY2NvcmRpb24gRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEFjY29yZGlvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdBY2NvcmRpb24nKTtcbi8qKlxuICogVGhlIE11bHRpU2VsZWN0IGNvbXBvbmVudCByZW5kZXJzIGEgZHJvcGRvd24gbWVudSBzZWxlY3QgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBzZWxlY3QgbXVsdGlwbGUgdmFsdWVzLiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tdWx0aS1zZWxlY3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IE11bHRpU2VsZWN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ011bHRpU2VsZWN0Jyk7XG4vKipcbiAqIFRoZSBgRmxleGAgY29tcG9uZW50IHJlbmRlcnMgYSBmbGV4IGNvbnRhaW5lciB0aGF0IGNhbiBjb250YWluIG90aGVyIGNvbXBvbmVudHMsIGFuZCBhcnJhbmdlIHRoZW0gd2l0aCBwcm9wcy4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGNyZWF0ZSBhIGZsZXhpYmxlIGFuZCByZXNwb25zaXZlIGxheW91dC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9mbGV4IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9mbGV4LWFuZC1ib3ggRmxleCBhbmQgQm94IEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBGbGV4ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0ZsZXgnKTtcbi8qKlxuICogVGhlIGBEYXRlSW5wdXRgIGNvbXBvbmVudCByZW5kZXJzIGFuIGlucHV0IGZpZWxkIHdoZXJlIGEgdXNlciBjYW4gc2VsZWN0IGEgZGF0ZS4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZGF0ZS1pbnB1dCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgRGF0ZUlucHV0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0RhdGVJbnB1dCcpO1xuLyoqXG4gKiBUaGUgYENoZWNrYm94YCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSBjaGVja2JveCBpbnB1dC4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgbXVsdGlwbGUgY2hlY2tib3hlcywgeW91IHNob3VsZCB1c2UgYFRvZ2dsZUdyb3VwYCBpbnN0ZWFkLCBhcyBpdCBjb21lcyB3aXRoIGV4dHJhIGxvZ2ljIGZvciBoYW5kbGluZyBtdWx0aXBsZSBjaGVja2JveGVzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoZWNrYm94IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdDaGVja2JveCcpO1xuLyoqXG4gKiBUaGUgYFJhZGlvQnV0dG9uYCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSByYWRpbyBpbnB1dC4gQ29tbW9ubHkgdXNlZCB3aXRoaW4gdGhlIGBGb3JtYCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgbXVsdGlwbGUgcmFkaW8gaW5wdXRzLCB5b3Ugc2hvdWxkIHVzZSBgVG9nZ2xlR3JvdXBgIGluc3RlYWQsIGFzIGl0IGNvbWVzIHdpdGggZXh0cmEgbG9naWMgZm9yIGhhbmRsaW5nIG11bHRpcGxlIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IFJhZGlvQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1JhZGlvQnV0dG9uJyk7XG4vKipcbiAqIFRoZSBgTGlzdGAgY29tcG9uZW50IHJlbmRlcnMgYSBsaXN0IG9mIGl0ZW1zLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBhIGxpc3Qgb2YgaXRlbXMsIHN1Y2ggYXMgYSBsaXN0IG9mIGNvbnRhY3RzLCB0YXNrcywgb3Igb3RoZXIgZGF0YS4gQSBsaXN0IGNhbiBiZSBzdHlsZWQgYXMgYSBidWxsZXRlZCBsaXN0IG9yIGEgbnVtYmVyZWQgbGlzdC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9saXN0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xpc3QnKTtcbi8qKlxuICogVGhlIGBUb2dnbGVgIGNvbXBvbmVudCByZW5kZXJzIGEgYm9vbGVhbiB0b2dnbGUgc3dpdGNoIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBzaXppbmcsIGxhYmVsIHBvc2l0aW9uLCByZWFkLW9ubHksIGFuZCBtb3JlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RvZ2dsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVG9nZ2xlID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RvZ2dsZScpO1xuLyoqXG4gKiBUaGUgYERyb3Bkb3duYCBjb21wb25lbnQgcmVuZGVycyBhIGRyb3Bkb3duIG1lbnUgdGhhdCBjYW4gYXBwZWFyIGFzIGEgYnV0dG9uIG9yIGh5cGVybGluay4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGVuYWJsZSB1c2VycyB0byBzZWxlY3QgZnJvbSBtdWx0aXBsZSBvcHRpb25zIGluIGEgY29tcGFjdCBsaXN0LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Ryb3Bkb3duIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEcm9wZG93biA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdEcm9wZG93bicpO1xuLyoqXG4gKiBUaGUgUGFuZWwgY29tcG9uZW50IHJlbmRlcnMgYSBwYW5lbCBvdmVybGF5IG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBwYWdlIGFuZCBjb250YWlucyBvdGhlciBjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZGVzaWduLXBhdHRlcm5zI3BhbmVsIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWwgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUGFuZWwnKTtcbi8qKlxuICogVGhlIGBQYW5lbEZvb3RlcmAgaXMgYSBzdGlja3kgZm9vdGVyIGNvbXBvbmVudCBkaXNwbGF5ZWQgYXQgdGhlIGJvdHRvbSBvZiBhIGBQYW5lbGAgY29tcG9uZW50LiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBhY3Rpb25zIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGQgYmUgdmlzaWJsZSBhdCBhbGwgdGltZXMuIEluY2x1ZGUgb25seSBvbmUgYFBhbmVsRm9vdGVyYCBjb21wb25lbnQgcGVyIGBQYW5lbGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcGFuZWwtZm9vdGVyIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWxGb290ZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUGFuZWxGb290ZXInKTtcbi8qKlxuICogVGhlIGBQYW5lbEJvZHlgIGNvbXBvbmVudCBpcyBhIGNvbnRhaW5lciB0aGF0IHdyYXBzIHRoZSBwYW5lbCdzIGNvbnRlbnQgYW5kIG1ha2VzIGl0IHNjcm9sbGFibGUuIEluY2x1ZGUgb25seSBvbmUgYFBhbmVsQm9keWAgY29tcG9uZW50IHBlciBgUGFuZWxgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsLWZvb3RlciBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFBhbmVsQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbEJvZHknKTtcbi8qKlxuICogVGhlIGBQYW5lbFNlY3Rpb25gIGNvbXBvbmVudCBpcyBhIGNvbnRhaW5lciB0aGF0IGFkZHMgcGFkZGluZyBhbmQgYm90dG9tIG1hcmdpbiB0byBwcm92aWRlIHNwYWNpbmcgYmV0d2VlbiBjb250ZW50LiBVc2UgdGhlIGBQYW5lbFNlY3Rpb25gIGNvbXBvbmVudCB0byBzZXBhcmF0ZSBjb250ZW50IHdpdGhpbiBhIGBQYW5lbEJvZHlgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3BhbmVsLWZvb3RlciBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFBhbmVsU2VjdGlvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbFNlY3Rpb24nKTtcbi8qKlxuICogVGhlIGBTdGVwcGVySW5wdXRgIGNvbXBvbmVudCByZW5kZXJzIGEgbnVtYmVyIGlucHV0IGZpZWxkIHRoYXQgY2FuIGJlIGluY3JlYXNlZCBvciBkZWNyZWFzZWQgYnkgYSBzZXQgbnVtYmVyLiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGVwcGVyLWlucHV0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGVwcGVySW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RlcHBlcklucHV0Jyk7XG4vKipcbiAqIFRoZSBNb2RhbCBjb21wb25lbnQgcmVuZGVycyBhIHBvcC11cCBvdmVybGF5IHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29tcG9uZW50cy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tb2RhbCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2Rlc2lnbi1wYXR0ZXJucyNtb2RhbCBEZXNpZ24gUGF0dGVybiBFeGFtcGxlc31cbiAqL1xuZXhwb3J0IGNvbnN0IE1vZGFsID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ01vZGFsJyk7XG4vKipcbiAqIFRoZSBgTW9kYWxCb2R5YCBjb21wb25lbnQgY29udGFpbnMgdGhlIG1haW4gY29udGVudCBvZiB0aGUgbW9kYWwuIE9uZSBgTW9kYWxCb2R5YCBpcyByZXF1aXJlZCBwZXIgYE1vZGFsYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9tb2RhbCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vb3ZlcmxheS1leGFtcGxlIE92ZXJsYXkgRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IE1vZGFsQm9keSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdNb2RhbEJvZHknKTtcbi8qKlxuICogVGhlIGBNb2RhbEZvb3RlcmAgY29tcG9uZW50IGlzIGFuIG9wdGlvbmFsIGNvbXBvbmVudCB0byBmb3JtYXQgdGhlIGZvb3RlciBzZWN0aW9uIG9mIHRoZSBtb2RhbC4gVXNlIG9uZSBgTW9kYWxGb290ZXJgIHBlciBgTW9kYWxgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL21vZGFsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgTW9kYWxGb290ZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTW9kYWxGb290ZXInKTtcbi8qKlxuICogVXNlIHRoZSBgSWNvbmAgY29tcG9uZW50IHRvIHJlbmRlciBhIHZpc3VhbCBpY29uIHdpdGhpbiBvdGhlciBjb21wb25lbnRzLiBJdCBjYW4gZ2VuZXJhbGx5IGJlIHVzZWQgaW5zaWRlIG1vc3QgY29tcG9uZW50cywgZXhjbHVkaW5nIG9uZXMgdGhhdCBkb24ndCBzdXBwb3J0IGNoaWxkIGNvbXBvbmVudHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaWNvbiBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSWNvbiA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdJY29uJyk7XG4vKipcbiAqIFRoZSBgU3RhdHVzVGFnYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBpbmRpY2F0b3IgdG8gZGlzcGxheSB0aGUgY3VycmVudCBzdGF0dXMgb2YgYW4gaXRlbS4gU3RhdHVzIHRhZ3MgY2FuIGJlIHN0YXRpYyBvciBjbGlja2FibGUuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc3RhdHVzLXRhZyBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGF0dXMtdGFnI3ZhcmlhbnRzIFZhcmlhbnRzfVxuICovXG5leHBvcnQgY29uc3QgU3RhdHVzVGFnID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXR1c1RhZycpO1xuLyoqXG4gKiBUaGUgYExvYWRpbmdCdXR0b25gIGNvbXBvbmVudCByZW5kZXJzIGEgYnV0dG9uIHdpdGggbG9hZGluZyBzdGF0ZSBvcHRpb25zLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xvYWRpbmctYnV0dG9uIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkaW5nQnV0dG9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xvYWRpbmdCdXR0b24nLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBCYXJDaGFydGAgY29tcG9uZW50IHJlbmRlcnMgYSBiYXIgY2hhcnQgZm9yIHZpc3VhbGl6aW5nIGRhdGEuIFRoaXMgdHlwZSBvZiBjaGFydCBpcyBiZXN0IHN1aXRlZCBmb3IgY29tcGFyaW5nIGNhdGVnb3JpY2FsIGRhdGEuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvYmFyLWNoYXJ0IEJhckNoYXJ0IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoYXJ0cyBDaGFydHMgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2NoYXJ0cy1leGFtcGxlIENoYXJ0cyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgQmFyQ2hhcnQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQmFyQ2hhcnQnKTtcbi8qKlxuICogVGhlIGBMaW5lQ2hhcnRgIGNvbXBvbmVudCByZW5kZXJzIGEgbGluZSBjaGFydCBmb3IgdmlzdWFsaXppbmcgZGF0YS4gVGhpcyB0eXBlIG9mIGNoYXJ0IGlzIGJlc3Qgc3VpdGVkIGZvciB0aW1lIHNlcmllcyBwbG90cyBvciB0cmVuZCBkYXRhLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xpbmUtY2hhcnQgTGluZUNoYXJ0IERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2NoYXJ0cyBDaGFydHMgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2NoYXJ0cy1leGFtcGxlIENoYXJ0cyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgTGluZUNoYXJ0ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xpbmVDaGFydCcpO1xuLyoqXG4gKiBgVGFic2AgYWxsb3cgeW91IHRvIGdyb3VwIHJlbGF0ZWQgY29udGVudCBpbiBhIGNvbXBhY3Qgc3BhY2UsIGFsbG93aW5nIHVzZXJzIHRvIHN3aXRjaCBiZXR3ZWVuIHZpZXdzIHdpdGhvdXQgbGVhdmluZyB0aGUgcGFnZS5cbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIDxUYWJzIGRlZmF1bHRTZWxlY3RlZD1cIjFcIj5cbiAqICAgPFRhYiB0YWJJZD1cIjFcIj5GaXJzdCB0YWIgY29udGVudDwvVGFiPlxuICogICA8VGFiIHRhYklkPVwiMlwiPlNlY29uZCB0YWIgY29udGVudDwvVGFiPlxuICogPC9UYWJzPlxuICogYGBgXG4gKlxuICogKipMaW5rczoqKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJzIERvY3VtZW50YXRpb259XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vaHVic3BvdGRldi91aWUtdGFiYmVkLXByb2R1Y3QtY2Fyb3VzZWwgVGFicyBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgVGFicyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJzJyk7XG4vKipcbiAqIEVhY2ggYFRhYmAgcmVwcmVzZW50cyBhIHNpbmdsZSB0YWIgKG9yIFwidmlld1wiKSB3aXRoaW4gdGhlIHBhcmVudCBgVGFic2AgY29tcG9uZW50LlxuICogQGV4YW1wbGVcbiAqIGBgYHRzeFxuICogPFRhYnMgZGVmYXVsdFNlbGVjdGVkPVwiMVwiPlxuICogICA8VGFiIHRhYklkPVwiMVwiPkZpcnN0IHRhYiBjb250ZW50PC9UYWI+XG4gKiAgIDxUYWIgdGFiSWQ9XCIyXCI+U2Vjb25kIHRhYiBjb250ZW50PC9UYWI+XG4gKiA8L1RhYnM+XG4gKiBgYGBcbiAqXG4gKiAqKkxpbmtzOioqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYnMgRG9jdW1lbnRhdGlvbn1cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9odWJzcG90ZGV2L3VpZS10YWJiZWQtcHJvZHVjdC1jYXJvdXNlbCBUYWJzIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBUYWIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFiJyk7XG4vKipcbiAqIFRoZSBgSWxsdXN0cmF0aW9uYCBjb21wb25lbnQgcmVuZGVycyBhbiBpbGx1c3RyYXRpb24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaWxsdXN0cmF0aW9uIElsbHVzdHJhdGlvbiBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSWxsdXN0cmF0aW9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0lsbHVzdHJhdGlvbicpO1xuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZyb206IHNoYXJlZC50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjbGFzcyBFeHRlbnNpb25FdmVudCB7XG4gICAgdHlwZTtcbiAgICBidWJibGVzO1xuICAgIHRpbWVTdGFtcDtcbiAgICBpZDtcbiAgICBjb25zdHJ1Y3RvcihldmVudCkge1xuICAgICAgICB0aGlzLmJ1YmJsZXMgPSBldmVudC5idWJibGVzO1xuICAgICAgICB0aGlzLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgICAgICAgdGhpcy5pZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZvcm1TdWJtaXRFeHRlbnNpb25FdmVudCBleHRlbmRzIEV4dGVuc2lvbkV2ZW50IHtcbiAgICB0YXJnZXRWYWx1ZTtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLnRhcmdldFZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGljb25OYW1lcyA9IHtcbiAgICBzdWNjZXNzOiAnc3VjY2VzcycsXG4gICAgcmVtb3ZlOiAncmVtb3ZlJyxcbiAgICBhZGQ6ICdhZGQnLFxuICAgIGF0dGFjaDogJ2F0dGFjaCcsXG4gICAgZGF0ZTogJ2RhdGUnLFxuICAgIGNvcHk6ICdkdXBsaWNhdGUnLFxuICAgIGRlbGV0ZTogJ2RlbGV0ZScsXG4gICAgZWRpdDogJ2VkaXQnLFxuICAgIGVtYWlsOiAnZW1haWwnLFxuICAgIGV4Y2xhbWF0aW9uOiAnZXhjbGFtYXRpb24nLFxuICAgIHF1ZXN0aW9uOiAncXVlc3Rpb24nLFxuICAgIGhvbWU6ICdob21lJyxcbiAgICBsb2NhdGlvbjogJ2xvY2F0aW9uJyxcbiAgICB1cENhcmF0OiAndXBDYXJhdCcsXG4gICAgZG93bkNhcmF0OiAnZG93bkNhcmF0JyxcbiAgICB3YXJuaW5nOiAnd2FybmluZycsXG4gICAgc2hvcHBpbmdDYXJ0OiAnY2FydCcsXG4gICAgY2xvY2s6ICd0aW1lJyxcbiAgICBjb21tZW50OiAnY29tbWVudHMnLFxuICAgIGNvbnRhY3Q6ICdjb250YWN0cycsXG4gICAgc3RhcjogJ2Zhdm9yaXRlJyxcbiAgICBmaWxlOiAnZmlsZScsXG4gICAgcmVwb3J0czogJ3JlcG9ydHMnLFxuICAgIHZpZGVvOiAndmlkZW8nLFxuICAgIHJvYm90OiAnc2ltcGxlQm90JyxcbiAgICByZWZyZXNoOiAncmVmcmVzaCcsXG4gICAgZmFjZUhhcHB5OiAnZW1vamknLFxuICAgIGZhY2VOZXV0cmFsOiAnZW1vamlMaW5lTmV1dHJhbCcsXG4gICAgZmFjZVNhZDogJ2Vtb2ppTGluZVNhZCcsXG4gICAgdXBsb2FkOiAndXBsb2FkJyxcbiAgICBkb3dubG9hZDogJ2Rvd25sb2FkJyxcbiAgICBsZWZ0OiAnbGVmdCcsXG4gICAgcmlnaHQ6ICdyaWdodCcsXG4gICAgZGF0YVN5bmM6ICdkYXRhU3luYycsXG4gICAgaW1hZ2VHYWxsZXJ5OiAnaW1hZ2VHYWxsZXJ5JyxcbiAgICBzZWFyY2g6ICdzZWFyY2gnLFxuICAgIHNhdmU6ICdzYXZlRWRpdGFibGVWaWV3JyxcbiAgICBub3RpZmljYXRpb246ICdub3RpZmljYXRpb24nLFxuICAgIGJ1bGI6ICdidWxiJyxcbiAgICBzZXR0aW5nczogJ3NldHRpbmdzJyxcbiAgICBmaWx0ZXI6ICdmaWx0ZXInLFxuICAgIGdhdWdlOiAnZ2F1Z2UnLFxuICAgIGVucm9sbDogJ2Vucm9sbCcsXG4gICAgZ2VuZXJhdGVDaGFydDogJ2dlbmVyYXRlQ2hhcnQnLFxuICAgIGdpZnQ6ICdnaWZ0JyxcbiAgICBmbGFtZTogJ2hpZ2hseUVuZ2FnZWRMZWFkJyxcbiAgICBpbmJveDogJ2luYm94JyxcbiAgICBpbWFnZTogJ2luc2VydEltYWdlJyxcbiAgICBxdW90ZTogJ2luc2VydFF1b3RlJyxcbiAgICBpbnNlcnRWaWRlbzogJ2luc2VydFZpZGVvJyxcbiAgICBpbnZvaWNlOiAnaW52b2ljZScsXG4gICAga2V5OiAna2V5JyxcbiAgICBib29rOiAna25vd2xlZGdlQmFzZScsXG4gICAgZ2xvYmU6ICdsYW5ndWFnZScsXG4gICAgbGVzc29uOiAnbGVzc29uJyxcbiAgICBsaW5rOiAnbGluaycsXG4gICAgbGlzdFZpZXc6ICdsaXN0VmlldycsXG4gICAgbG9ja2VkOiAnbG9ja2VkJyxcbiAgICBtZW50aW9uOiAnbWVudGlvbicsXG4gICAgbWVzc2FnZXM6ICdtZXNzYWdlcycsXG4gICAgbW9iaWxlOiAnbW9iaWxlJyxcbiAgICBub3RpZmljYXRpb25PZmY6ICdub3RpZmljYXRpb25PZmYnLFxuICAgIGhhc2g6ICdudW1lcmljRGF0YVR5cGUnLFxuICAgIG9iamVjdEFzc29jaWF0aW9uczogJ29iamVjdEFzc29jaWF0aW9ucycsXG4gICAgb2JqZWN0QXNzb2NpYXRpb25zTWFueVRvTWFueTogJ29iamVjdEFzc29jaWF0aW9uc01hbnlUb01hbnknLFxuICAgIG9iamVjdEFzc29jaWF0aW9uc01hbnlUb09uZTogJ29iamVjdEFzc29jaWF0aW9uc01hbnlUb09uZScsXG4gICAgb2ZmaWNlMzY1OiAnb2ZmaWNlMzY1JyxcbiAgICBvcmRlcjogJ29yZGVyJyxcbiAgICBwYXltZW50U3Vic2NyaXB0aW9uczogJ3BheW1lbnRTdWJzY3JpcHRpb25zJyxcbiAgICBwcm9kdWN0OiAncHJvZHVjdCcsXG4gICAgcG93ZXJQb2ludEZpbGU6ICdwb3dlclBvaW50RmlsZScsXG4gICAgcHJlc2VudGF0aW9uOiAncHJlc2VudGF0aW9uJyxcbiAgICBwdWJsaXNoOiAncHVibGlzaCcsXG4gICAgcXVlc3Rpb25BbnN3ZXI6ICdxdWVzdGlvbkFuc3dlcicsXG4gICAgcXVpY2tib29rczogJ3F1aWNrYm9va3MnLFxuICAgIHJlYWRNb3JlOiAncmVhZE1vcmUnLFxuICAgIHJlYWxFc3RhdGVMaXN0aW5nOiAncmVhbEVzdGF0ZUxpc3RpbmcnLFxuICAgIHJlYWRPbmx5VmlldzogJ3JlYWRPbmx5VmlldycsXG4gICAgcmVjZW50bHlTZWxlY3RlZDogJ3JlY2VudGx5U2VsZWN0ZWQnLFxuICAgIHJlY29yZDogJ3JlY29yZCcsXG4gICAgcmVkbzogJ3JlZG8nLFxuICAgIHVuZG86ICd1bmRvJyxcbiAgICByZWdpc3RyYXRpb246ICdyZWdpc3RyYXRpb24nLFxuICAgIHJlcGxhY2U6ICdyZXBsYWNlJyxcbiAgICByb3RhdGU6ICdyb3RhdGUnLFxuICAgIHNhbGVzUXVvdGU6ICdzYWxlc1F1b3RlJyxcbiAgICBzYWxlc1RlbXBsYXRlczogJ3NhbGVzVGVtcGxhdGVzJyxcbiAgICBzZXF1ZW5jZXM6ICdzZXF1ZW5jZXMnLFxuICAgIHNwZWxsQ2hlY2s6ICdzcGVsbENoZWNrJyxcbiAgICBzdHJpa2U6ICdzdHJpa2UnLFxuICAgIHRhYmxldDogJ3RhYmxldCcsXG4gICAgdGFnOiAndGFnJyxcbiAgICB0YXNrczogJ3Rhc2tzJyxcbiAgICB0ZXN0OiAndGVzdCcsXG4gICAgdGlja2V0OiAndGlja2V0JyxcbiAgICB0aHVtYnNVcDogJ3RodW1ic1VwJyxcbiAgICB0aHVtYnNEb3duOiAndGh1bWJzRG93bicsXG4gICAgdHJhbnNsYXRlOiAndHJhbnNsYXRlJyxcbiAgICB0cm9waHk6ICd0cm9waHknLFxuICAgIHZpZGVvRmlsZTogJ3ZpZGVvRmlsZScsXG4gICAgdmlkZW9QbGF5ZXJTdWJ0aXRsZXM6ICd2aWRlb1BsYXllclN1YnRpdGxlcycsXG4gICAgdmlldzogJ3ZpZXcnLFxuICAgIHZpZXdEZXRhaWxzOiAndmlld0RldGFpbHMnLFxuICAgIHdlYnNpdGU6ICd3ZWJzaXRlJyxcbiAgICB3b3JrZmxvd3M6ICd3b3JrZmxvd3MnLFxuICAgIHpvb21JbjogJ3pvb21JbicsXG4gICAgem9vbU91dDogJ3pvb21PdXQnLFxuICAgIGdvYWw6ICdnb2FsJyxcbiAgICBjYW1wYWlnbnM6ICdjYW1wYWlnbnMnLFxuICAgIGNhcDogJ2NhcCcsXG4gICAgYmxvY2s6ICdibG9jaycsXG4gICAgYmFuazogJ2JhbmsnLFxuICAgIGFwcHJvdmFsczogJ2FwcHJvdmFscycsXG4gICAgYXBwb2ludG1lbnQ6ICdhcHBvaW50bWVudCcsXG4gICAgZmFjZWJvb2s6ICdzb2NpYWxCbG9ja0ZhY2Vib29rJyxcbiAgICBnb29nbGVQbHVzOiAnc29jaWFsQmxvY2tHb29nbGVwbHVzJyxcbiAgICBpbnN0YWdyYW06ICdzb2NpYWxCbG9ja0luc3RhZ3JhbScsXG4gICAgbGlua2VkaW46ICdzb2NpYWxCbG9ja0xpbmtlZGluJyxcbiAgICBwaW50ZXJlc3Q6ICdzb2NpYWxCbG9ja1BpbnRlcmVzdCcsXG4gICAgcnNzOiAnc29jaWFsQmxvY2tSc3MnLFxuICAgIHR3aXR0ZXI6ICdzb2NpYWxCbG9ja1R3aXR0ZXInLFxuICAgIHg6ICdzb2NpYWxCbG9ja1gnLFxuICAgIHhpbmc6ICdzb2NpYWxCbG9ja1hpbmcnLFxuICAgIHlvdXR1YmU6ICdzb2NpYWxCbG9ja1lvdXR1YmUnLFxuICAgIHlvdXR1YmVQbGF5OiAnc29jaWFsQmxvY2tZb3V0dWJlcGxheScsXG4gICAgc29ydEFscEFzYzogJ3NvcnRBbHBBc2MnLFxuICAgIHNvcnRBbHBEZXNjOiAnc29ydEFscERlc2MnLFxuICAgIHNvcnRBbXRBc2M6ICdzb3J0QW10QXNjJyxcbiAgICBzb3J0QW10RGVzYzogJ3NvcnRBbXREZXNjJyxcbiAgICBzb3J0TnVtQXNjOiAnc29ydE51bUFzYycsXG4gICAgc29ydE51bURlc2M6ICdzb3J0TnVtRGVzYycsXG4gICAgc29ydFRhYmxlQXNjOiAnc29ydFRhYmxlQXNjJyxcbiAgICBzb3J0VGFibGVEZXNjOiAnc29ydFRhYmxlRGVzYycsXG4gICAgdGV4dDogJ3RleHQnLFxuICAgIHRleHRDb2xvcjogJ3RleHRDb2xvcicsXG4gICAgdGV4dERhdGFUeXBlOiAndGV4dERhdGFUeXBlJyxcbiAgICB0ZXh0U25pcHBldDogJ3RleHRTbmlwcGV0JyxcbiAgICBjYWxsaW5nOiAnY2FsbGluZycsXG4gICAgY2FsbGluZ0hhbmd1cDogJ2NhbGxpbmdIYW5ndXAnLFxuICAgIGNhbGxpbmdNYWRlOiAnY2FsbGluZ01hZGUnLFxuICAgIGNhbGxpbmdNaXNzZWQ6ICdjYWxsaW5nTWlzc2VkJyxcbiAgICBjYWxsaW5nVm9pY2VtYWlsOiAnY2FsbGluZ1ZvaWNlbWFpbCcsXG4gICAgZmFjZUhhcHB5RmlsbGVkOiAnZW1vamlGaWxsSGFwcHknLFxuICAgIGZhY2VOZXV0cmFsRmlsbGVkOiAnZW1vamlGaWxsTmV1dHJhbCcsXG4gICAgZmFjZVNhZEZpbGxlZDogJ2Vtb2ppRmlsbFNhZCcsXG59O1xuLyoqIEBkZXByZWNhdGVkIHVzZSBFeHRlbnNpb25FdmVudC9Gb3JtU3VibWl0RXh0ZW5zaW9uRXZlbnQgaW5zdGVhZCAqL1xuZXhwb3J0IGNsYXNzIFJlbW90ZUV2ZW50IHtcbiAgICB0eXBlO1xuICAgIGJ1YmJsZXM7XG4gICAgdGltZVN0YW1wO1xuICAgIHRhcmdldFZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBldmVudCkge1xuICAgICAgICB0aGlzLmJ1YmJsZXMgPSBldmVudC5idWJibGVzO1xuICAgICAgICB0aGlzLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IGV2ZW50LnRpbWVTdGFtcDtcbiAgICAgICAgdGhpcy50YXJnZXRWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjaGFydEZpZWxkVHlwZXMgPSB7XG4gICAgZGF0ZXRpbWU6ICdkYXRldGltZScsXG4gICAgbGluZWFyOiAnbGluZWFyJyxcbiAgICBjYXRlZ29yeTogJ2NhdGVnb3J5Jyxcbn07XG5leHBvcnQgY29uc3QgaWxsdXN0cmF0aW9uTmFtZXMgPSB7XG4gICAgLy8gU3RhbmRhcmQgMToxIG1hcHBpbmdzXG4gICAgbG9jazogJ2xvY2snLFxuICAgIHVubG9jazogJ3VubG9jaycsXG4gICAgZWxlY3Ryb25pY1NpZ25hdHVyZTogJ2VsZWN0cm9uaWMtc2lnbmF0dXJlJyxcbiAgICBlbGVjdHJvbmljU2lnbmF0dXJlRW1wdHlTdGF0ZTogJ2VsZWN0cm9uaWMtc2lnbmF0dXJlLWVtcHR5LXN0YXRlJyxcbiAgICBjYWxsaW5nU2V0VXA6ICdjYWxsaW5nLXNldC11cCcsXG4gICAgY29tcGFuaWVzOiAnY29tcGFuaWVzJyxcbiAgICBjb250YWN0czogJ2NvbnRhY3RzJyxcbiAgICBtdWx0aXBsZU9iamVjdHM6ICdtdWx0aXBsZS1vYmplY3RzJyxcbiAgICBvYmplY3Q6ICdvYmplY3QnLFxuICAgIHRhc2s6ICd0YXNrJyxcbiAgICBkZWFsczogJ2RlYWxzJyxcbiAgICByZWdpc3RyYXRpb246ICdyZWdpc3RyYXRpb24nLFxuICAgIGRldmVsb3BlclNlY3VyaXR5VXBkYXRlOiAnZGV2ZWxvcGVyLXNlY3VyaXR5LXVwZGF0ZScsXG4gICAgc29jaWFsOiAnc29jaWFsJyxcbiAgICBsZWFkczogJ2xlYWRzJyxcbiAgICB0YXJnZXQ6ICd0YXJnZXQnLFxuICAgIGVtYWlsQ29uZmlybWF0aW9uOiAnZW1haWwtY29uZmlybWF0aW9uJyxcbiAgICBzdWNjZXNzZnVsbHlDb25uZWN0ZWRFbWFpbDogJ3N1Y2Nlc3NmdWxseS1jb25uZWN0ZWQtZW1haWwnLFxuICAgIGNvbnRlbnRTdHJhdGVneTogJ2NvbnRlbnQtc3RyYXRlZ3knLFxuICAgIGFkZE9uUmVwb3J0aW5nOiAnYWRkLW9uLXJlcG9ydGluZycsXG4gICAgcHJvZHVjdHNTaG9wcGluZ0NhcnQ6ICdwcm9kdWN0cy1zaG9wcGluZy1jYXJ0JyxcbiAgICBzdG9yZTogJ3N0b3JlJyxcbiAgICBzdG9yZURpc2FibGVkOiAnc3RvcmUtZGlzYWJsZWQnLFxuICAgIGN1c3RvbWVyU3VwcG9ydDogJ2N1c3RvbWVyLXN1cHBvcnQnLFxuICAgIGN1c3RvbWVyRXhwZXJpZW5jZTogJ2N1c3RvbWVyLWV4cGVyaWVuY2UnLFxuICAgIGFwaTogJ2FwaScsXG4gICAgaW50ZWdyYXRpb25zOiAnaW50ZWdyYXRpb25zJyxcbiAgICBzYW5kYm94QWRkT246ICdzYW5kYm94LWFkZC1vbicsXG4gICAgY3VzdG9tT2JqZWN0czogJ2N1c3RvbS1vYmplY3RzJyxcbiAgICBwYXltZW50c0J1dHRvbjogJ3BheW1lbnRzLWJ1dHRvbicsXG4gICAgYXV0b21hdGVkVGVzdGluZzogJ2F1dG9tYXRlZC10ZXN0aW5nJyxcbiAgICBlbXB0eVN0YXRlQ2hhcnRzOiAnZW1wdHktc3RhdGUtY2hhcnRzJyxcbiAgICAvLyBTcGVjaWFsIG1hcHBpbmdzIHRoYXQgYXJlIG5vdCAxOjFcbiAgICBtZWV0aW5nczogJ21lZXRpbmdzLXNtYWxsJyxcbiAgICB0aWNrZXRzOiAndGlja2V0LXNtYWxsJyxcbiAgICBlcnJvckdlbmVyYWw6ICdlcnJvcnMvZ2VuZXJhbCcsXG4gICAgZXJyb3JIb3VyZ2xhc3M6ICdlcnJvcnMvaG91cmdsYXNzJyxcbiAgICBtaWRkbGVQYW5lQ2FyZHM6ICdzZXR0aW5ncy1taWRkbGUtcGFuZS1jYXJkcycsXG4gICAgcHJvcGVydGllc1NpZGViYXI6ICdzZXR0aW5ncy1wcm9wZXJ0aWVzLXNpZGViYXInLFxuICAgIHNpZGViYXI6ICdzZXR0aW5ncy1zaWRlYmFyJyxcbn07XG5leHBvcnQgY29uc3QgRVhURU5TSU9OX1BPSU5UX0xPQ0FUSU9OUyA9IFtcbiAgICAnY3JtLnByZXZpZXcnLFxuICAgICdjcm0ucmVjb3JkLnNpZGViYXInLFxuICAgICdjcm0ucmVjb3JkLnRhYicsXG4gICAgJ2hlbHBkZXNrLnNpZGViYXInLFxuICAgICd1aWUucGxheWdyb3VuZC5taWRkbGUnLFxuICAgICdzZXR0aW5ncycsXG5dO1xuLyoqXG4gKiBAY2F0ZWdvcnkgU2VydmVybGVzc1xuICovXG5leHBvcnQgdmFyIFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXM7XG4oZnVuY3Rpb24gKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMpIHtcbiAgICBTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzW1wiU3VjY2Vzc1wiXSA9IFwiU1VDQ0VTU1wiO1xuICAgIFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXNbXCJFcnJvclwiXSA9IFwiRVJST1JcIjtcbn0pKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMgfHwgKFNlcnZlcmxlc3NFeGVjdXRpb25TdGF0dXMgPSB7fSkpO1xuIiwiLyoqXG4gKiBEb2N1bWVudCBMaXN0IEV4dGVuc2lvbiBmb3IgSHViU3BvdFxuICogXG4gKiBNYW5hZ2VzIGRvY3VtZW50IHJlcXVpcmVtZW50cyBhbmQgY29tcGxldGlvbiBzdGF0dXMgZm9yIGxlZ2FsIGRvc3NpZXJzLlxuICogRG9jdW1lbnRzIGNhbiBiZSBjb25kaXRpb25hbGx5IHJlcXVpcmVkIGJhc2VkIG9uIEh1YlNwb3QgcmVjb3JkIHByb3BlcnRpZXMsXG4gKiBhbmQgdGhlIGV4dGVuc2lvbiBhdXRvbWF0aWNhbGx5IHRyYWNrcyBjb21wbGV0aW9uIHN0YXR1cyBhbmQgbWlzc2luZyBkb2N1bWVudHMuXG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBodWJzcG90LFxuICBDaGVja2JveCxcbiAgRmxleCxcbiAgVGV4dCxcbiAgTG9hZGluZ1NwaW5uZXIsXG4gIEFsZXJ0LFxuICBCb3gsXG4gIEJ1dHRvbixcbiAgRGl2aWRlcixcbiAgVGFnLFxuICBUYWJzLFxuICBUYWIsXG4gIFByb2dyZXNzQmFyLFxuICBFbXB0eVN0YXRlLFxuICBTdGVwSW5kaWNhdG9yLFxuICBJbnB1dCxcbiAgTW9kYWwsXG4gIE1vZGFsQm9keSxcbiAgTW9kYWxGb290ZXIsXG4gIHR5cGUgQ3JtQ29udGV4dCxcbn0gZnJvbSAnQGh1YnNwb3QvdWktZXh0ZW5zaW9ucyc7XG5cbmltcG9ydCBkb2N1bWVudHNDb25maWcgZnJvbSAnLi9kb2N1bWVudHMuanNvbic7XG5pbXBvcnQgdGFic0NvbmZpZyBmcm9tICcuL3RhYnMuanNvbic7XG5pbXBvcnQgY29uZGl0aW9uYWxQcm9wZXJ0aWVzQ29uZmlnIGZyb20gJy4vY29uZGl0aW9uYWxQcm9wZXJ0aWVzLmpzb24nO1xuXG5odWJzcG90LmV4dGVuZDwnY3JtLnJlY29yZC50YWInPigoeyBjb250ZXh0LCBhY3Rpb25zIH0pID0+IDxFeHRlbnNpb24gY29udGV4dD17Y29udGV4dH0gYWN0aW9ucz17YWN0aW9uc30gLz4pO1xuXG5pbnRlcmZhY2UgRXh0ZW5zaW9uUHJvcHMge1xuICBjb250ZXh0OiBDcm1Db250ZXh0O1xuICBhY3Rpb25zOiB7XG4gICAgY2xvc2VPdmVybGF5OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZW4gYSBkb2N1bWVudCBzaG91bGQgYmUgcmVxdWlyZWQuXG4gKiBDb25kaXRpb25zIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCBIdWJTcG90IHJlY29yZCBwcm9wZXJ0aWVzLlxuICovXG5pbnRlcmZhY2UgRG9jdW1lbnRDb25kaXRpb24ge1xuICBwcm9wZXJ0eTogc3RyaW5nO1xuICBvcGVyYXRvcjogJ2VxdWFscycgfCAnbm90X2VxdWFscycgfCAnY29udGFpbnMnIHwgJ25vdF9jb250YWlucycgfCAnaW4nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIERvY3VtZW50IGNvbmZpZ3VyYXRpb24gbG9hZGVkIGZyb20gSlNPTi5cbiAqIERlZmluZXMgdGhlIHN0cnVjdHVyZSBhbmQgcmVxdWlyZW1lbnRzIGZvciBlYWNoIGRvY3VtZW50IHR5cGUuXG4gKi9cbmludGVyZmFjZSBEb2N1bWVudENvbmZpZyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcmVxdWlyZWRQcm9wZXJ0eTogc3RyaW5nO1xuICBwcm92aWRlZFByb3BlcnR5OiBzdHJpbmc7XG4gIHRhYjogc3RyaW5nIHwgc3RyaW5nW107XG4gIG9yZGVyPzogbnVtYmVyIHwgbnVtYmVyW107XG4gIGNvbmRpdGlvbnM6IERvY3VtZW50Q29uZGl0aW9uW107XG59XG5cbi8qKlxuICogRG9jdW1lbnQgc3RhdGUgYXQgcnVudGltZS5cbiAqIEluY2x1ZGVzIGN1cnJlbnQgcmVxdWlyZWQvcHJvdmlkZWQgc3RhdHVzIGFuZCBjb25kaXRpb24gZXZhbHVhdGlvbi5cbiAqL1xuaW50ZXJmYWNlIERvY3VtZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICByZXF1aXJlZDogYm9vbGVhbjtcbiAgcHJvdmlkZWQ6IGJvb2xlYW47XG4gIHJlcXVpcmVkUHJvcGVydHk6IHN0cmluZztcbiAgcHJvdmlkZWRQcm9wZXJ0eTogc3RyaW5nO1xuICB0YWI6IHN0cmluZyB8IHN0cmluZ1tdO1xuICBvcmRlcj86IG51bWJlciB8IG51bWJlcltdO1xuICBjb25kaXRpb25zOiBEb2N1bWVudENvbmRpdGlvbltdO1xufVxuXG5jb25zdCBET0NVTUVOVFNfQ09ORklHOiBEb2N1bWVudENvbmZpZ1tdID0gZG9jdW1lbnRzQ29uZmlnIGFzIERvY3VtZW50Q29uZmlnW107XG5jb25zdCBUQUJTX0NPTkZJRyA9IHRhYnNDb25maWcgYXMgQXJyYXk8eyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0+O1xuXG5jb25zdCBJTklUSUFMX0RPQ1VNRU5UUzogRG9jdW1lbnRbXSA9IERPQ1VNRU5UU19DT05GSUcubWFwKGNvbmZpZyA9PiAoe1xuICBpZDogY29uZmlnLmlkLFxuICBuYW1lOiBjb25maWcubmFtZSxcbiAgcmVxdWlyZWQ6IGZhbHNlLFxuICBwcm92aWRlZDogZmFsc2UsXG4gIHJlcXVpcmVkUHJvcGVydHk6IGNvbmZpZy5yZXF1aXJlZFByb3BlcnR5LFxuICBwcm92aWRlZFByb3BlcnR5OiBjb25maWcucHJvdmlkZWRQcm9wZXJ0eSxcbiAgdGFiOiBjb25maWcudGFiLFxuICBvcmRlcjogY29uZmlnLm9yZGVyLFxuICBjb25kaXRpb25zOiBjb25maWcuY29uZGl0aW9uc1xufSkpO1xuXG5jb25zdCBDT01QTEVUSU9OX1BST1BFUlRZID0gJ2RvY3VtZW50c19jb21wbGV0ZWQnO1xuY29uc3QgRE9TU0lFUl9TVEFURV9QUk9QRVJUWSA9ICdldGF0X2R1X2Rvc3NpZXInO1xuY29uc3QgTUlTU0lOR19ET0NfUFJPUEVSVFkgPSAnbWlzc2luZ19kb2MnO1xuXG5jb25zdCBET1NTSUVSX1NUQVRFUyA9IHtcbiAgVE9fQlVJTEQ6IFwiw4AgY29uc3RydWlyZVwiLFxuICBJTkNPTVBMRVRFOiBcIkVuIGNvbnN0cnVjdGlvblwiLFxuICBDT01QTEVURTogXCJDb21wbGV0XCJcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgdGFiIHZhbHVlIChoYW5kbGVzIGJvdGggc3RyaW5nIGFuZCBhcnJheSlcbiAqL1xuY29uc3QgZ2V0VGFiVmFsdWUgPSAodGFiOiBzdHJpbmcgfCBzdHJpbmdbXSk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHRhYikgPyB0YWJbMF0gOiB0YWI7XG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhIGRvY3VtZW50IGJlbG9uZ3MgdG8gYSBzcGVjaWZpYyB0YWJcbiAqL1xuY29uc3QgZG9jdW1lbnRCZWxvbmdzVG9UYWIgPSAoZG9jOiBEb2N1bWVudCwgdGFiSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShkb2MudGFiKSkge1xuICAgIHJldHVybiBkb2MudGFiLmluY2x1ZGVzKHRhYklkKTtcbiAgfVxuICByZXR1cm4gZG9jLnRhYiA9PT0gdGFiSWQ7XG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIG9yZGVyIGZvciBhIGRvY3VtZW50IGluIGEgc3BlY2lmaWMgdGFiXG4gKi9cbmNvbnN0IGdldE9yZGVyRm9yVGFiID0gKGRvYzogRG9jdW1lbnQsIHRhYklkOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShkb2Mub3JkZXIpKSB7XG4gICAgY29uc3QgdGFiQXJyYXkgPSBBcnJheS5pc0FycmF5KGRvYy50YWIpID8gZG9jLnRhYiA6IFtkb2MudGFiXTtcbiAgICBjb25zdCB0YWJJbmRleCA9IHRhYkFycmF5LmluZGV4T2YodGFiSWQpO1xuICAgIGlmICh0YWJJbmRleCA+PSAwICYmIHRhYkluZGV4IDwgZG9jLm9yZGVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvYy5vcmRlclt0YWJJbmRleF07XG4gICAgfVxuICAgIC8vIElmIHRhYiBub3QgZm91bmQgaW4gYXJyYXksIHJldHVybiBmaXJzdCBvcmRlciBvciA5OTk5XG4gICAgcmV0dXJuIGRvYy5vcmRlclswXSA/PyA5OTk5O1xuICB9XG4gIHJldHVybiBkb2Mub3JkZXIgPz8gOTk5OTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdmFyaW91cyBIdWJTcG90IHByb3BlcnR5IHZhbHVlIGZvcm1hdHMgdG8gYm9vbGVhbi5cbiAqIEhhbmRsZXMgc3RyaW5ncyBsaWtlIFwidHJ1ZVwiLCBcImZhbHNlXCIsIFwiT3VpXCIsIFwiTm9uXCIsIFwiMVwiLCBcIjBcIiwgZXRjLlxuICovXG5jb25zdCB0b0Jvb2wgPSAodmFsdWU6IGFueSk6IGJvb2xlYW4gPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBsb3dlciA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGlmIChsb3dlciA9PT0gJ3RydWUnIHx8IGxvd2VyID09PSAnMScgfHwgbG93ZXIgPT09ICd5ZXMnIHx8IGxvd2VyID09PSAnb3VpJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsb3dlciA9PT0gJ2ZhbHNlJyB8fCBsb3dlciA9PT0gJzAnIHx8IGxvd2VyID09PSAnbm8nIHx8IGxvd2VyID09PSAnbm9uJyB8fCBsb3dlciA9PT0gJy0tJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSAwO1xuICB9XG4gIFxuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuXG5jb25zdCBFeHRlbnNpb24gPSAoeyBjb250ZXh0LCBhY3Rpb25zIH06IEV4dGVuc2lvblByb3BzKSA9PiB7XG4gIGNvbnN0IFtkb2N1bWVudHMsIHNldERvY3VtZW50c10gPSB1c2VTdGF0ZTxEb2N1bWVudFtdPihJTklUSUFMX0RPQ1VNRU5UUyk7XG4gIGNvbnN0IFtyZWNvcmRQcm9wZXJ0aWVzLCBzZXRSZWNvcmRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNDaGFuZ2VkLCBzZXRJc0NoYW5nZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDb21wbGV0ZWQsIHNldElzQ29tcGxldGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2V4aXN0aW5nUHJvcGVydGllcywgc2V0RXhpc3RpbmdQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbZG9zc2llclN0YXRlLCBzZXREb3NzaWVyU3RhdGVdID0gdXNlU3RhdGUoRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQpO1xuICBjb25zdCBbaW5pdGlhbENvbXBsZXRpb25TdGF0dXMsIHNldEluaXRpYWxDb21wbGV0aW9uU3RhdHVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2luaXRpYWxEb3NzaWVyU3RhdGUsIHNldEluaXRpYWxEb3NzaWVyU3RhdGVdID0gdXNlU3RhdGUoRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQpO1xuICBjb25zdCBbc2hvd1N1Y2Nlc3MsIHNldFNob3dTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dFbWFpbFN1Y2Nlc3MsIHNldFNob3dFbWFpbFN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBJbml0aWFsaXplIHNlbGVjdGVkIHRhYiAtIHdpbGwgYmUgdXBkYXRlZCB3aGVuIHNvdXNfY2F0ZWdvcmllIGlzIGxvYWRlZFxuICBjb25zdCBbc2VsZWN0ZWRUYWIsIHNldFNlbGVjdGVkVGFiXSA9IHVzZVN0YXRlPHN0cmluZz4oVEFCU19DT05GSUdbMF0/LmlkIHx8ICdhdXRyZScpO1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW25hdHVyZURlbWFuZGUsIHNldE5hdHVyZURlbWFuZGVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtpc1JlZnVnaWVBcGF0cmlkZSwgc2V0SXNSZWZ1Z2llQXBhdHJpZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcmVmdWdpZVJhdywgc2V0UmVmdWdpZVJhd10gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFsbCByZXF1aXJlZCBkb2N1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLlxuICAgKiBSZXR1cm5zIHRydWUgb25seSBpZiB0aGVyZSBhcmUgcmVxdWlyZWQgZG9jdW1lbnRzIGFuZCBhbGwgYXJlIHByb3ZpZGVkLlxuICAgKi9cbiAgY29uc3QgY2hlY2tDb21wbGV0aW9uID0gKGRvY3M6IERvY3VtZW50W10pOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBpbmNvbXBsZXRlUmVxdWlyZWQgPSBkb2NzLmZpbmQoZG9jID0+IGRvYy5yZXF1aXJlZCAmJiAhZG9jLnByb3ZpZGVkKTtcbiAgICBjb25zdCBoYXNSZXF1aXJlZERvY3MgPSBkb2NzLnNvbWUoZG9jID0+IGRvYy5yZXF1aXJlZCk7XG4gICAgcmV0dXJuICFpbmNvbXBsZXRlUmVxdWlyZWQgJiYgaGFzUmVxdWlyZWREb2NzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBkb3NzaWVyIHN0YXRlIGJhc2VkIG9uIGRvY3VtZW50IHN0YXR1cy5cbiAgICogU3RhdGVzOiBUT19CVUlMRCAobm8gcmVxdWlyZWQgZG9jcyksIElOQ09NUExFVEUgKHNvbWUgcHJvdmlkZWQpLCBDT01QTEVURSAoYWxsIHByb3ZpZGVkKS5cbiAgICovXG4gIGNvbnN0IGNhbGN1bGF0ZURvc3NpZXJTdGF0ZSA9IChkb2NzOiBEb2N1bWVudFtdKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBoYXNSZXF1aXJlZERvY3MgPSBkb2NzLnNvbWUoZG9jID0+IGRvYy5yZXF1aXJlZCk7XG4gICAgaWYgKCFoYXNSZXF1aXJlZERvY3MpIHtcbiAgICAgIHJldHVybiBET1NTSUVSX1NUQVRFUy5UT19CVUlMRDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYW55UHJvdmlkZWQgPSBkb2NzLnNvbWUoZG9jID0+IGRvYy5wcm92aWRlZCk7XG4gICAgaWYgKGFueVByb3ZpZGVkKSB7XG4gICAgICBjb25zdCBhbGxSZXF1aXJlZFByb3ZpZGVkID0gIWRvY3Muc29tZShkb2MgPT4gZG9jLnJlcXVpcmVkICYmICFkb2MucHJvdmlkZWQpO1xuICAgICAgcmV0dXJuIGFsbFJlcXVpcmVkUHJvdmlkZWQgPyBET1NTSUVSX1NUQVRFUy5DT01QTEVURSA6IERPU1NJRVJfU1RBVEVTLklOQ09NUExFVEU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBET1NTSUVSX1NUQVRFUy5UT19CVUlMRDtcbiAgfTtcblxuICAvLyBGZXRjaCBpbml0aWFsIGRhdGEgYW5kIHJlZmV0Y2ggd2hlbiB3aW5kb3cgcmVnYWlucyBmb2N1cyAoZGV0ZWN0cyBleHRlcm5hbCBjaGFuZ2VzKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoRG9jdW1lbnRWYWx1ZXMoKTtcbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgICBmZXRjaERvY3VtZW50VmFsdWVzKCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cyk7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRm9jdXMpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIG1pc3NpbmcgZG9jdW1lbnRzIChyZXF1aXJlZCBidXQgbm90IHByb3ZpZGVkKSBhbmQgZm9ybWF0cyBhcyBIVE1MIGxpc3QuXG4gICAqIFVzZWQgZm9yIHRoZSBtaXNzaW5nX2RvYyBIdWJTcG90IHByb3BlcnR5IHdoaWNoIGlzIGEgUmljaCBUZXh0IGZpZWxkLlxuICAgKi9cbiAgY29uc3QgY2FsY3VsYXRlTWlzc2luZ0RvY3VtZW50cyA9IChkb2NzOiBEb2N1bWVudFtdLCBwcm9wZXJ0aWVzPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcHJvcHNUb1VzZSA9IHByb3BlcnRpZXMgfHwgcmVjb3JkUHJvcGVydGllcztcbiAgICBcbiAgICBjb25zdCBtaXNzaW5nRG9jcyA9IGRvY3NcbiAgICAgIC5maWx0ZXIoZG9jID0+IHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcHJvcHNUb1VzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBIGRvY3VtZW50IGlzIHJlcXVpcmVkIGlmIG1hbnVhbGx5IG1hcmtlZCBhcyByZXF1aXJlZCBPUiBpZiBjb25kaXRpb25zIGFyZSBtZXRcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZCA9IGRvYy5yZXF1aXJlZCB8fCAoZG9jLmNvbmRpdGlvbnMgJiYgZG9jLmNvbmRpdGlvbnMubGVuZ3RoID4gMCA/IGNvbmRpdGlvbnNNZXQgOiBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaXNSZXF1aXJlZCAmJiAhZG9jLnByb3ZpZGVkO1xuICAgICAgfSlcbiAgICAgIC5tYXAoZG9jID0+IGRvYy5uYW1lKVxuICAgICAgLmZpbHRlcihuYW1lID0+IG5hbWUudHJpbSgpICE9PSAnJyk7XG4gICAgXG4gICAgaWYgKG1pc3NpbmdEb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBsaXN0SXRlbXMgPSBtaXNzaW5nRG9jcy5tYXAoZG9jTmFtZSA9PiBgPGxpPiR7ZG9jTmFtZX08L2xpPmApLmpvaW4oJycpO1xuICAgIHJldHVybiBgPHVsPiR7bGlzdEl0ZW1zfTwvdWw+YDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSBvZiBtaXNzaW5nIGRvY3VtZW50IG5hbWVzIGZvciBkaXNwbGF5IGluIFVJIChlLmcuLCBtb2RhbCkuXG4gICAqL1xuICBjb25zdCBnZXRNaXNzaW5nRG9jdW1lbnRzTGlzdCA9IChkb2NzOiBEb2N1bWVudFtdLCBwcm9wZXJ0aWVzPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHN0cmluZ1tdID0+IHtcbiAgICBjb25zdCBwcm9wc1RvVXNlID0gcHJvcGVydGllcyB8fCByZWNvcmRQcm9wZXJ0aWVzO1xuICAgIFxuICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gZG9jc1xuICAgICAgLmZpbHRlcihkb2MgPT4ge1xuICAgICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCBwcm9wc1RvVXNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEEgZG9jdW1lbnQgaXMgcmVxdWlyZWQgaWYgbWFudWFsbHkgbWFya2VkIGFzIHJlcXVpcmVkIE9SIGlmIGNvbmRpdGlvbnMgYXJlIG1ldFxuICAgICAgICBjb25zdCBpc1JlcXVpcmVkID0gZG9jLnJlcXVpcmVkIHx8IChkb2MuY29uZGl0aW9ucyAmJiBkb2MuY29uZGl0aW9ucy5sZW5ndGggPiAwID8gY29uZGl0aW9uc01ldCA6IGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpc1JlcXVpcmVkICYmICFkb2MucHJvdmlkZWQ7XG4gICAgICB9KVxuICAgICAgLm1hcChkb2MgPT4gZG9jLm5hbWUpXG4gICAgICAuZmlsdGVyKG5hbWUgPT4gbmFtZS50cmltKCkgIT09ICcnKTtcbiAgICBcbiAgICByZXR1cm4gbWlzc2luZ0RvY3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNlbmRfbWFpbCBwcm9wZXJ0eSB0byB0cnVlIHdoZW4gdXNlciBzZW5kcyBlbWFpbCBub3RpZmljYXRpb24uXG4gICAqL1xuICBjb25zdCB1cGRhdGVTZW5kTWFpbFByb3BlcnR5ID0gYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGNvbnN0IG9iamVjdElkID0gY29udGV4dC5jcm0/Lm9iamVjdElkO1xuICAgIFxuICAgIGlmICghb2JqZWN0SWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygndXBkYXRlRG9jdW1lbnRzJywge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpLFxuICAgICAgICAgIGRvY3VtZW50czoge1xuICAgICAgICAgICAgc2VuZF9tYWlsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnZvaSBkZSBsXFwnZW1haWwnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgb25seSB0aGUgbWlzc2luZ19kb2MgcHJvcGVydHkgaW4gSHViU3BvdC5cbiAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBkb2N1bWVudCBzdGF0dXMgY2hhbmdlcy5cbiAgICovXG4gIGNvbnN0IHVwZGF0ZU1pc3NpbmdEb2NQcm9wZXJ0eSA9IGFzeW5jIChtaXNzaW5nRG9jczogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgb2JqZWN0SWQgPSBjb250ZXh0LmNybT8ub2JqZWN0SWQ7XG4gICAgXG4gICAgaWYgKCFvYmplY3RJZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgaHVic3BvdC5zZXJ2ZXJsZXNzKCd1cGRhdGVDb21wbGV0aW9uU3RhdHVzJywge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgbWlzc2luZ0RvYzogbWlzc2luZ0RvY3MsXG4gICAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpXG4gICAgICAgIH0gYXMgYW55XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGNvbXBsZXRpb24gc3RhdHVzLCBkb3NzaWVyIHN0YXRlLCBhbmQgbWlzc2luZyBkb2N1bWVudHMgaW4gSHViU3BvdC5cbiAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBkb2N1bWVudCBzdGF0ZXMgY2hhbmdlLlxuICAgKi9cbiAgY29uc3QgdXBkYXRlU3RhdHVzUHJvcGVydGllcyA9IGFzeW5jIChjb21wbGV0aW9uU3RhdHVzOiBib29sZWFuLCBkb3NzaWVyU3RhdGU6IHN0cmluZywgbWlzc2luZ0RvY3M6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG9iamVjdElkID0gY29udGV4dC5jcm0/Lm9iamVjdElkO1xuICAgIFxuICAgIGlmICghb2JqZWN0SWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygndXBkYXRlQ29tcGxldGlvblN0YXR1cycsIHtcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIGNvbXBsZXRpb25TdGF0dXM6IGNvbXBsZXRpb25TdGF0dXMsXG4gICAgICAgICAgZG9zc2llclN0YXRlOiBkb3NzaWVyU3RhdGUsXG4gICAgICAgICAgbWlzc2luZ0RvYzogbWlzc2luZ0RvY3MsXG4gICAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVycj8ubWVzc2FnZSB8fCAnRXJyb3IgdXBkYXRpbmcgc3RhdHVzIHByb3BlcnRpZXMnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbmNvbnN0IFtpbml0aWFsRG9jdW1lbnRzLCBzZXRJbml0aWFsRG9jdW1lbnRzXSA9IHVzZVN0YXRlPERvY3VtZW50W10+KFtdKTtcblxuICAvKipcbiAgICogRmV0Y2hlcyBkb2N1bWVudCBzdGF0dXMgZnJvbSBIdWJTcG90IGFuZCBpbml0aWFsaXplcyBjb21wb25lbnQgc3RhdGUuXG4gICAqIEFsc28gaGFuZGxlcyBhdXRvLXVwZGF0aW5nIHJlcXVpcmVkIHN0YXR1cyBmb3IgZG9jdW1lbnRzIHdpdGggY29uZGl0aW9ucy5cbiAgICovXG5jb25zdCBmZXRjaERvY3VtZW50VmFsdWVzID0gYXN5bmMgKCkgPT4ge1xuICBzZXRMb2FkaW5nKHRydWUpO1xuICBzZXRFcnJvcignJyk7XG4gIGNvbnN0IG9iamVjdElkID0gY29udGV4dC5jcm0/Lm9iamVjdElkO1xuICBcbiAgICBjb25zdCBwcm9wZXJ0eU5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIC8vIEFsd2F5cyBpbmNsdWRlIHNvdXNfY2F0ZWdvcmllIGZvciB0YWIgc2VsZWN0aW9uXG4gICAgcHJvcGVydHlOYW1lcy5wdXNoKCdzb3VzX2NhdGVnb3JpZScpO1xuICAgIFxuICAgIC8vIEFkZCBhbGwgY29uZGl0aW9uYWwgcHJvcGVydGllcyBuZWVkZWQgZm9yIGNvbmRpdGlvbiBldmFsdWF0aW9uXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZGl0aW9uYWxQcm9wZXJ0aWVzQ29uZmlnKSkge1xuICAgICAgY29uZGl0aW9uYWxQcm9wZXJ0aWVzQ29uZmlnLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIGlmICghcHJvcGVydHlOYW1lcy5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICAgIHByb3BlcnR5TmFtZXMucHVzaChwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBhbGwgZG9jdW1lbnQgcmVxdWlyZWQvcHJvdmlkZWQgcHJvcGVydGllc1xuICAgIElOSVRJQUxfRE9DVU1FTlRTLmZvckVhY2goZG9jID0+IHtcbiAgICAgIGlmIChkb2MucmVxdWlyZWRQcm9wZXJ0eSkge1xuICAgICAgICBwcm9wZXJ0eU5hbWVzLnB1c2goZG9jLnJlcXVpcmVkUHJvcGVydHkpO1xuICAgICAgfVxuICAgICAgaWYgKGRvYy5wcm92aWRlZFByb3BlcnR5KSB7XG4gICAgICAgIHByb3BlcnR5TmFtZXMucHVzaChkb2MucHJvdmlkZWRQcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICBpZiAoIW9iamVjdElkKSB7XG4gICAgc2V0RXJyb3IoJ09iamVjdCBJRCBub3QgZm91bmQgaW4gY29udGV4dCcpO1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygnZ2V0RG9jdW1lbnRWYWx1ZXMnLCB7XG4gICAgICBwcm9wZXJ0aWVzVG9TZW5kOiBbJ2hzX29iamVjdF9pZCddLFxuICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICBwcm9wZXJ0eU5hbWVzOiBwcm9wZXJ0eU5hbWVzLFxuICAgICAgICBpbmNsdWRlQ29tcGxldGlvbjogdHJ1ZSxcbiAgICAgICAgaHNfb2JqZWN0X2lkOiBvYmplY3RJZC50b1N0cmluZygpXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcHJvcGVydGllcyA9IHJlc3BvbnNlIHx8IHt9O1xuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiByZWNlaXZlZCBwcm9wZXJ0aWVzIGtleXM6JywgT2JqZWN0LmtleXMocHJvcGVydGllcykpO1xuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBzb3VzX2NhdGVnb3JpZSBkaXJlY3QgYWNjZXNzOicsIHByb3BlcnRpZXNbJ3NvdXNfY2F0ZWdvcmllJ10pO1xuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBhbGwgc291c19jYXRlZ29yaWUgdmFyaWF0aW9uczonLCBcbiAgICAgIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmZpbHRlcihrID0+IGsudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnc291cycpKSk7XG4gICAgXG4gICAgY29uc3QgZ2V0UHJvcFZhbHVlID0gKG9iajogYW55LCBuZWVkbGU6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKCFvYmopIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBsb3dlciA9IG5lZWRsZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaGl0S2V5ID0gT2JqZWN0LmtleXMob2JqKS5maW5kKGsgPT4gay50b0xvd2VyQ2FzZSgpID09PSBsb3dlciB8fCBrLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXIpKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gaGl0S2V5ID8gb2JqW2hpdEtleV0gOiB1bmRlZmluZWQ7XG4gICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZ2V0UHJvcFZhbHVlOiBzZWFyY2hpbmcgZm9yJywgbmVlZGxlLCAnZm91bmQga2V5OicsIGhpdEtleSwgJ3ZhbHVlOicsIHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29tcGxldGlvblN0YXR1cyA9IHRvQm9vbChwcm9wZXJ0aWVzW0NPTVBMRVRJT05fUFJPUEVSVFldKTtcbiAgICBzZXRJc0NvbXBsZXRlZChjb21wbGV0aW9uU3RhdHVzKTtcbiAgICBzZXRJbml0aWFsQ29tcGxldGlvblN0YXR1cyhjb21wbGV0aW9uU3RhdHVzKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50RG9zc2llclN0YXRlID0gcHJvcGVydGllc1tET1NTSUVSX1NUQVRFX1BST1BFUlRZXSB8fCBET1NTSUVSX1NUQVRFUy5UT19CVUlMRDtcbiAgICBzZXREb3NzaWVyU3RhdGUoY3VycmVudERvc3NpZXJTdGF0ZSk7XG4gICAgc2V0SW5pdGlhbERvc3NpZXJTdGF0ZShjdXJyZW50RG9zc2llclN0YXRlKTtcblxuICAgIC8vIFRyeSBtdWx0aXBsZSB3YXlzIHRvIGdldCBzb3VzX2NhdGVnb3JpZVxuICAgIGxldCBuZCA9IHByb3BlcnRpZXNbJ3NvdXNfY2F0ZWdvcmllJ107XG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGZldGNoRG9jdW1lbnRWYWx1ZXM6IGRpcmVjdCBwcm9wZXJ0eSBhY2Nlc3M6JywgbmQsICd0eXBlOicsIHR5cGVvZiBuZCk7XG4gICAgXG4gICAgaWYgKCFuZCB8fCBuZCA9PT0gJycgfHwgbmQgPT09IG51bGwgfHwgbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmQgPSBnZXRQcm9wVmFsdWUocHJvcGVydGllcywgJ3NvdXNfY2F0ZWdvcmllJyk7XG4gICAgfVxuICAgIGlmICghbmQgfHwgbmQgPT09ICcnIHx8IG5kID09PSBudWxsIHx8IG5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFRyeSB3aXRoIGRpZmZlcmVudCBjYXNlIHZhcmlhdGlvbnNcbiAgICAgIGNvbnN0IHNvdXNLZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcykuZmlsdGVyKGsgPT4gXG4gICAgICAgIGsudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnc291cycpICYmIGsudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY2F0ZWdvcmllJylcbiAgICAgICk7XG4gICAgICBpZiAoc291c0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgICBuZCA9IHByb3BlcnRpZXNbc291c0tleXNbMF1dO1xuICAgICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZmV0Y2hEb2N1bWVudFZhbHVlczogZm91bmQgc291c19jYXRlZ29yaWUgdmlhIHZhcmlhdGlvbjonLCBzb3VzS2V5c1swXSwgJ3ZhbHVlOicsIG5kKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gTG9nIGFsbCBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBtaWdodCBiZSByZWxhdGVkXG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGZldGNoRG9jdW1lbnRWYWx1ZXM6IEFsbCBwcm9wZXJ0eSB2YWx1ZXMgKGZpcnN0IDIwKTonLCBcbiAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLnNsaWNlKDAsIDIwKS5tYXAoKFtrLCB2XSkgPT4gYCR7a306ICR7dn1gKSk7XG4gICAgXG4gICAgbmQgPSAobmQgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBmZXRjaERvY3VtZW50VmFsdWVzOiBzb3VzX2NhdGVnb3JpZSBmaW5hbCB2YWx1ZTonLCBuZCwgJ2xlbmd0aDonLCBuZC5sZW5ndGgpO1xuICAgIFxuICAgIC8vIFRFTVBPUkFSWTogSWYgZW1wdHksIGNoZWNrIGlmIHdlIHNob3VsZCB1c2UgYSB0ZXN0IHZhbHVlXG4gICAgLy8gUmVtb3ZlIHRoaXMgYWZ0ZXIgZGVidWdnaW5nXG4gICAgaWYgKCFuZCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc29sZS53YXJuKCdbRG9jdW1lbnRMaXN0XSBzb3VzX2NhdGVnb3JpZSBpcyBlbXB0eSAtIHByb3BlcnR5IG1heSBub3QgYmUgc2V0IGluIEh1YlNwb3QnKTtcbiAgICB9XG4gICAgXG4gICAgc2V0TmF0dXJlRGVtYW5kZShuZCk7XG4gICAgXG4gICAgLy8gRW5zdXJlIHNvdXNfY2F0ZWdvcmllIGlzIGluIHJlY29yZFByb3BlcnRpZXMgZm9yIGNvbmRpdGlvbiBjaGVja2luZ1xuICAgIGlmIChuZCkge1xuICAgICAgcHJvcGVydGllc1snc291c19jYXRlZ29yaWUnXSA9IG5kO1xuICAgIH1cbiAgICBcbiAgICAvLyBBdXRvLXNlbGVjdCB0aGUgdGFiIGJhc2VkIG9uIHNvdXNfY2F0ZWdvcmllXG4gICAgaWYgKG5kKSB7XG4gICAgICBjb25zdCB0YWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmQpO1xuICAgICAgaWYgKHRhYklkKSB7XG4gICAgICAgIHNldFNlbGVjdGVkVGFiKHRhYklkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVmdWdpZVZhbCA9IGdldFByb3BWYWx1ZShwcm9wZXJ0aWVzLCAnYXZlel92b3VzX3VuX3N0YXR1dF9yZWZ1Z2llX291X2FwYXRyaWRlJyk7XG4gICAgY29uc3QgcmVmdWdpZVN0ciA9IHJlZnVnaWVWYWwgPT09IHVuZGVmaW5lZCB8fCByZWZ1Z2llVmFsID09PSBudWxsID8gJycgOiBTdHJpbmcocmVmdWdpZVZhbCk7XG4gICAgc2V0UmVmdWdpZVJhdyhyZWZ1Z2llU3RyKTtcbiAgICBzZXRJc1JlZnVnaWVBcGF0cmlkZSh0b0Jvb2wocmVmdWdpZVN0cikpO1xuICAgIFxuICAgIHNldFJlY29yZFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgXG4gICAgY29uc3QgcHJvcGVydGllc1NldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChrZXkuaW5jbHVkZXMoJ19yZXF1aXJlZCcpIHx8IGtleS5pbmNsdWRlcygnX3Byb3ZpZGVkJykpIHtcbiAgICAgICAgcHJvcGVydGllc1NldC5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZXRFeGlzdGluZ1Byb3BlcnRpZXMocHJvcGVydGllc1NldCk7XG4gICAgXG4gICAgICBsZXQgdXBkYXRlZERvY3VtZW50cyA9IElOSVRJQUxfRE9DVU1FTlRTLm1hcChkb2MgPT4ge1xuICAgICAgY29uc3QgcmVxdWlyZWRQcm9wID0gZG9jLnJlcXVpcmVkUHJvcGVydHk7XG4gICAgICBjb25zdCBwcm92aWRlZFByb3AgPSBkb2MucHJvdmlkZWRQcm9wZXJ0eTtcbiAgICAgIGNvbnN0IHJlcXVpcmVkUmF3ID0gcHJvcGVydGllc1tyZXF1aXJlZFByb3BdO1xuICAgICAgY29uc3QgcHJvdmlkZWRSYXcgPSBwcm9wZXJ0aWVzW3Byb3ZpZGVkUHJvcF07XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkRnJvbUh1YlNwb3QgPSB0b0Jvb2wocmVxdWlyZWRSYXcpO1xuICAgICAgY29uc3QgcHJvdmlkZWQgPSB0b0Jvb2wocHJvdmlkZWRSYXcpO1xuICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcHJvcGVydGllcyk7XG4gICAgICBcbiAgICAgICAgbGV0IHJlcXVpcmVkOiBib29sZWFuO1xuICAgICAgICBpZiAoZG9jLmNvbmRpdGlvbnMgJiYgZG9jLmNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChjb25kaXRpb25zTWV0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWlyZWQgPSByZXF1aXJlZEZyb21IdWJTcG90O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXF1aXJlZCA9IHJlcXVpcmVkRnJvbUh1YlNwb3Q7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRvYyxcbiAgICAgICAgcmVxdWlyZWQsXG4gICAgICAgICAgcHJvdmlkZWQsXG4gICAgICAgICAgX3JlcXVpcmVkRnJvbUh1YlNwb3Q6IHJlcXVpcmVkRnJvbUh1YlNwb3QsXG4gICAgICAgICAgX3Nob3VsZEJlUmVxdWlyZWQ6IGRvYy5jb25kaXRpb25zICYmIGRvYy5jb25kaXRpb25zLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICA/IChjb25kaXRpb25zTWV0ID8gdHJ1ZSA6IHJlcXVpcmVkRnJvbUh1YlNwb3QpXG4gICAgICAgICAgICA6IHJlcXVpcmVkRnJvbUh1YlNwb3RcbiAgICAgIH07XG4gICAgfSk7XG4gICAgXG4gICAgc2V0RG9jdW1lbnRzKHVwZGF0ZWREb2N1bWVudHMpO1xuICAgIHNldEluaXRpYWxEb2N1bWVudHMoWy4uLnVwZGF0ZWREb2N1bWVudHNdKTtcbiAgICBcbiAgICBjb25zdCBjYWxjdWxhdGVkQ29tcGxldGlvbiA9IGNoZWNrQ29tcGxldGlvbih1cGRhdGVkRG9jdW1lbnRzKTtcbiAgICBjb25zdCBjYWxjdWxhdGVkRG9zc2llclN0YXRlID0gY2FsY3VsYXRlRG9zc2llclN0YXRlKHVwZGF0ZWREb2N1bWVudHMpO1xuICAgIFxuICAgIGlmIChjYWxjdWxhdGVkQ29tcGxldGlvbiAhPT0gY29tcGxldGlvblN0YXR1cyB8fCBcbiAgICAgICAgY2FsY3VsYXRlZERvc3NpZXJTdGF0ZSAhPT0gY3VycmVudERvc3NpZXJTdGF0ZSkge1xuICAgICAgc2V0SXNDb21wbGV0ZWQoY2FsY3VsYXRlZENvbXBsZXRpb24pO1xuICAgICAgc2V0RG9zc2llclN0YXRlKGNhbGN1bGF0ZWREb3NzaWVyU3RhdGUpO1xuICAgICAgc2V0SW5pdGlhbENvbXBsZXRpb25TdGF0dXMoY2FsY3VsYXRlZENvbXBsZXRpb24pO1xuICAgICAgc2V0SW5pdGlhbERvc3NpZXJTdGF0ZShjYWxjdWxhdGVkRG9zc2llclN0YXRlKTtcbiAgICB9XG4gICAgXG4gICAgICBsZXQgbmVlZHNTYXZlID0gZmFsc2U7XG4gICAgICBjb25zdCBkb2NzTmVlZGluZ1VwZGF0ZSA9IHVwZGF0ZWREb2N1bWVudHMuZmlsdGVyKGRvYyA9PiB7XG4gICAgICAgIGlmIChkb2MuY29uZGl0aW9ucyAmJiBkb2MuY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcHJvcGVydGllcyk7XG4gICAgICAgICAgaWYgKCFjb25kaXRpb25zTWV0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlcXVpcmVkRnJvbUh1YlNwb3QgPSAoZG9jIGFzIGFueSkuX3JlcXVpcmVkRnJvbUh1YlNwb3QgPz8gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgc2hvdWxkQmVSZXF1aXJlZCA9IChkb2MgYXMgYW55KS5fc2hvdWxkQmVSZXF1aXJlZCA/PyBmYWxzZTtcbiAgICAgICAgICBpZiAocmVxdWlyZWRGcm9tSHViU3BvdCAhPT0gc2hvdWxkQmVSZXF1aXJlZCkge1xuICAgICAgICAgICAgbmVlZHNTYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICBcbiAgICAgIGlmIChuZWVkc1NhdmUgJiYgZG9jc05lZWRpbmdVcGRhdGUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjb3JyZWN0ZWREb2NzID0gdXBkYXRlZERvY3VtZW50cztcbiAgICAgICAgc2V0RG9jdW1lbnRzKGNvcnJlY3RlZERvY3MpO1xuICAgICAgICBzZXRJbml0aWFsRG9jdW1lbnRzKFsuLi5jb3JyZWN0ZWREb2NzXSk7XG4gICAgICBcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgc2F2ZURvY3VtZW50Q2hhbmdlcyhjb3JyZWN0ZWREb2NzLCB0cnVlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFNpbGVudCBmYWlsIGZvciBhdXRvLXNhdmVcbiAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICBcbiAgICAgICAgdXBkYXRlZERvY3VtZW50cyA9IGNvcnJlY3RlZERvY3M7XG4gICAgICB9XG4gICAgXG4gICAgICBjb25zdCBtaXNzaW5nRG9jcyA9IGNhbGN1bGF0ZU1pc3NpbmdEb2N1bWVudHModXBkYXRlZERvY3VtZW50cywgcHJvcGVydGllcyk7XG4gICAgICB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHkobWlzc2luZ0RvY3MpLmNhdGNoKCgpID0+IHt9KTtcbiAgICBcbiAgICBzZXRJc0NoYW5nZWQoZmFsc2UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3IgZmV0Y2hpbmcgZG9jdW1lbnQgdmFsdWVzJyk7XG4gIH0gZmluYWxseSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH1cbn07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2hlY2tib3ggdG9nZ2xlcyBmb3IgcmVxdWlyZWQvcHJvdmlkZWQgc3RhdHVzLlxuICAgKiBGb3IgZG9jdW1lbnRzIHdpdGggY29uZGl0aW9ucywgcmVxdWlyZWQgc3RhdHVzIGlzIGNvbnRyb2xsZWQgYnkgY29uZGl0aW9uc1xuICAgKiB1bmxlc3MgaW4gdGhlIFwiYXV0cmVcIiB0YWIgd2hlcmUgbWFudWFsIGNvbnRyb2wgaXMgYWxsb3dlZC5cbiAgICovXG5jb25zdCBoYW5kbGVDaGVja2JveFRvZ2dsZSA9IChkb2N1bWVudElkOiBzdHJpbmcsIGZpZWxkOiAncmVxdWlyZWQnIHwgJ3Byb3ZpZGVkJykgPT4ge1xuICByZXR1cm4gKGNoZWNrZWQ6IGJvb2xlYW4sIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgc2V0RG9jdW1lbnRzKHByZXZEb2NzID0+IHtcbiAgICBjb25zdCBuZXdEb2NzID0gcHJldkRvY3MubWFwKGRvYyA9PiB7XG4gICAgICBpZiAoZG9jLmlkID09PSBkb2N1bWVudElkKSB7XG4gICAgICAgICAgaWYgKGZpZWxkID09PSAncmVxdWlyZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCByZWNvcmRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgY29uc3QgaXNBdXRyZVRhYiA9IHNlbGVjdGVkVGFiID09PSAnYXV0cmUnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGRvYy5jb25kaXRpb25zICYmIGRvYy5jb25kaXRpb25zLmxlbmd0aCA+IDAgJiYgIWlzQXV0cmVUYWIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uc01ldCAmJiAhY2hlY2tlZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uc01ldCAmJiBjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kb2MsIHJlcXVpcmVkOiBjb25kaXRpb25zTWV0IH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jLCBbZmllbGRdOiBjaGVja2VkIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IC4uLmRvYywgW2ZpZWxkXTogY2hlY2tlZCB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvYztcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBuZXdDb21wbGV0aW9uU3RhdHVzID0gY2hlY2tDb21wbGV0aW9uKG5ld0RvY3MpO1xuICAgIGNvbnN0IG5ld0Rvc3NpZXJTdGF0ZSA9IGNhbGN1bGF0ZURvc3NpZXJTdGF0ZShuZXdEb2NzKTtcbiAgICAgIHNldElzQ29tcGxldGVkKG5ld0NvbXBsZXRpb25TdGF0dXMpO1xuICAgICAgc2V0RG9zc2llclN0YXRlKG5ld0Rvc3NpZXJTdGF0ZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gY2FsY3VsYXRlTWlzc2luZ0RvY3VtZW50cyhuZXdEb2NzKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBhdXRvLXVwZGF0ZSBtaXNzaW5nX2RvYyBwcm9wZXJ0eSAoY2FsY3VsYXRlZCBmaWVsZClcbiAgICAgIC8vIERvIE5PVCBhdXRvLXVwZGF0ZSBkb2N1bWVudHNfY29tcGxldGVkIG9yIGV0YXRfZHVfZG9zc2llciB1bnRpbCB1c2VyIHNhdmVzXG4gICAgICB1cGRhdGVNaXNzaW5nRG9jUHJvcGVydHkobWlzc2luZ0RvY3MpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tcGxldGlvbkNoYW5nZWQgPSBuZXdDb21wbGV0aW9uU3RhdHVzICE9PSBpbml0aWFsQ29tcGxldGlvblN0YXR1cztcbiAgICAgIGNvbnN0IGRvc3NpZXJTdGF0ZUNoYW5nZWQgPSBuZXdEb3NzaWVyU3RhdGUgIT09IGluaXRpYWxEb3NzaWVyU3RhdGU7XG4gICAgICBjb25zdCBkb2N1bWVudHNDaGFuZ2VkID0gbmV3RG9jcy5zb21lKChjdXJyZW50RG9jLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0aWFsRG9jID0gaW5pdGlhbERvY3VtZW50c1tpbmRleF07XG4gICAgICAgIGlmICghaW5pdGlhbERvYykgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBjdXJyZW50RG9jLnJlcXVpcmVkICE9PSBpbml0aWFsRG9jLnJlcXVpcmVkIHx8IFxuICAgICAgICAgICAgICAgY3VycmVudERvYy5wcm92aWRlZCAhPT0gaW5pdGlhbERvYy5wcm92aWRlZDtcbiAgICAgIH0pO1xuICAgICAgc2V0SXNDaGFuZ2VkKGNvbXBsZXRpb25DaGFuZ2VkIHx8IGRvc3NpZXJTdGF0ZUNoYW5nZWQgfHwgZG9jdW1lbnRzQ2hhbmdlZCk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdEb2NzO1xuICAgIH0pO1xuICB9O1xufTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFueSBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIGNvbXBhcmVkIHRvIGluaXRpYWwgc3RhdGUuXG4gICAqIFVzZWQgdG8gc2hvdy9oaWRlIHNhdmUvY2FuY2VsIGJ1dHRvbnMuXG4gICAqL1xuY29uc3QgY2hlY2tGb3JDaGFuZ2VzID0gKCkgPT4ge1xuICBjb25zdCBjb21wbGV0aW9uQ2hhbmdlZCA9IGlzQ29tcGxldGVkICE9PSBpbml0aWFsQ29tcGxldGlvblN0YXR1cztcbiAgY29uc3QgZG9zc2llclN0YXRlQ2hhbmdlZCA9IGRvc3NpZXJTdGF0ZSAhPT0gaW5pdGlhbERvc3NpZXJTdGF0ZTtcbiAgY29uc3QgZG9jdW1lbnRzQ2hhbmdlZCA9IGRvY3VtZW50cy5zb21lKChjdXJyZW50RG9jLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxEb2MgPSBpbml0aWFsRG9jdW1lbnRzW2luZGV4XTtcbiAgICAgIGlmICghaW5pdGlhbERvYykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MucmVxdWlyZWQgIT09IGluaXRpYWxEb2MucmVxdWlyZWQgfHwgXG4gICAgICAgICAgIGN1cnJlbnREb2MucHJvdmlkZWQgIT09IGluaXRpYWxEb2MucHJvdmlkZWQ7XG4gIH0pO1xuICBzZXRJc0NoYW5nZWQoY29tcGxldGlvbkNoYW5nZWQgfHwgZG9zc2llclN0YXRlQ2hhbmdlZCB8fCBkb2N1bWVudHNDaGFuZ2VkKTtcbn07XG5cbiAgLyoqXG4gICAqIFNhdmVzIGRvY3VtZW50IGNoYW5nZXMgdG8gSHViU3BvdC5cbiAgICogQHBhcmFtIGRvY3NUb1NhdmUgLSBPcHRpb25hbCBkb2N1bWVudHMgdG8gc2F2ZSwgZGVmYXVsdHMgdG8gY3VycmVudCBzdGF0ZVxuICAgKiBAcGFyYW0gc2tpcFJlZmV0Y2ggLSBJZiB0cnVlLCBza2lwcyByZWZldGNoIGFmdGVyIHNhdmUgKHVzZWQgZm9yIGF1dG8tc2F2ZXMpXG4gICAqL1xuICBjb25zdCBzYXZlRG9jdW1lbnRDaGFuZ2VzID0gYXN5bmMgKGRvY3NUb1NhdmU/OiBEb2N1bWVudFtdLCBza2lwUmVmZXRjaDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gIHNldFNhdmluZyh0cnVlKTtcbiAgc2V0RXJyb3IoJycpO1xuICBcbiAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY3MgPSBkb2NzVG9TYXZlIHx8IGRvY3VtZW50cztcbiAgICBjb25zdCBkb2N1bWVudFByb3BlcnRpZXMgPSB7fTtcbiAgICBcbiAgICAgIGRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICBjb25zdCByZXF1aXJlZFByb3AgPSBkb2MucmVxdWlyZWRQcm9wZXJ0eTtcbiAgICAgIGNvbnN0IHByb3ZpZGVkUHJvcCA9IGRvYy5wcm92aWRlZFByb3BlcnR5O1xuICAgICAgICBjb25zdCBpc1JlcXVpcmVkID0gZG9jLnJlcXVpcmVkO1xuICAgICAgZG9jdW1lbnRQcm9wZXJ0aWVzW3JlcXVpcmVkUHJvcF0gPSBpc1JlcXVpcmVkO1xuICAgICAgICBkb2N1bWVudFByb3BlcnRpZXNbcHJvdmlkZWRQcm9wXSA9IGRvYy5wcm92aWRlZDtcbiAgICAgIH0pO1xuICBcbiAgICBjb25zdCBvYmplY3RJZCA9IGNvbnRleHQuY3JtPy5vYmplY3RJZDtcbiAgICBcbiAgICBpZiAoIW9iamVjdElkKSB7XG4gICAgICBzZXRFcnJvcignT2JqZWN0IElEIG5vdCBmb3VuZCBpbiBjb250ZXh0Jyk7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkb2NSZXNwb25zZSA9IGF3YWl0IGh1YnNwb3Quc2VydmVybGVzcygndXBkYXRlRG9jdW1lbnRzJywge1xuICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICBkb2N1bWVudHM6IGRvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgICBoc19vYmplY3RfaWQ6IG9iamVjdElkLnRvU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgXG4gICAgICBpZiAoZG9jUmVzcG9uc2U/LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGRvY1Jlc3BvbnNlLm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGlmIChlcnJvck1zZy5pbmNsdWRlcygnZG9lcyBub3QgZXhpc3QnKSB8fCBlcnJvck1zZy5pbmNsdWRlcygnUFJPUEVSVFlfRE9FU05UX0VYSVNUJykpIHtcbiAgICAgICAgICAvLyBDb250aW51ZSAtIHNvbWUgcHJvcGVydGllcyBtYXkgbm90IGV4aXN0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRvY1Jlc3BvbnNlLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgZG9jdW1lbnRzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gY2FsY3VsYXRlTWlzc2luZ0RvY3VtZW50cyhkb2NzLCByZWNvcmRQcm9wZXJ0aWVzKTtcbiAgICAgIGNvbnN0IHN0YXR1c1VwZGF0ZWQgPSBhd2FpdCB1cGRhdGVTdGF0dXNQcm9wZXJ0aWVzKGlzQ29tcGxldGVkLCBkb3NzaWVyU3RhdGUsIG1pc3NpbmdEb2NzKTtcbiAgICBcbiAgICBpZiAoc3RhdHVzVXBkYXRlZCkge1xuICAgICAgc2V0SW5pdGlhbENvbXBsZXRpb25TdGF0dXMoaXNDb21wbGV0ZWQpO1xuICAgICAgc2V0SW5pdGlhbERvc3NpZXJTdGF0ZShkb3NzaWVyU3RhdGUpO1xuICAgICAgICBzZXRJbml0aWFsRG9jdW1lbnRzKFsuLi5kb2NzXSk7XG4gICAgICBzZXRJc0NoYW5nZWQoZmFsc2UpO1xuICAgICAgXG4gICAgICAgIGlmICghc2tpcFJlZmV0Y2gpIHtcbiAgICAgIHNldFNob3dTdWNjZXNzKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93U3VjY2VzcyhmYWxzZSksIDMwMDApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7XG4gICAgICBhd2FpdCBmZXRjaERvY3VtZW50VmFsdWVzKCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHN0YXR1cyBwcm9wZXJ0aWVzJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBzZXRFcnJvcihlcnI/Lm1lc3NhZ2UgfHwgJ0Vycm9yIHVwZGF0aW5nIGRvY3VtZW50cycpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldFNhdmluZyhmYWxzZSk7XG4gIH1cbn07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbGwgY2hhbmdlcyBiYWNrIHRvIGluaXRpYWwgc3RhdGUgZnJvbSBIdWJTcG90LlxuICAgKi9cbmNvbnN0IHJlc2V0Q2hhbmdlcyA9ICgpID0+IHtcbiAgICBzZXREb2N1bWVudHMoWy4uLmluaXRpYWxEb2N1bWVudHNdKTtcbiAgc2V0SXNDb21wbGV0ZWQoaW5pdGlhbENvbXBsZXRpb25TdGF0dXMpO1xuICBzZXREb3NzaWVyU3RhdGUoaW5pdGlhbERvc3NpZXJTdGF0ZSk7XG4gIHNldElzQ2hhbmdlZChmYWxzZSk7XG59O1xuXG4gIC8vIEF1dG8tdXBkYXRlIEh1YlNwb3QgcHJvcGVydGllcyB3aGVuIGRvY3VtZW50IHN0YXRlcyBjaGFuZ2VcbnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxEb2N1bWVudHMubGVuZ3RoID4gMCAmJiBkb2N1bWVudHMubGVuZ3RoID4gMCAmJiAhbG9hZGluZyAmJiBPYmplY3Qua2V5cyhyZWNvcmRQcm9wZXJ0aWVzKS5sZW5ndGggPiAwKSB7IFxuICAgIGNoZWNrRm9yQ2hhbmdlcygpO1xuICAgIFxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudHMubGVuZ3RoID4gMCAmJiBkb2N1bWVudHMuc29tZShkb2MgPT4gZG9jLm5hbWUpKSB7XG4gICAgICAgICAgY29uc3QgbWlzc2luZ0RvY3MgPSBjYWxjdWxhdGVNaXNzaW5nRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gICAgICAgICAgLy8gT25seSBhdXRvLXVwZGF0ZSBtaXNzaW5nX2RvYyBwcm9wZXJ0eSAoY2FsY3VsYXRlZCBmaWVsZClcbiAgICAgICAgICAvLyBEbyBOT1QgYXV0by11cGRhdGUgZG9jdW1lbnRzX2NvbXBsZXRlZCBvciBldGF0X2R1X2Rvc3NpZXIgdW50aWwgdXNlciBzYXZlc1xuICAgICAgICAgIHVwZGF0ZU1pc3NpbmdEb2NQcm9wZXJ0eShtaXNzaW5nRG9jcykuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICB9XG4gICAgICB9LCAyMDApO1xuICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9XG59LCBbZG9jdW1lbnRzLCBpc0NvbXBsZXRlZCwgZG9zc2llclN0YXRlXSk7XG5cbiAgLy8gVXBkYXRlIHNlbGVjdGVkIHRhYiB3aGVuIG5hdHVyZURlbWFuZGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuYXR1cmVEZW1hbmRlKSB7XG4gICAgICBjb25zdCB0YWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmF0dXJlRGVtYW5kZSk7XG4gICAgICBpZiAodGFiSWQgJiYgdGFiSWQgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIHNldFNlbGVjdGVkVGFiKHRhYklkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtuYXR1cmVEZW1hbmRlXSk7XG5cbiAgLy8gQXV0by11cGRhdGUgcmVxdWlyZWQgc3RhdHVzIHdoZW4gcmVjb3JkIHByb3BlcnRpZXMgY2hhbmdlIChjb25kaXRpb25zIG1heSBoYXZlIGNoYW5nZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHJlY29yZFByb3BlcnRpZXMpLmxlbmd0aCA+IDAgJiYgaW5pdGlhbERvY3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXREb2N1bWVudHMocHJldkRvY3MgPT4ge1xuICAgICAgICBsZXQgaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCB1cGRhdGVkRG9jcyA9IHByZXZEb2NzLm1hcChkb2MgPT4ge1xuICAgICAgICAgIGlmIChkb2MuY29uZGl0aW9ucyAmJiBkb2MuY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCByZWNvcmRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChjb25kaXRpb25zTWV0KSB7XG4gICAgICAgICAgICAgIGlmICghZG9jLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgaGFzQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZG9jLCByZXF1aXJlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEb24ndCBhdXRvLXVwZGF0ZSB0byBmYWxzZSAtIHByZXNlcnZlIG1hbnVhbCBjb250cm9sIGluIFwiYXV0cmVcIiB0YWJcbiAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgICAgaWYgKGhhc0NoYW5nZXMpIHtcbiAgICAgICAgICBjb25zdCBuZXdDb21wbGV0aW9uU3RhdHVzID0gY2hlY2tDb21wbGV0aW9uKHVwZGF0ZWREb2NzKTtcbiAgICAgICAgICBjb25zdCBuZXdEb3NzaWVyU3RhdGUgPSBjYWxjdWxhdGVEb3NzaWVyU3RhdGUodXBkYXRlZERvY3MpO1xuICAgICAgICAgIHNldElzQ29tcGxldGVkKG5ld0NvbXBsZXRpb25TdGF0dXMpO1xuICAgICAgICAgIHNldERvc3NpZXJTdGF0ZShuZXdEb3NzaWVyU3RhdGUpO1xuICAgICAgICBcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGF3YWl0IHNhdmVEb2N1bWVudENoYW5nZXModXBkYXRlZERvY3MsIHRydWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIC8vIFNpbGVudCBmYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgXG4gICAgICAgICAgc2V0SXNDaGFuZ2VkKHRydWUpO1xuICAgICAgICAgIHJldHVybiB1cGRhdGVkRG9jcztcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkRG9jcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3JlY29yZFByb3BlcnRpZXMsIHNlbGVjdGVkVGFiXSk7XG5cblxuICBjb25zdCBnZXREb3NzaWVyU3RhdGVTdHlsZSA9IChzdGF0ZSkgPT4ge1xuICAgIHN3aXRjaChzdGF0ZSkge1xuICAgICAgY2FzZSBET1NTSUVSX1NUQVRFUy5DT01QTEVURTpcbiAgICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuICAgICAgY2FzZSBET1NTSUVSX1NUQVRFUy5JTkNPTVBMRVRFOlxuICAgICAgICByZXR1cm4gXCJ3YXJuaW5nXCI7XG4gICAgICBjYXNlIERPU1NJRVJfU1RBVEVTLlRPX0JVSUxEOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RlcE5hbWVzID0gW1xuICAgIERPU1NJRVJfU1RBVEVTLlRPX0JVSUxELFxuICAgIERPU1NJRVJfU1RBVEVTLklOQ09NUExFVEUsXG4gICAgRE9TU0lFUl9TVEFURVMuQ09NUExFVEVcbiAgXTtcblxuICBjb25zdCBnZXRDdXJyZW50U3RlcEluZGV4ID0gKCk6IG51bWJlciA9PiB7XG4gICAgc3dpdGNoIChkb3NzaWVyU3RhdGUpIHtcbiAgICAgIGNhc2UgRE9TU0lFUl9TVEFURVMuVE9fQlVJTEQ6XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgY2FzZSBET1NTSUVSX1NUQVRFUy5JTkNPTVBMRVRFOlxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgRE9TU0lFUl9TVEFURVMuQ09NUExFVEU6XG4gICAgICAgIHJldHVybiBpc0NvbXBsZXRlZCA/IHN0ZXBOYW1lcy5sZW5ndGggOiAyO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZXMgYSBzaW5nbGUgY29uZGl0aW9uIGFnYWluc3QgSHViU3BvdCByZWNvcmQgcHJvcGVydGllcy5cbiAgICogU3VwcG9ydHMgbXVsdGlwbGUgb3BlcmF0b3JzIGluY2x1ZGluZyAnaW4nIGZvciBtdWx0aS1zZWxlY3QgZmllbGRzLlxuICAgKi9cbiAgY29uc3QgZXZhbHVhdGVDb25kaXRpb24gPSAoY29uZGl0aW9uOiBEb2N1bWVudENvbmRpdGlvbiwgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgYW55Pik6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBwcm9wZXJ0eVZhbHVlID0gcHJvcGVydGllc1tjb25kaXRpb24ucHJvcGVydHldO1xuICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGZvdW5kS2V5ID0gT2JqZWN0LmtleXMocHJvcGVydGllcykuZmluZChrID0+IFxuICAgICAgICBrLnRvTG93ZXJDYXNlKCkgPT09IGNvbmRpdGlvbi5wcm9wZXJ0eS50b0xvd2VyQ2FzZSgpXG4gICAgICApO1xuICAgICAgaWYgKGZvdW5kS2V5KSB7XG4gICAgICAgIHByb3BlcnR5VmFsdWUgPSBwcm9wZXJ0aWVzW2ZvdW5kS2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvcFZhbHVlU3RyID0gcHJvcGVydHlWYWx1ZSA/IFN0cmluZyhwcm9wZXJ0eVZhbHVlKS50cmltKCkgOiAnJztcbiAgICBjb25zdCBjb25kaXRpb25WYWx1ZSA9IGNvbmRpdGlvbi52YWx1ZS50cmltKCk7XG4gICAgXG4gICAgLy8gRGVidWcgbG9nZ2luZyBmb3IgY29uZGl0aW9uIGV2YWx1YXRpb25cbiAgICBpZiAoY29uZGl0aW9uLnByb3BlcnR5ID09PSAnZG9taWNpbGVfXycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBldmFsdWF0ZUNvbmRpdGlvbiAtIGRvbWljaWxlX186Jywge1xuICAgICAgICBwcm9wZXJ0eTogY29uZGl0aW9uLnByb3BlcnR5LFxuICAgICAgICBvcGVyYXRvcjogY29uZGl0aW9uLm9wZXJhdG9yLFxuICAgICAgICBjb25kaXRpb25WYWx1ZSxcbiAgICAgICAgcHJvcFZhbHVlU3RyLFxuICAgICAgICBtYXRjaGVzOiBwcm9wVmFsdWVTdHIgPT09IGNvbmRpdGlvblZhbHVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbmRpdGlvbi5vcGVyYXRvcikge1xuICAgICAgY2FzZSAnZXF1YWxzJzpcbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZVN0ciA9PT0gY29uZGl0aW9uVmFsdWU7XG4gICAgICBjYXNlICdub3RfZXF1YWxzJzpcbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZVN0ciAhPT0gY29uZGl0aW9uVmFsdWU7XG4gICAgICBjYXNlICdjb250YWlucyc6XG4gICAgICAgIHJldHVybiBwcm9wVmFsdWVTdHIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb25kaXRpb25WYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGNhc2UgJ25vdF9jb250YWlucyc6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlU3RyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY29uZGl0aW9uVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICBjYXNlICdpbic6XG4gICAgICAgIC8vIEhhbmRsZXMgSHViU3BvdCBtdWx0aS1zZWxlY3QgZmllbGRzIHdoaWNoIGNhbiBiZTpcbiAgICAgICAgLy8gLSBTaW5nbGUgc3RyaW5nOiBcIlZhbHVlXCJcbiAgICAgICAgLy8gLSBTZW1pY29sb24tc2VwYXJhdGVkOiBcIlZhbHVlMTtWYWx1ZTJcIlxuICAgICAgICAvLyAtIEFycmF5OiBbXCJWYWx1ZTFcIiwgXCJWYWx1ZTJcIl1cbiAgICAgICAgaWYgKCFwcm9wZXJ0eVZhbHVlIHx8IHByb3BWYWx1ZVN0ciA9PT0gJycpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRDb25kaXRpb25WYWx1ZSA9IGNvbmRpdGlvblZhbHVlLnRyaW0oKTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnR5VmFsdWUgPSBwcm9wVmFsdWVTdHIudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHlWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcGVydHlWYWx1ZS5zb21lKHZhbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsID0gU3RyaW5nKHZhbCkudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRWYWwgPT09IG5vcm1hbGl6ZWRDb25kaXRpb25WYWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplRm9yQ29tcGFyaXNvbiA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgICAgcmV0dXJuIHN0ci50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZENvbmRpdGlvbiA9IG5vcm1hbGl6ZUZvckNvbXBhcmlzb24obm9ybWFsaXplZENvbmRpdGlvblZhbHVlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChub3JtYWxpemVkUHJvcGVydHlWYWx1ZS5pbmNsdWRlcygnOycpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gbm9ybWFsaXplZFByb3BlcnR5VmFsdWUuc3BsaXQoJzsnKS5tYXAodiA9PiBub3JtYWxpemVGb3JDb21wYXJpc29uKHYpKS5maWx0ZXIodiA9PiB2ICE9PSAnJyk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKHZhbCA9PiB2YWwgPT09IG5vcm1hbGl6ZWRDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAobm9ybWFsaXplZFByb3BlcnR5VmFsdWUuaW5jbHVkZXMoJywnKSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG5vcm1hbGl6ZWRQcm9wZXJ0eVZhbHVlLnNwbGl0KCcsJykubWFwKHYgPT4gbm9ybWFsaXplRm9yQ29tcGFyaXNvbih2KSkuZmlsdGVyKHYgPT4gdiAhPT0gJycpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZXMuc29tZSh2YWwgPT4gdmFsID09PSBub3JtYWxpemVkQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnR5ID0gbm9ybWFsaXplRm9yQ29tcGFyaXNvbihub3JtYWxpemVkUHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkUHJvcGVydHkgPT09IG5vcm1hbGl6ZWRDb25kaXRpb247XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhbGwgY29uZGl0aW9ucyBmb3IgYSBkb2N1bWVudCBhcmUgbWV0LlxuICAgKiBMb2dpYzogQ29uZGl0aW9ucyBvbiB0aGUgc2FtZSBwcm9wZXJ0eSB1c2UgT1IgKGFueSBtYXRjaCksXG4gICAqIGNvbmRpdGlvbnMgb24gZGlmZmVyZW50IHByb3BlcnRpZXMgdXNlIEFORCAoYWxsIGdyb3VwcyBtdXN0IG1hdGNoKS5cbiAgICovXG4gIGNvbnN0IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zID0gKGRvYzogRG9jdW1lbnQsIHByb3BlcnRpZXM6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBib29sZWFuID0+IHtcbiAgICBpZiAoIWRvYy5jb25kaXRpb25zIHx8IGRvYy5jb25kaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY29uZGl0aW9uc0J5UHJvcGVydHkgPSBuZXcgTWFwPHN0cmluZywgRG9jdW1lbnRDb25kaXRpb25bXT4oKTtcbiAgICBcbiAgICBkb2MuY29uZGl0aW9ucy5mb3JFYWNoKGNvbmRpdGlvbiA9PiB7XG4gICAgICBpZiAoIWNvbmRpdGlvbnNCeVByb3BlcnR5Lmhhcyhjb25kaXRpb24ucHJvcGVydHkpKSB7XG4gICAgICAgIGNvbmRpdGlvbnNCeVByb3BlcnR5LnNldChjb25kaXRpb24ucHJvcGVydHksIFtdKTtcbiAgICAgIH1cbiAgICAgIGNvbmRpdGlvbnNCeVByb3BlcnR5LmdldChjb25kaXRpb24ucHJvcGVydHkpIS5wdXNoKGNvbmRpdGlvbik7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRGVidWc6IGxvZyBjb25kaXRpb24gZXZhbHVhdGlvbiBmb3IgZG9jdW1lbnRzIHdpdGggZG9taWNpbGVfXyBvciBtdWx0aXBsZSBjb25kaXRpb25zXG4gICAgY29uc3QgaGFzTXVsdGlwbGVQcm9wZXJ0aWVzID0gY29uZGl0aW9uc0J5UHJvcGVydHkuc2l6ZSA+IDE7XG4gICAgY29uc3QgaGFzRG9taWNpbGVDb25kaXRpb24gPSBjb25kaXRpb25zQnlQcm9wZXJ0eS5oYXMoJ2RvbWljaWxlX18nKTtcbiAgICBcbiAgICBpZiAoaGFzTXVsdGlwbGVQcm9wZXJ0aWVzIHx8IGhhc0RvbWljaWxlQ29uZGl0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMgLSBEb2N1bWVudDonLCBkb2MubmFtZSk7XG4gICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMgLSBDb25kaXRpb25zIGJ5IHByb3BlcnR5OicsIFxuICAgICAgICBBcnJheS5mcm9tKGNvbmRpdGlvbnNCeVByb3BlcnR5LmVudHJpZXMoKSkubWFwKChbcHJvcCwgY29uZHNdKSA9PiAoe1xuICAgICAgICAgIHByb3BlcnR5OiBwcm9wLFxuICAgICAgICAgIGNvbmRpdGlvbnM6IGNvbmRzLm1hcChjID0+IGAke2Mub3BlcmF0b3J9ICR7Yy52YWx1ZX1gKSxcbiAgICAgICAgICBwcm9wZXJ0eVZhbHVlOiBwcm9wZXJ0aWVzW3Byb3BdXG4gICAgICAgIH0pKVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYWxsUHJvcGVydHlHcm91cHNNYXRjaCA9IEFycmF5LmZyb20oY29uZGl0aW9uc0J5UHJvcGVydHkuZW50cmllcygpKS5ldmVyeSgoW3Byb3BlcnR5LCBjb25kaXRpb25zXSkgPT4ge1xuICAgICAgY29uc3QgYW55TWF0Y2hlcyA9IGNvbmRpdGlvbnMuc29tZShjb25kaXRpb24gPT4ge1xuICAgICAgICByZXR1cm4gZXZhbHVhdGVDb25kaXRpb24oY29uZGl0aW9uLCBwcm9wZXJ0aWVzKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBEZWJ1ZyBmb3IgZG9taWNpbGVfXyBjb25kaXRpb25zXG4gICAgICBpZiAocHJvcGVydHkgPT09ICdkb21pY2lsZV9fJyAmJiBoYXNNdWx0aXBsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGNoZWNrRG9jdW1lbnRDb25kaXRpb25zIC0gZG9taWNpbGVfXyBncm91cDonLCB7XG4gICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgcHJvcGVydHlWYWx1ZTogcHJvcGVydGllc1twcm9wZXJ0eV0sXG4gICAgICAgICAgY29uZGl0aW9uczogY29uZGl0aW9ucy5tYXAoYyA9PiBjLnZhbHVlKSxcbiAgICAgICAgICBhbnlNYXRjaGVzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYW55TWF0Y2hlcztcbiAgICB9KTtcblxuICAgIGlmIChoYXNNdWx0aXBsZVByb3BlcnRpZXMgfHwgaGFzRG9taWNpbGVDb25kaXRpb24pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBjaGVja0RvY3VtZW50Q29uZGl0aW9ucyAtIFJlc3VsdCBmb3InLCBkb2MubmFtZSwgJzonLCBhbGxQcm9wZXJ0eUdyb3Vwc01hdGNoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsUHJvcGVydHlHcm91cHNNYXRjaDtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGljaCB0YWIgc2hvdWxkIGJlIHNob3duIGJhc2VkIG9uIHNvdXNfY2F0ZWdvcmllIHZhbHVlLlxuICAgKiBGaW5kcyBkb2N1bWVudHMgbWF0Y2hpbmcgdGhlIHNvdXNfY2F0ZWdvcmllIGFuZCByZXR1cm5zIHRoZWlyIHRhYiBwcm9wZXJ0eS5cbiAgICovXG4gIGNvbnN0IGdldFRhYkZvck5hdHVyZURlbWFuZGUgPSAobmF0dXJlRGVtYW5kZVZhbHVlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoIW5hdHVyZURlbWFuZGVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFRhYkZvck5hdHVyZURlbWFuZGU6IG5vIHZhbHVlIHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gTm9ybWFsaXplIHRoZSB2YWx1ZSBmb3IgY29tcGFyaXNvbiAodHJpbSwgbm9ybWFsaXplIHdoaXRlc3BhY2UsIGhhbmRsZSBjYXNlKVxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemUobmF0dXJlRGVtYW5kZVZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZ2V0VGFiRm9yTmF0dXJlRGVtYW5kZTogc2VhcmNoaW5nIGZvciB0YWIgd2l0aCB2YWx1ZTonLCBub3JtYWxpemVkVmFsdWUpO1xuICAgIFxuICAgIC8vIEZpbmQgZG9jdW1lbnRzIHRoYXQgaGF2ZSBhIGNvbmRpdGlvbiBtYXRjaGluZyB0aGlzIHNvdXNfY2F0ZWdvcmllXG4gICAgLy8gSWYgYSBkb2N1bWVudCBoYXMgbXVsdGlwbGUgdGFicywgZmluZCB3aGljaCB0YWIgY29ycmVzcG9uZHMgdG8gdGhpcyBjb25kaXRpb25cbiAgICBjb25zdCBtYXRjaGluZ0RvY3MgPSBET0NVTUVOVFNfQ09ORklHLmZpbHRlcihkb2MgPT4ge1xuICAgICAgaWYgKCFkb2MuY29uZGl0aW9ucyB8fCBkb2MuY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZG9jLmNvbmRpdGlvbnMuc29tZShjb25kaXRpb24gPT4ge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uLnByb3BlcnR5ID09PSAnc291c19jYXRlZ29yaWUnICYmIFxuICAgICAgICBjb25kaXRpb24ub3BlcmF0b3IgPT09ICdlcXVhbHMnICYmIFxuICAgICAgICBub3JtYWxpemUoY29uZGl0aW9uLnZhbHVlKSA9PT0gbm9ybWFsaXplZFZhbHVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKG1hdGNoaW5nRG9jcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBGaW5kIGEgZG9jdW1lbnQgdGhhdCBoYXMgdGhpcyBjb25kaXRpb24gYW5kIGJlbG9uZ3MgdG8gYSBzcGVjaWZpYyB0YWJcbiAgICAgIC8vIFByZWZlciBkb2N1bWVudHMgdGhhdCBvbmx5IGhhdmUgdGhpcyBjb25kaXRpb24gKG5vdCBtdWx0aXBsZSBjb25kaXRpb25zKVxuICAgICAgY29uc3QgZG9jV2l0aFNpbmdsZUNvbmRpdGlvbiA9IG1hdGNoaW5nRG9jcy5maW5kKGRvYyA9PiB7XG4gICAgICAgIGNvbnN0IHNvdXNDb25kaXRpb25zID0gZG9jLmNvbmRpdGlvbnMuZmlsdGVyKGMgPT4gXG4gICAgICAgICAgYy5wcm9wZXJ0eSA9PT0gJ3NvdXNfY2F0ZWdvcmllJyAmJiBjLm9wZXJhdG9yID09PSAnZXF1YWxzJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc291c0NvbmRpdGlvbnMubGVuZ3RoID09PSAxO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRvY1RvVXNlID0gZG9jV2l0aFNpbmdsZUNvbmRpdGlvbiB8fCBtYXRjaGluZ0RvY3NbMF07XG4gICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gRm91bmQgbWF0Y2hpbmcgZG9jdW1lbnQ6JywgZG9jVG9Vc2UubmFtZSwgJ3dpdGggdGFiOicsIGRvY1RvVXNlLnRhYik7XG4gICAgICBcbiAgICAgIC8vIElmIGRvY3VtZW50IGhhcyBtdWx0aXBsZSB0YWJzLCB0cnkgdG8gZmluZCB3aGljaCB0YWIgY29ycmVzcG9uZHMgdG8gdGhpcyBjb25kaXRpb25cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvY1RvVXNlLnRhYikgJiYgZG9jVG9Vc2UudGFiLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIGRvY3VtZW50IHRoYXQgT05MWSBoYXMgdGhpcyBjb25kaXRpb24gYW5kIGJlbG9uZ3MgdG8gbmF0dXJhbGlzYXRpb25fbWFyaWFnZSB0YWJcbiAgICAgICAgY29uc3QgbmF0dXJhbGlzYXRpb25Eb2MgPSBtYXRjaGluZ0RvY3MuZmluZChkb2MgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhYnMgPSBBcnJheS5pc0FycmF5KGRvYy50YWIpID8gZG9jLnRhYiA6IFtkb2MudGFiXTtcbiAgICAgICAgICByZXR1cm4gdGFicy5pbmNsdWRlcygnbmF0dXJhbGlzYXRpb25fbWFyaWFnZScpICYmIFxuICAgICAgICAgICAgICAgICAhdGFicy5pbmNsdWRlcygnZGVjcmV0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hdHVyYWxpc2F0aW9uRG9jICYmIG5vcm1hbGl6ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCduYXR1cmFsaXNhdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFRhYkZvck5hdHVyZURlbWFuZGU6IHVzaW5nIG5hdHVyYWxpc2F0aW9uX21hcmlhZ2UgdGFiIGZvciBuYXR1cmFsaXNhdGlvbiBjb25kaXRpb24nKTtcbiAgICAgICAgICByZXR1cm4gJ25hdHVyYWxpc2F0aW9uX21hcmlhZ2UnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgXCJUcm9uYyBjb21tdW4gZMOpY3JldFwiLCBwcmVmZXIgZGVjcmV0IHRhYlxuICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2TDqWNyZXQnKSB8fCBub3JtYWxpemVkVmFsdWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGVjcmV0JykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZ2V0VGFiRm9yTmF0dXJlRGVtYW5kZTogdXNpbmcgZGVjcmV0IHRhYiBmb3IgZMOpY3JldCBjb25kaXRpb24nKTtcbiAgICAgICAgICByZXR1cm4gJ2RlY3JldCc7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERlZmF1bHQgdG8gZmlyc3QgdGFiIGlmIHdlIGNhbid0IGRldGVybWluZVxuICAgICAgICBjb25zdCB0YWIgPSBnZXRUYWJWYWx1ZShkb2NUb1VzZS50YWIpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZ2V0VGFiRm9yTmF0dXJlRGVtYW5kZTogcmV0dXJuaW5nIGZpcnN0IHRhYjonLCB0YWIpO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0YWIgPSBnZXRUYWJWYWx1ZShkb2NUb1VzZS50YWIpO1xuICAgICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFRhYkZvck5hdHVyZURlbWFuZGU6IHJldHVybmluZyB0YWI6JywgdGFiKTtcbiAgICAgIHJldHVybiB0YWI7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBnZXRUYWJGb3JOYXR1cmVEZW1hbmRlOiBubyBtYXRjaGluZyBkb2N1bWVudCBmb3VuZCcpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhY3RpdmUgdGFiIElEIGJhc2VkIG9uIGN1cnJlbnQgc291c19jYXRlZ29yaWUuXG4gICAqIFJldHVybnMgdGhlIHRhYiB0aGF0IHNob3VsZCBiZSBzaG93biAobm90IFwiYXV0cmVcIikuXG4gICAqL1xuICBjb25zdCBnZXRBY3RpdmVUYWJJZCA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoIW5hdHVyZURlbWFuZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0YWJJZCA9IGdldFRhYkZvck5hdHVyZURlbWFuZGUobmF0dXJlRGVtYW5kZSk7XG4gICAgcmV0dXJuIHRhYklkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIGFuZCBzb3J0cyBkb2N1bWVudHMgdmlzaWJsZSBpbiB0aGUgY3VycmVudCB0YWIuXG4gICAqIEZpcnN0IHRhYiBpcyBkZXRlcm1pbmVkIGJ5IHNvdXNfY2F0ZWdvcmllIChmaW5kcyBkb2N1bWVudHMgbWF0Y2hpbmcgdGhhdCB2YWx1ZSBhbmQgdXNlcyB0aGVpciB0YWIgcHJvcGVydHkpLlxuICAgKiBcIkF1dHJlXCIgdGFiIHNob3dzIGRvY3VtZW50cyBmcm9tIHRoZSBmaXJzdCB0YWIgdGhhdCBkb24ndCBtYXRjaCBjb25kaXRpb25zLlxuICAgKi9cbiAgY29uc3QgZ2V0VmlzaWJsZURvY3VtZW50cyA9ICgpOiBEb2N1bWVudFtdID0+IHtcbiAgICBjb25zdCBhY3RpdmVUYWJJZCA9IGdldEFjdGl2ZVRhYklkKCk7XG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFZpc2libGVEb2N1bWVudHM6IGFjdGl2ZVRhYklkOicsIGFjdGl2ZVRhYklkLCAnc2VsZWN0ZWRUYWI6Jywgc2VsZWN0ZWRUYWIsICduYXR1cmVEZW1hbmRlOicsIG5hdHVyZURlbWFuZGUpO1xuICAgIFxuICAgIC8vIEVuc3VyZSBzb3VzX2NhdGVnb3JpZSBpcyBpbiByZWNvcmRQcm9wZXJ0aWVzIGZvciBjb25kaXRpb24gY2hlY2tpbmdcbiAgICBjb25zdCBwcm9wc0ZvckNvbmRpdGlvbnMgPSB7IC4uLnJlY29yZFByb3BlcnRpZXMgfTtcbiAgICBpZiAobmF0dXJlRGVtYW5kZSAmJiAhcHJvcHNGb3JDb25kaXRpb25zWydzb3VzX2NhdGVnb3JpZSddKSB7XG4gICAgICBwcm9wc0ZvckNvbmRpdGlvbnNbJ3NvdXNfY2F0ZWdvcmllJ10gPSBuYXR1cmVEZW1hbmRlO1xuICAgIH1cbiAgICBcbiAgICAvLyBEZWJ1ZzogbG9nIHByb3BlcnRpZXMgYmVpbmcgdXNlZCBmb3IgY29uZGl0aW9uIGNoZWNraW5nXG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFZpc2libGVEb2N1bWVudHM6IHJlY29yZFByb3BlcnRpZXMga2V5czonLCBPYmplY3Qua2V5cyhyZWNvcmRQcm9wZXJ0aWVzKSk7XG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFZpc2libGVEb2N1bWVudHM6IHByb3BzRm9yQ29uZGl0aW9ucyBkb21pY2lsZV9fOicsIHByb3BzRm9yQ29uZGl0aW9uc1snZG9taWNpbGVfXyddKTtcbiAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gZ2V0VmlzaWJsZURvY3VtZW50czogcHJvcHNGb3JDb25kaXRpb25zIHNvdXNfY2F0ZWdvcmllOicsIHByb3BzRm9yQ29uZGl0aW9uc1snc291c19jYXRlZ29yaWUnXSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1tEb2N1bWVudExpc3RdIGdldFZpc2libGVEb2N1bWVudHM6IHRvdGFsIGRvY3VtZW50czonLCBkb2N1bWVudHMubGVuZ3RoKTtcbiAgICBjb25zdCB2aXNpYmxlID0gZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4ge1xuICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcHJvcHNGb3JDb25kaXRpb25zKTtcbiAgICAgIFxuICAgICAgaWYgKHNlbGVjdGVkVGFiID09PSAnYXV0cmUnKSB7XG4gICAgICAgIC8vIFwiQXV0cmVcIiB0YWI6IHNob3cgZG9jdW1lbnRzIGZyb20gdGhlIGFjdGl2ZSB0YWIgdGhhdCBkb24ndCBtYXRjaCB0aGVpciBjb25kaXRpb25zXG4gICAgICAgIC8vIFVzZXIgY2FuIG1hbmFnZSB0aGVzZSBkb2N1bWVudHMgKHNldCBhcyByZXF1aXJlZCBvciByZW1vdmUgdGhlbSkgcmVnYXJkbGVzcyBvZiByZXF1aXJlZCBzdGF0dXNcbiAgICAgICAgaWYgKCFhY3RpdmVUYWJJZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRG9jdW1lbnQgbXVzdCBiZWxvbmcgdG8gdGhlIGFjdGl2ZSB0YWJcbiAgICAgICAgaWYgKCFkb2N1bWVudEJlbG9uZ3NUb1RhYihkb2MsIGFjdGl2ZVRhYklkKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBpZiBjb25kaXRpb25zIGFyZSBub3QgbWV0IChyZWdhcmRsZXNzIG9mIHJlcXVpcmVkIHN0YXR1cywgc28gdXNlciBjYW4gbWFuYWdlIHRoZW0pXG4gICAgICAgIGNvbnN0IHNob3VsZFNob3cgPSAhY29uZGl0aW9uc01ldDtcbiAgICAgICAgaWYgKHNob3VsZFNob3cpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0RvY3VtZW50TGlzdF0gRG9jdW1lbnQgaW4gYXV0cmUgdGFiOicsIGRvYy5uYW1lLCAnY29uZGl0aW9uc01ldDonLCBjb25kaXRpb25zTWV0LCAncmVxdWlyZWQ6JywgZG9jLnJlcXVpcmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkU2hvdztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9yIHRoZSBhY3RpdmUgdGFiOiBzaG93IE9OTFkgZG9jdW1lbnRzIHRoYXQgbWF0Y2ggdGhlaXIgY29uZGl0aW9uc1xuICAgICAgLy8gRG9jdW1lbnRzIHRoYXQgZG9uJ3QgbWF0Y2ggZ28gdG8gXCJhdXRyZVwiIHRhYiwgcmVnYXJkbGVzcyBvZiByZXF1aXJlZCBzdGF0dXNcbiAgICAgIC8vIFVzZSBhY3RpdmVUYWJJZCBpZiBzZWxlY3RlZFRhYiBtYXRjaGVzIGl0LCBvdGhlcndpc2UgdXNlIHNlbGVjdGVkVGFiXG4gICAgICBjb25zdCB0YWJUb0NoZWNrID0gKGFjdGl2ZVRhYklkICYmIHNlbGVjdGVkVGFiID09PSBhY3RpdmVUYWJJZCkgPyBhY3RpdmVUYWJJZCA6IHNlbGVjdGVkVGFiO1xuICAgICAgXG4gICAgICBpZiAoIWRvY3VtZW50QmVsb25nc1RvVGFiKGRvYywgdGFiVG9DaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaG93IE9OTFkgaWYgY29uZGl0aW9ucyBhcmUgbWV0IChub3QgaWYgbWFudWFsbHkgcmVxdWlyZWQgYnV0IGNvbmRpdGlvbnMgZG9uJ3QgbWF0Y2gpXG4gICAgICBjb25zdCBzaG91bGRTaG93ID0gY29uZGl0aW9uc01ldDtcbiAgICAgIGlmIChzaG91bGRTaG93KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBEb2N1bWVudCB2aXNpYmxlOicsIGRvYy5uYW1lLCAndGFiOicsIGRvYy50YWIsICd0YWJUb0NoZWNrOicsIHRhYlRvQ2hlY2ssICdjb25kaXRpb25zTWV0OicsIGNvbmRpdGlvbnNNZXQsICdyZXF1aXJlZDonLCBkb2MucmVxdWlyZWQpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEJlbG9uZ3NUb1RhYihkb2MsIHRhYlRvQ2hlY2spKSB7XG4gICAgICAgIC8vIERlYnVnOiBsb2cgZG9jdW1lbnRzIHRoYXQgYmVsb25nIHRvIHRhYiBidXQgYXJlbid0IHNob3duICh0aGV5IHNob3VsZCBiZSBpbiBcImF1dHJlXCIpXG4gICAgICAgIGNvbnNvbGUubG9nKCdbRG9jdW1lbnRMaXN0XSBEb2N1bWVudCBOT1QgdmlzaWJsZSAoY29uZGl0aW9ucyBub3QgbWV0LCBzaG91bGQgYmUgaW4gYXV0cmUpOicsIGRvYy5uYW1lLCAnY29uZGl0aW9uczonLCBkb2MuY29uZGl0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkU2hvdztcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBmaWx0ZXJlZCA9IHNlYXJjaFRlcm0udHJpbSgpIFxuICAgICAgPyB2aXNpYmxlLmZpbHRlcihkb2MgPT4gXG4gICAgICAgICAgZG9jLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgIClcbiAgICAgIDogdmlzaWJsZTtcbiAgICBcbiAgICByZXR1cm4gZmlsdGVyZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3Qgb3JkZXJBID0gZ2V0T3JkZXJGb3JUYWIoYSwgc2VsZWN0ZWRUYWIpO1xuICAgICAgY29uc3Qgb3JkZXJCID0gZ2V0T3JkZXJGb3JUYWIoYiwgc2VsZWN0ZWRUYWIpO1xuICAgICAgcmV0dXJuIG9yZGVyQSAtIG9yZGVyQjtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBwcm9ncmVzcyBiYXNlZCBvbiBhbGwgcmVxdWlyZWQgZG9jdW1lbnRzIGFjcm9zcyBhbGwgdGFicy5cbiAgICogQSBkb2N1bWVudCBpcyByZXF1aXJlZCBpZiBjb25kaXRpb25zIGFyZSBtZXQgT1IgbWFudWFsbHkgc2V0IHRvIHJlcXVpcmVkLlxuICAgKi9cbiAgY29uc3QgY2FsY3VsYXRlUHJvZ3Jlc3MgPSAoZG9jczogRG9jdW1lbnRbXSk6IHsgcHJvdmlkZWQ6IG51bWJlcjsgcmVxdWlyZWQ6IG51bWJlcjsgcGVyY2VudGFnZTogbnVtYmVyIH0gPT4ge1xuICAgIGNvbnN0IHJlcXVpcmVkRG9jcyA9IGRvY3MuZmlsdGVyKGRvYyA9PiB7XG4gICAgICBpZiAoZG9jLnJlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGRvYy5jb25kaXRpb25zICYmIGRvYy5jb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9uc01ldCA9IGNoZWNrRG9jdW1lbnRDb25kaXRpb25zKGRvYywgcmVjb3JkUHJvcGVydGllcyk7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25zTWV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHByb3ZpZGVkRG9jcyA9IHJlcXVpcmVkRG9jcy5maWx0ZXIoZG9jID0+IGRvYy5wcm92aWRlZCk7XG4gICAgY29uc3QgcmVxdWlyZWRDb3VudCA9IHJlcXVpcmVkRG9jcy5sZW5ndGg7XG4gICAgY29uc3QgcHJvdmlkZWRDb3VudCA9IHByb3ZpZGVkRG9jcy5sZW5ndGg7XG4gICAgY29uc3QgcGVyY2VudGFnZSA9IHJlcXVpcmVkQ291bnQgPiAwID8gTWF0aC5yb3VuZCgocHJvdmlkZWRDb3VudCAvIHJlcXVpcmVkQ291bnQpICogMTAwKSA6IDEwMDtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcHJvdmlkZWQ6IHByb3ZpZGVkQ291bnQsXG4gICAgICByZXF1aXJlZDogcmVxdWlyZWRDb3VudCxcbiAgICAgIHBlcmNlbnRhZ2VcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckRvY3VtZW50c1RhYmxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpc2libGUgPSBnZXRWaXNpYmxlRG9jdW1lbnRzKCk7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBjYWxjdWxhdGVQcm9ncmVzcyh2aXNpYmxlKTtcbiAgICBcbiAgICBpZiAodmlzaWJsZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFbXB0eVN0YXRlIFxuICAgICAgICAgIHRpdGxlPXtzZWFyY2hUZXJtLnRyaW0oKSA/IFwiQXVjdW4gZG9jdW1lbnQgdHJvdXbDqVwiIDogXCJBdWN1biBkb2N1bWVudCBkYW5zIGNldCBvbmdsZXRcIn1cbiAgICAgICAgICBsYXlvdXQ9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgID5cbiAgICAgICAgICB7c2VhcmNoVGVybS50cmltKCkgJiYgKFxuICAgICAgICAgICAgPFRleHQ+RXNzYXlleiBkZSBtb2RpZmllciB2b3RyZSByZWNoZXJjaGUgb3UgZGUgdsOpcmlmaWVyIGxlcyBmaWx0cmVzLjwvVGV4dD5cbiAgICAgICAgICApfVxuICAgICAgICA8L0VtcHR5U3RhdGU+XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwibWRcIj5cbiAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwicm93XCIgZ2FwPVwic21cIiBhbGlnbj1cImVuZFwiIGp1c3RpZnk9XCJiZXR3ZWVuXCI+XG4gICAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwicm93XCIgZ2FwPVwic21cIiBhbGlnbj1cImVuZFwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIG5hbWU9XCJkb2N1bWVudC1zZWFyY2hcIlxuICAgICAgICAgICAgICBsYWJlbD1cIlJlY2hlcmNoZXIgdW4gZG9jdW1lbnRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRhcGV6IGxlIG5vbSBkdSBkb2N1bWVudC4uLlwiXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2VhcmNoVGVybSh2YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3NlYXJjaFRlcm0gJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2VhcmNoVGVybSgnJyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEVmZmFjZXJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBvdmVybGF5PXtcbiAgICAgICAgICAgICAgPE1vZGFsIGlkPVwic2VuZC1lbWFpbC1tb2RhbFwiIHRpdGxlPVwiRW52b3llciB1biBlbWFpbFwiIHdpZHRoPVwibWRcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxCb2R5PlxuICAgICAgICAgICAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwibWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRleHQgZm9ybWF0PXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICBEb2N1bWVudHMgbWFucXVhbnRzIMOgIGVudm95ZXIgOlxuICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdEb2NzID0gZ2V0TWlzc2luZ0RvY3VtZW50c0xpc3QoZG9jdW1lbnRzLCByZWNvcmRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobWlzc2luZ0RvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdGl0bGU9XCJBdWN1biBkb2N1bWVudCBtYW5xdWFudFwiIHZhcmlhbnQ9XCJzdWNjZXNzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG91cyBsZXMgZG9jdW1lbnRzIHJlcXVpcyBvbnQgw6l0w6kgZm91cm5pcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJjb2x1bW5cIiBnYXA9XCJ4c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttaXNzaW5nRG9jcy5tYXAoKGRvY05hbWUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cInJvd1wiIGdhcD1cInNtXCIgYWxpZ249XCJzdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZvcm1hdD17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggKyAxfS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+e2RvY05hbWV9PC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbmRleCA8IG1pc3NpbmdEb2NzLmxlbmd0aCAtIDEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIGRpc3RhbmNlPVwieHNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmxleCBkaXJlY3Rpb249XCJjb2x1bW5cIiBnYXA9XCJzbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgZm9ybWF0PXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsIDoge21pc3NpbmdEb2NzLmxlbmd0aH0gZG9jdW1lbnR7bWlzc2luZ0RvY3MubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBtYW5xdWFudHttaXNzaW5nRG9jcy5sZW5ndGggPiAxID8gJ3MnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgIDwvTW9kYWxCb2R5PlxuICAgICAgICAgICAgICAgIDxNb2RhbEZvb3Rlcj5cbiAgICAgICAgICAgICAgICAgIDxGbGV4IGp1c3RpZnk9XCJlbmRcIiBnYXA9XCJzbVwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWN0aW9ucy5jbG9zZU92ZXJsYXkoJ3NlbmQtZW1haWwtbW9kYWwnKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEFubnVsZXJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHVwZGF0ZVNlbmRNYWlsUHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuY2xvc2VPdmVybGF5KCdzZW5kLWVtYWlsLW1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dFbWFpbFN1Y2Nlc3ModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2hvd0VtYWlsU3VjY2VzcyhmYWxzZSksIDMwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBFbnZveWVyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgIDwvTW9kYWxGb290ZXI+XG4gICAgICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBFbnZveWVyIHVuIGVtYWlsXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvRmxleD5cbiAgICAgICAgXG4gICAgICAgIHtwcm9ncmVzcy5yZXF1aXJlZCA+IDAgJiYgKFxuICAgICAgICAgIDxQcm9ncmVzc0JhclxuICAgICAgICAgICAgdGl0bGU9XCJQcm9ncmVzc2lvbiBkZXMgZG9jdW1lbnRzXCJcbiAgICAgICAgICAgIHZhbHVlPXtwcm9ncmVzcy5wcm92aWRlZH1cbiAgICAgICAgICAgIG1heFZhbHVlPXtwcm9ncmVzcy5yZXF1aXJlZH1cbiAgICAgICAgICAgIHNob3dQZXJjZW50YWdlPXt0cnVlfVxuICAgICAgICAgICAgdmFsdWVEZXNjcmlwdGlvbj17YCR7cHJvZ3Jlc3MucHJvdmlkZWR9IHN1ciAke3Byb2dyZXNzLnJlcXVpcmVkfSBkb2N1bWVudHMgZm91cm5pc2B9XG4gICAgICAgICAgICB2YXJpYW50PXtwcm9ncmVzcy5wZXJjZW50YWdlID09PSAxMDAgPyAnc3VjY2VzcycgOiBwcm9ncmVzcy5wZXJjZW50YWdlID49IDUwID8gJ3dhcm5pbmcnIDogJ2Rhbmdlcid9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtpc0NoYW5nZWQgJiYgKFxuICAgICAgICAgIDxGbGV4IGp1c3RpZnk9XCJjZW50ZXJcIiBnYXA9XCJzbVwiIGFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3Jlc2V0Q2hhbmdlc30gdmFyaWFudD1cImRlc3RydWN0aXZlXCI+XG4gICAgICAgICAgICAgIEFubnVsZXJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzYXZlRG9jdW1lbnRDaGFuZ2VzKCl9IHZhcmlhbnQ9XCJwcmltYXJ5XCIgZGlzYWJsZWQ9e3NhdmluZ30+XG4gICAgICAgICAgICAgIHtzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnQuLi4nIDogJ0VucmVnaXN0cmVyIGxlcyBtb2RpZmljYXRpb25zJ31cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxGbGV4IGRpcmVjdGlvbj1cInJvd1wiIGdhcD1cImxnXCIgYWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICA8RmxleD5cbiAgICAgICAgICAgIDxUZXh0IGZvcm1hdD17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+Tm9tIGR1IGRvY3VtZW50PC9UZXh0PlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCI+XG4gICAgICAgICAgICA8VGV4dCBmb3JtYXQ9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19PlJlcXVpczwvVGV4dD5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPEZsZXgganVzdGlmeT1cImNlbnRlclwiPlxuICAgICAgICAgICAgPFRleHQgZm9ybWF0PXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5Gb3VybmlzPC9UZXh0PlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgPC9GbGV4PlxuICAgICAgICA8RGl2aWRlciAvPlxuICAgIFxuICAgICAgICB7dmlzaWJsZVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5yZXF1aXJlZCAmJiAhYi5yZXF1aXJlZCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKCFhLnJlcXVpcmVkICYmIGIucmVxdWlyZWQpIHJldHVybiAxO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvcmRlckEgPSBnZXRPcmRlckZvclRhYihhLCBzZWxlY3RlZFRhYik7XG4gICAgICAgICAgICBjb25zdCBvcmRlckIgPSBnZXRPcmRlckZvclRhYihiLCBzZWxlY3RlZFRhYik7XG4gICAgICAgICAgICBpZiAob3JkZXJBICE9PSBvcmRlckIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyQSAtIG9yZGVyQjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAubWFwKChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBjb25kaXRpb25zTWV0ID0gY2hlY2tEb2N1bWVudENvbmRpdGlvbnMoZG9jLCByZWNvcmRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgcmVxdWlyZWRWYWx1ZTtcbiAgICAgICAgICBsZXQgaXNSZXF1aXJlZEJ5Q29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRvYy5jb25kaXRpb25zICYmIGRvYy5jb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChjb25kaXRpb25zTWV0KSB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICBpc1JlcXVpcmVkQnlDb25kaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVxdWlyZWRWYWx1ZSA9IGRvYy5yZXF1aXJlZDtcbiAgICAgICAgICAgICAgaXNSZXF1aXJlZEJ5Q29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSBkb2MucmVxdWlyZWQ7XG4gICAgICAgICAgICBpc1JlcXVpcmVkQnlDb25kaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtkb2MuaWR9PlxuICAgICAgICAgIDxGbGV4XG4gICAgICAgICAgICBkaXJlY3Rpb249XCJyb3dcIlxuICAgICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgICBnYXA9XCJsZ1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZsZXg+XG4gICAgICAgICAgICAgIDxUZXh0Pntkb2MubmFtZX08L1RleHQ+XG4gICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIGtleT17YHJlcS0ke2RvYy5pZH0tJHtyZXF1aXJlZFZhbHVlfWB9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cmVxdWlyZWRWYWx1ZSA9PT0gdHJ1ZX1cbiAgICAgICAgICAgICAgICByZWFkT25seT17aXNSZXF1aXJlZEJ5Q29uZGl0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtpc1JlcXVpcmVkQnlDb25kaXRpb24gPyAoKSA9PiB7fSA6IGhhbmRsZUNoZWNrYm94VG9nZ2xlKGRvYy5pZCwgJ3JlcXVpcmVkJyl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgIGtleT17YHByb3YtJHtkb2MuaWR9LSR7ZG9jLnByb3ZpZGVkfWB9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ZG9jLnByb3ZpZGVkID09PSB0cnVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGVja2JveFRvZ2dsZShkb2MuaWQsICdwcm92aWRlZCcpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L0ZsZXg+XG4gICAgKTtcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8RmxleCBqdXN0aWZ5PVwiY2VudGVyXCI+XG4gICAgICAgIDxMb2FkaW5nU3Bpbm5lciBsYWJlbD1cIkxvYWRpbmcgZG9jdW1lbnQgY2hlY2tsaXN0Li4uXCIgLz5cbiAgICAgIDwvRmxleD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94PlxuICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwibWRcIj5cbiAgICAgICAgPEZsZXggZGlyZWN0aW9uPVwicm93XCIgZ2FwPVwic21cIiBhbGlnbj1cImNlbnRlclwiPlxuICAgICAgICAgICAgPFRhZyB2YXJpYW50PXtnZXREb3NzaWVyU3RhdGVTdHlsZShkb3NzaWVyU3RhdGUpfT57ZG9zc2llclN0YXRlfTwvVGFnPlxuICAgICAgICAgICAge2lzQ29tcGxldGVkID9cbiAgICAgICAgICAgICA8VGFnIHZhcmlhbnQ9XCJzdWNjZXNzXCI+4pyTIENvbXBsZXRlZDwvVGFnPiA6IDxUYWcgdmFyaWFudD1cImVycm9yXCI+w5cgSW5jb21wbGV0ZTwvVGFnPn1cbiAgICAgICAgPC9GbGV4PlxuICAgIFxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxBbGVydFxuICAgICAgICAgICAgdGl0bGU9XCJFcnJvclwiXG4gICAgICAgICAgICB2YXJpYW50PVwiZXJyb3JcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICApfVxuICAgIFxuICAgICAgICB7c2hvd1N1Y2Nlc3MgJiYgKFxuICAgICAgICAgPEFsZXJ0XG4gICAgICAgICAgIHRpdGxlPVwiU3VjY8Ooc1wiXG4gICAgICAgICAgIHZhcmlhbnQ9XCJzdWNjZXNzXCJcbiAgICAgICAgID5cbiAgICAgICAgICAgRG9jdW1lbnRzIG1pcyDDoCBqb3VyIGF2ZWMgc3VjY8Ooc1xuICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtzaG93RW1haWxTdWNjZXNzICYmIChcbiAgICAgICAgIDxBbGVydFxuICAgICAgICAgICB0aXRsZT1cIlN1Y2PDqHNcIlxuICAgICAgICAgICB2YXJpYW50PVwic3VjY2Vzc1wiXG4gICAgICAgICA+XG4gICAgICAgICAgIEVtYWlsIGVudm95w6kgYXZlYyBzdWNjw6hzXG4gICAgICAgICA8L0FsZXJ0PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPFN0ZXBJbmRpY2F0b3JcbiAgICAgICAgICBjdXJyZW50U3RlcD17Z2V0Q3VycmVudFN0ZXBJbmRleCgpfVxuICAgICAgICAgIHN0ZXBOYW1lcz17c3RlcE5hbWVzfVxuICAgICAgICAgIGRpcmVjdGlvbj1cImhvcml6b250YWxcIlxuICAgICAgICAgIGNpcmNsZVNpemU9XCJtZFwiXG4gICAgICAgIC8+XG4gICAgICAgIFxuICAgICAgICA8RGl2aWRlciAvPlxuICAgICAgICBcbiAgICAgICAgPEJveD5cbiAgICAgICAgPFRhYnNcbiAgICAgICAgICB2YXJpYW50PVwiZW5jbG9zZWRcIlxuICAgICAgICAgIHNlbGVjdGVkPXtzZWxlY3RlZFRhYn1cbiAgICAgICAgICAgIG9uU2VsZWN0ZWRDaGFuZ2U9eyhpZCkgPT4ge1xuICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhYihpZCBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICBzZXRTZWFyY2hUZXJtKCcnKTsgLy8gQ2xlYXIgc2VhcmNoIHdoZW4gc3dpdGNoaW5nIHRhYnNcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgZmlsbD17ZmFsc2V9XG4gICAgICAgID5cbiAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyB0aGUgYWN0aXZlIHRhYiAoYmFzZWQgb24gc291c19jYXRlZ29yaWUpICsgXCJhdXRyZVwiIHRhYlxuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFiSWQgPSBnZXRBY3RpdmVUYWJJZCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGFiczogb25seSBzaG93IGFjdGl2ZSB0YWIgKyBcImF1dHJlXCJcbiAgICAgICAgICAgIC8vIElmIG5vIGFjdGl2ZSB0YWIgZm91bmQgYnV0IG5hdHVyZURlbWFuZGUgaXMgc2V0LCB0cnkgdG8gZmluZCBpdCBmcm9tIHJlY29yZFByb3BlcnRpZXNcbiAgICAgICAgICAgIGxldCBmaW5hbEFjdGl2ZVRhYklkID0gYWN0aXZlVGFiSWQ7XG4gICAgICAgICAgICBpZiAoIWZpbmFsQWN0aXZlVGFiSWQgJiYgbmF0dXJlRGVtYW5kZSkge1xuICAgICAgICAgICAgICBmaW5hbEFjdGl2ZVRhYklkID0gZ2V0VGFiRm9yTmF0dXJlRGVtYW5kZShuYXR1cmVEZW1hbmRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHN0aWxsIG5vIGFjdGl2ZSB0YWIgYW5kIHdlIGhhdmUgcmVjb3JkUHJvcGVydGllcywgdHJ5IHRvIGdldCBzb3VzX2NhdGVnb3JpZSBmcm9tIHRoZXJlXG4gICAgICAgICAgICBpZiAoIWZpbmFsQWN0aXZlVGFiSWQgJiYgcmVjb3JkUHJvcGVydGllc1snc291c19jYXRlZ29yaWUnXSkge1xuICAgICAgICAgICAgICBmaW5hbEFjdGl2ZVRhYklkID0gZ2V0VGFiRm9yTmF0dXJlRGVtYW5kZShyZWNvcmRQcm9wZXJ0aWVzWydzb3VzX2NhdGVnb3JpZSddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHRhYnNUb1Nob3c7XG4gICAgICAgICAgICBpZiAoZmluYWxBY3RpdmVUYWJJZCkge1xuICAgICAgICAgICAgICB0YWJzVG9TaG93ID0gVEFCU19DT05GSUcuZmlsdGVyKHRhYiA9PiBcbiAgICAgICAgICAgICAgICB0YWIuaWQgPT09ICdhdXRyZScgfHwgdGFiLmlkID09PSBmaW5hbEFjdGl2ZVRhYklkXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBGYWxsYmFjazogc2hvdyBhbGwgdGFicyBpZiB3ZSBjYW4ndCBkZXRlcm1pbmUgdGhlIGFjdGl2ZSB0YWJcbiAgICAgICAgICAgICAgdGFic1RvU2hvdyA9IFRBQlNfQ09ORklHO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdGFic1RvU2hvdy5tYXAodGFiID0+IChcbiAgICAgICAgICAgICAgPFRhYiBrZXk9e3RhYi5pZH0gdGFiSWQ9e3RhYi5pZH0gdGl0bGU9e3RhYi50aXRsZX0+XG4gICAgICAgICAgICAgICAgPEJveD5cbiAgICAgICAgICAgICAgICAgIHtyZW5kZXJEb2N1bWVudHNUYWJsZSgpfVxuICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICA8L1RhYj5cbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIH0pKCl9XG4gICAgICAgIDwvVGFicz5cbiAgICAgICAgPC9Cb3g+XG4gICAgICA8L0ZsZXg+XG4gICAgPC9Cb3g+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFeHRlbnNpb247XG4iXSwibmFtZXMiOlsiY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQiLCJTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIl9hIiwiZG9zc2llclN0YXRlIiwidGFiIiwic2hvdWxkU2hvdyJdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sV0FBUyxVQUFVLHlCQUF5QjtBQUMvQyxXQUFPLEtBQUssVUFBVSx1QkFBdUI7QUFBQSxFQUNqRDtBQUNPLFdBQVMsV0FBVyxNQUFNLFNBQVM7QUFDdEMsV0FBTyxLQUFLLFdBQVcsTUFBTSxPQUFPO0FBQUEsRUFDeEM7QUFDTyxXQUFTLE1BQU0sS0FBSyxTQUFTO0FBQ2hDLFdBQU8sS0FBSyxRQUFRLEtBQUssT0FBTztBQUFBLEVBQ3BDO0FBQ08sUUFBTSxVQUFVO0FBQUEsSUFDbkIsUUFBUTtBQUFBLElBQ1I7QUFBQSxJQUNBO0FBQUEsRUFDSjtBQ0pPLFFBQU0sUUFBUUEsTUFBQUEsMkJBQTJCLE9BQU87QUFVaEQsUUFBTSxTQUFTQSxNQUFBQSwyQkFBMkIsVUFBVTtBQUFBLElBQ3ZELGVBQWUsQ0FBQyxTQUFTO0FBQUEsRUFDN0IsQ0FBQztBQVF3QkEsUUFBQUEs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S0FBQSxFQUFJLFNBQVEsUUFBQSxHQUFRLGNBQVksQ0FDakYsR0FFQyxTQUNDLGdCQUFBQSxPQUFBO0FBQUEsTUFBQztBQUFBLE1BQUE7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLFNBQVE7QUFBQSxNQUFBO0FBQUEsTUFFUDtBQUFBLElBQUEsR0FJSixlQUNBLGdCQUFBQSxPQUFBO0FBQUEsTUFBQztBQUFBLE1BQUE7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLFNBQVE7QUFBQSxNQUFBO0FBQUEsTUFDVDtBQUFBLElBQUEsR0FLRCxvQkFDQSxnQkFBQUEsT0FBQTtBQUFBLE1BQUM7QUFBQSxNQUFBO0FBQUEsUUFDQyxPQUFNO0FBQUEsUUFDTixTQUFRO0FBQUEsTUFBQTtBQUFBLE1BQ1Q7QUFBQSxJQUFBLEdBS0YsZ0JBQUFBLE9BQUE7QUFBQSxNQUFDO0FBQUEsTUFBQTtBQUFBLFFBQ0MsYUFBYSxvQkFBQTtBQUFBLFFBQ2I7QUFBQSxRQUNBLFdBQVU7QUFBQSxRQUNWLFlBQVc7QUFBQSxNQUFBO0FBQUEsSUFBQSxHQUdiLGdCQUFBQSxPQUFBLGNBQUMsU0FBQSxJQUFRLHdDQUVSLEtBQUEsTUFDRCxnQkFBQUEsT0FBQTtBQUFBLE1BQUM7QUFBQSxNQUFBO0FBQUEsUUFDQyxTQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDUixrQkFBa0IsQ0FBQyxPQUFPO0FBQ3hCLHlCQUFlLEVBQVk7QUFDM0Isd0JBQWMsRUFBRTtBQUFBLFFBQ2xCO0FBQUEsUUFDRixNQUFNO0FBQUEsTUFBQTtBQUFBLE9BRUosTUFBTTtBQUVOLGNBQU0sY0FBYyxlQUFBO0FBSXBCLFlBQUksbUJBQW1CO0FBQ3ZCLFlBQUksQ0FBQyxvQkFBb0IsZUFBZTtBQUN0Qyw2QkFBbUIsdUJBQXVCLGFBQWE7QUFBQSxRQUN6RDtBQUVBLFlBQUksQ0FBQyxvQkFBb0IsaUJBQWlCLGdCQUFnQixHQUFHO0FBQzNELDZCQUFtQix1QkFBdUIsaUJBQWlCLGdCQUFnQixDQUFDO0FBQUEsUUFDOUU7QUFFQSxZQUFJO0FBQ0osWUFBSSxrQkFBa0I7QUFDcEIsdUJBQWEsWUFBWTtBQUFBLFlBQU8sQ0FBQSxRQUM5QixJQUFJLE9BQU8sV0FBVyxJQUFJLE9BQU87QUFBQSxVQUFBO0FBQUEsUUFFckMsT0FBTztBQUVMLHVCQUFhO0FBQUEsUUFDZjtBQUVBLGVBQU8sV0FBVyxJQUFJLENBQUEsNkNBQ25CLEtBQUEsRUFBSSxLQUFLLElBQUksSUFBSSxPQUFPLElBQUksSUFBSSxPQUFPLElBQUksU0FDMUMsZ0JBQUFBLE9BQUEsY0FBQyxXQUNFLHFCQUFBLENBQ0gsQ0FDRixDQUNEO0FBQUEsTUFDSCxHQUFBO0FBQUEsSUFBRyxDQUVMLENBQ0YsQ0FDRjtBQUFBLEVBRUo7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDJdfQ==
